ARM GAS  /tmp/ccRGbSIg.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"Icm207xxCtrl.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.sensor_type_2_android_sensor,"ax",%progbits
  18              		.align	1
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu fpv4-sp-d16
  24              	sensor_type_2_android_sensor:
  25              	.LFB12:
  26              		.file 1 "Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c"
   1:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** /*
   2:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c ****  * ________________________________________________________________________________________________
   3:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c ****  * Copyright (c) 2015-2015 InvenSense Inc. All rights reserved.
   4:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c ****  *
   5:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c ****  * This software, related documentation and any modifications thereto (collectively “Software”)
   6:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c ****  * to InvenSense and its licensors' intellectual property rights under U.S. and international copyr
   7:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c ****  * and other intellectual property rights laws.
   8:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c ****  *
   9:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c ****  * InvenSense and its licensors retain all intellectual property and proprietary rights in and to t
  10:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c ****  * and any use, reproduction, disclosure or distribution of the Software without an express license
  11:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c ****  * from InvenSense is strictly prohibited.
  12:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c ****  *
  13:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c ****  * EXCEPT AS OTHERWISE PROVIDED IN A LICENSE AGREEMENT BETWEEN THE PARTIES, THE SOFTWARE IS
  14:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c ****  * PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED
  15:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c ****  * TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT.
  16:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c ****  * EXCEPT AS OTHERWISE PROVIDED IN A LICENSE AGREEMENT BETWEEN THE PARTIES, IN NO EVENT SHALL
  17:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c ****  * INVENSENSE BE LIABLE FOR ANY DIRECT, SPECIAL, INDIRECT, INCIDENTAL, OR CONSEQUENTIAL DAMAGES, OR
  18:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c ****  * DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT
  19:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c ****  * NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE
  20:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c ****  * OF THE SOFTWARE.
  21:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c ****  * ________________________________________________________________________________________________
  22:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c ****  */
  23:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
  24:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #include "Icm207xxCtrl.h"
  25:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #include "Icm207xxDefs.h"
  26:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #include "Icm207xx.h"
  27:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
  28:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** //#include "Invn/EmbUtils/DataConverter.h"
  29:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** //#include "Invn/EmbUtils/Message.h"
  30:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
  31:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** // Determines which base sensor needs to be on based upon s->android_sensor_mask[0]
  32:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #define INV_NEEDS_ACCEL_MASK    (1L<<ANDROID_SENSOR_ACCELEROMETER)
ARM GAS  /tmp/ccRGbSIg.s 			page 2


  33:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #define INV_NEEDS_GYRO_MASK     (1L<<ANDROID_SENSOR_GYROSCOPE)
  34:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #define INV_NEEDS_COMPASS_MASK  (1L<<ANDROID_SENSOR_MAGNETOMETER)
  35:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #define INV_NEEDS_OIS_MASK      (1L<<ANDROID_SENSOR_OIS)
  36:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #define INV_NEEDS_TEMP_MASK     (1L<<ANDROID_SENSOR_TEMPERATURE)
  37:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #define INV_NEEDS_FSYNC_MASK    (1L<<ANDROID_SENSOR_FSYNC_EVENT)
  38:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
  39:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #define GYRO_AVAILABLE      0x01
  40:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #define ACCEL_AVAILABLE     0x02
  41:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #define OIS_AVAILABLE       0x04
  42:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #define SECONDARY_AVAILABLE 0x08
  43:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #define HIGH_ODR_REQUESTED  0x10
  44:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #define TEMP_AVAILABLE      0x20
  45:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #define COMPASS_AVAILABLE   0x40
  46:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
  47:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
  48:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** /* Convert public sensor type for Icm207xx to internal sensor id (Android)
  49:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c ****  */
  50:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** static uint8_t sensor_type_2_android_sensor(enum inv_icm207xx_sensor sensor)
  51:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** {
  27              		.loc 1 51 0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              		@ link register save eliminated.
  32              	.LVL0:
  52:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	switch(sensor) {
  33              		.loc 1 52 0
  34 0000 0528     		cmp	r0, #5
  35 0002 0ED8     		bhi	.L2
  36 0004 DFE800F0 		tbb	[pc, r0]
  37              	.L4:
  38 0008 03       		.byte	(.L3-.L4)/2
  39 0009 0F       		.byte	(.L10-.L4)/2
  40 000a 0B       		.byte	(.L6-.L4)/2
  41 000b 05       		.byte	(.L7-.L4)/2
  42 000c 07       		.byte	(.L8-.L4)/2
  43 000d 09       		.byte	(.L9-.L4)/2
  44              		.p2align 1
  45              	.L3:
  53:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case INV_ICM207XX_SENSOR_ACCEL:       return ANDROID_SENSOR_ACCELEROMETER;
  46              		.loc 1 53 0
  47 000e 0020     		movs	r0, #0
  48              	.LVL1:
  49 0010 7047     		bx	lr
  50              	.LVL2:
  51              	.L7:
  54:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case INV_ICM207XX_SENSOR_GYRO:        return ANDROID_SENSOR_GYROSCOPE;
  55:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case INV_ICM207XX_SENSOR_FSYNC_EVENT: return ANDROID_SENSOR_FSYNC_EVENT;
  52              		.loc 1 55 0
  53 0012 0520     		movs	r0, #5
  54              	.LVL3:
  55 0014 7047     		bx	lr
  56              	.LVL4:
  57              	.L8:
  56:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case INV_ICM207XX_SENSOR_OIS:         return ANDROID_SENSOR_OIS;
  58              		.loc 1 56 0
  59 0016 0320     		movs	r0, #3
ARM GAS  /tmp/ccRGbSIg.s 			page 3


  60              	.LVL5:
  61 0018 7047     		bx	lr
  62              	.LVL6:
  63              	.L9:
  57:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case INV_ICM207XX_SENSOR_TEMPERATURE: return ANDROID_SENSOR_TEMPERATURE;
  64              		.loc 1 57 0
  65 001a 0420     		movs	r0, #4
  66              	.LVL7:
  67 001c 7047     		bx	lr
  68              	.LVL8:
  69              	.L6:
  58:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case INV_ICM207XX_SENSOR_COMPASS:     return ANDROID_SENSOR_MAGNETOMETER;
  70              		.loc 1 58 0
  71 001e 0220     		movs	r0, #2
  72              	.LVL9:
  73 0020 7047     		bx	lr
  74              	.LVL10:
  75              	.L2:
  59:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	default:                                    return ANDROID_SENSOR_NUM_MAX;
  76              		.loc 1 59 0
  77 0022 0620     		movs	r0, #6
  78              	.LVL11:
  79 0024 7047     		bx	lr
  80              	.LVL12:
  81              	.L10:
  54:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case INV_ICM207XX_SENSOR_FSYNC_EVENT: return ANDROID_SENSOR_FSYNC_EVENT;
  82              		.loc 1 54 0
  83 0026 0120     		movs	r0, #1
  84              	.LVL13:
  60:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
  61:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** }
  85              		.loc 1 61 0
  86 0028 7047     		bx	lr
  87              		.cfi_endproc
  88              	.LFE12:
  90              		.section	.text.is_android_sensor_enabled,"ax",%progbits
  91              		.align	1
  92              		.syntax unified
  93              		.thumb
  94              		.thumb_func
  95              		.fpu fpv4-sp-d16
  97              	is_android_sensor_enabled:
  98              	.LFB13:
  62:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
  63:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** static uint32_t is_android_sensor_enabled(struct inv_icm207xx * s, uint8_t androidSensor)
  64:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** {
  99              		.loc 1 64 0
 100              		.cfi_startproc
 101              		@ args = 0, pretend = 0, frame = 0
 102              		@ frame_needed = 0, uses_anonymous_args = 0
 103              		@ link register save eliminated.
 104              	.LVL14:
  65:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	return (s->android_sensor_mask & (1L << (androidSensor & 0x1F)));
 105              		.loc 1 65 0
 106 0000 006D     		ldr	r0, [r0, #80]
 107              	.LVL15:
 108 0002 01F01F01 		and	r1, r1, #31
ARM GAS  /tmp/ccRGbSIg.s 			page 4


 109              	.LVL16:
 110 0006 0123     		movs	r3, #1
 111 0008 03FA01F1 		lsl	r1, r3, r1
  66:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** }
 112              		.loc 1 66 0
 113 000c 0840     		ands	r0, r0, r1
 114 000e 7047     		bx	lr
 115              		.cfi_endproc
 116              	.LFE13:
 118              		.section	.text.MinDelayGenActual,"ax",%progbits
 119              		.align	1
 120              		.syntax unified
 121              		.thumb
 122              		.thumb_func
 123              		.fpu fpv4-sp-d16
 125              	MinDelayGenActual:
 126              	.LFB28:
  67:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
  68:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** static int apply_accel_fsr(struct inv_icm207xx * s)
  69:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** {
  70:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	int result = 0;
  71:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	uint8_t accel_config_1_reg;
  72:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
  73:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	// Set FSR
  74:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	result |= inv_icm207xx_mems_read_reg(s, MPUREG_ACCEL_CONFIG, 1, &accel_config_1_reg);
  75:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	accel_config_1_reg &= ~BITS_ACCEL_FS_SEL;//0xE7;
  76:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	accel_config_1_reg |= (s->base_state.accel_fullscale << BIT_POS_ACCEL_FS_SEL);
  77:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	result |= inv_icm207xx_mems_write_reg(s, MPUREG_ACCEL_CONFIG, 1, &accel_config_1_reg);
  78:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
  79:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	return result;
  80:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** }
  81:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
  82:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** static int apply_accel_bw(struct inv_icm207xx * s)
  83:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** {
  84:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	int result = 0;
  85:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	uint8_t accel_config_2_reg;
  86:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	uint8_t dec2_cfg;
  87:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
  88:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	// Set averaging
  89:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	switch(s->base_state.accel_averaging) {
  90:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case 1:  dec2_cfg = 0; break;
  91:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case 4:  dec2_cfg = 0; break;
  92:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case 8:  dec2_cfg = 1; break;
  93:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case 16: dec2_cfg = 2; break;
  94:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case 32: dec2_cfg = 3; break;
  95:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	default: dec2_cfg = 0; break;
  96:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
  97:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
  98:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	result |= inv_icm207xx_mems_read_reg(s, MPUREG_ACCEL_CONFIG_2, 1, &accel_config_2_reg);
  99:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	accel_config_2_reg &= ~BITS_DEC2_CFG;
 100:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	accel_config_2_reg &= ~BITS_A_DLPF_CFG;
 101:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 102:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	// Set DEC2 and A_DLPF_CFG
 103:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if(inv_icm207xx_get_chip_power_state(s) & CHIP_LP_ENABLE) // accel LP mode
 104:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	{
 105:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		accel_config_2_reg |= 7; // A_DLPF_CFG = 7 
 106:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		accel_config_2_reg |= (dec2_cfg << BIT_POS_DEC2_CFG);
ARM GAS  /tmp/ccRGbSIg.s 			page 5


 107:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
 108:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	else // accel LN mode
 109:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	{
 110:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		if(s->base_state.accel_bw > 6)
 111:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			accel_config_2_reg |= MPU_ABW_218; // 0 < A_DLPF_CFG < 7
 112:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		else
 113:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			accel_config_2_reg |= s->base_state.accel_bw;
 114:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		dec2_cfg = 0;		
 115:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		accel_config_2_reg |= (dec2_cfg << BIT_POS_DEC2_CFG);
 116:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
 117:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	result |= inv_icm207xx_mems_write_reg(s, MPUREG_ACCEL_CONFIG_2, 1, &accel_config_2_reg);
 118:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 119:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	return result;
 120:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** }
 121:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 122:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** static int apply_accel_bias(struct inv_icm207xx * s)
 123:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** {
 124:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	int i, axis_sign;
 125:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	int rc = -1;
 126:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	uint16_t accel_reg_otp[3], sensor_bias[3];
 127:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	uint8_t axis, d[2];
 128:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 129:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	// test if self-test bias has been computed
 130:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if (!s->selftest_done)
 131:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		return 0;
 132:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 133:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if(!s->accel_reg_bias_computed) {
 134:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		// read accelerometer bias registers
 135:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		rc = inv_icm207xx_mems_read_reg(s, MPUREG_XA_OFFS_H, 2, d);
 136:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		accel_reg_otp[0] = ((uint16_t)d[0] << 8) | d[1];
 137:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		rc = inv_icm207xx_mems_read_reg(s, MPUREG_YA_OFFS_H, 2, d);
 138:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		accel_reg_otp[1] = ((uint16_t)d[0] << 8) | d[1];
 139:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		rc = inv_icm207xx_mems_read_reg(s, MPUREG_ZA_OFFS_H, 2, d);
 140:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		accel_reg_otp[2] = ((uint16_t)d[0] << 8) | d[1];
 141:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 142:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		// determine gravity axis (by default on LN values)
 143:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		axis = 0;
 144:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		axis_sign = 1;
 145:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		if (INV_ABS(s->accel_ois_st_bias[1]) > INV_ABS(s->accel_ois_st_bias[0]))
 146:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			axis = 1;
 147:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		if (INV_ABS(s->accel_ois_st_bias[2]) > INV_ABS(s->accel_ois_st_bias[axis]))
 148:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			axis = 2;
 149:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		if(s->accel_ois_st_bias[axis] < 0)
 150:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			axis_sign = -1;
 151:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 152:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		// compute register bias value according to power mode (LP/LN)
 153:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		for(i = 0; i < 3; i++) {
 154:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			// convert from 2g to 16g (1LSB = 0.49mg) on 15bits register and mask bit0
 155:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			// note : there is no need to shift the register value as the register is 0.98mg steps
 156:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			s->accel_reg_bias[i] = ((uint16_t)(accel_reg_otp[i] - (s->accel_st_bias[i] / 8)) & ~1);
 157:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			s->accel_ois_reg_bias[i] = ((uint16_t)(accel_reg_otp[i] - (s->accel_ois_st_bias[i] / 8)) & ~1);
 158:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			// remove gravity for axis
 159:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			if(i == axis) {
 160:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->accel_reg_bias[i] += ((DEF_ST_SCALE / DEF_ST_ACCEL_FS) / 8) * axis_sign; 
 161:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->accel_ois_reg_bias[i] += ((DEF_ST_SCALE / DEF_ST_ACCEL_FS) / 8) * axis_sign; 
 162:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			}
 163:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		}
ARM GAS  /tmp/ccRGbSIg.s 			page 6


 164:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		s->accel_reg_bias_computed = 1;
 165:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
 166:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 167:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	//get bias value according to power mode
 168:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if((s->power_state == PowerStateAccLPState) || (s->power_state == PowerState6AxisLPState)) {
 169:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		for(i = 0; i < 3; i++)
 170:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			sensor_bias[i] = s->accel_reg_bias[i];
 171:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	} else if((s->power_state == PowerStateAccLNState) || (s->power_state == PowerState6AxisLNState)) 
 172:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		for(i = 0; i < 3; i++)
 173:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			sensor_bias[i] = s->accel_ois_reg_bias[i];
 174:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	} else
 175:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		return rc;
 176:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 177:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	d[0] = (sensor_bias[0] >> 8) & 0xff;
 178:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	d[1] = (sensor_bias[0] & 0xff);
 179:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	rc = inv_icm207xx_mems_write_reg(s, MPUREG_XA_OFFS_H, 2, d);
 180:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 181:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	d[0] = (sensor_bias[1] >> 8) & 0xff;
 182:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	d[1] = sensor_bias[1] & 0xff;
 183:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	rc |= inv_icm207xx_mems_write_reg(s, MPUREG_YA_OFFS_H, 2, d);
 184:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 185:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	d[0] = (sensor_bias[2] >> 8) & 0xff;
 186:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	d[1] = sensor_bias[2] & 0xff;
 187:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	rc |= inv_icm207xx_mems_write_reg(s, MPUREG_ZA_OFFS_H, 2, d);
 188:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 189:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	return rc;
 190:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** }
 191:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 192:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** static int apply_gyr_fsr_bw(struct inv_icm207xx * s)
 193:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** {
 194:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	int result = 0;
 195:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	uint8_t data;
 196:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	uint8_t gyro_config_1_reg;
 197:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	uint8_t g_avgcfg;
 198:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 199:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	// Set FSR
 200:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	result |= inv_icm207xx_mems_read_reg(s, MPUREG_GYRO_CONFIG, 1, &gyro_config_1_reg);
 201:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	gyro_config_1_reg &= ~BITS_GYRO_FS_SEL;
 202:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	gyro_config_1_reg |= (inv_icm207xx_get_gyro_fullscale(s)<< BIT_POS_GYRO_FS_SEL);
 203:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	result |= inv_icm207xx_mems_write_reg(s, MPUREG_GYRO_CONFIG, 1, &gyro_config_1_reg);
 204:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 205:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	// Set averaging
 206:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	switch(s->base_state.gyro_averaging) {
 207:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case 1:   g_avgcfg = 0; break;
 208:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case 2:   g_avgcfg = 1; break;
 209:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case 4:   g_avgcfg = 2; break;
 210:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case 8:   g_avgcfg = 3; break;
 211:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case 16:  g_avgcfg = 4; break;
 212:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case 32:  g_avgcfg = 5; break;
 213:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case 64:  g_avgcfg = 6; break;
 214:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case 128: g_avgcfg = 7; break;
 215:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	default:  g_avgcfg = 0; break;
 216:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
 217:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 218:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	result |= inv_icm207xx_mems_read_reg(s, MPUREG_LP_CONFIG, 1, &data);
 219:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	data &= ~BITS_G_AVGCFG;
 220:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	data |= (g_avgcfg<<BIT_POS_G_AVGCFG);
ARM GAS  /tmp/ccRGbSIg.s 			page 7


 221:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	result |= inv_icm207xx_mems_write_reg(s, MPUREG_LP_CONFIG, 1, &data);
 222:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 223:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	// Set DLPF_CFG
 224:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	result |= inv_icm207xx_mems_read_reg(s, MPUREG_CONFIG, 1, &data);
 225:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	data &= ~BITS_DLPF_CFG; // Clear bits[2:0]
 226:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	data |= inv_icm207xx_get_gyro_bandwidth(s);
 227:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	result |= inv_icm207xx_mems_write_reg(s, MPUREG_CONFIG, 1, &data);
 228:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 229:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	return result;
 230:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** }
 231:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 232:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** static int apply_gyr_bias(struct inv_icm207xx * s)
 233:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** {
 234:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	int i;
 235:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	int rc = -1;
 236:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	int sensor_bias[3];
 237:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	uint8_t data[2];
 238:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 239:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	// test if self-test bias has been computed
 240:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if (!s->selftest_done)
 241:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			return 0;
 242:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 243:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	for(i = 0; i < 3; i++) {
 244:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 245:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		// get bias value according to power mode
 246:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		if((s->power_state == PowerStateGyrLPState) || (s->power_state == PowerState6AxisLPState))
 247:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			sensor_bias[i] = s->gyro_st_bias[i];
 248:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		else if((s->power_state == PowerStateGyrLNState) || (s->power_state == PowerState6AxisLNState))
 249:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			sensor_bias[i] = s->gyro_ois_st_bias[i];
 250:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		else
 251:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			return rc;
 252:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 253:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		// convert bias value from 250dps to 1000dps
 254:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		sensor_bias[i] = - sensor_bias[i] / 4;
 255:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
 256:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 257:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	data[0] = (sensor_bias[0] >> 8) & 0xff;
 258:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	data[1] = sensor_bias[0] & 0xff;
 259:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	rc = inv_icm207xx_mems_write_reg(s, MPUREG_XG_OFFS_USRH, 2, data);
 260:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 261:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	data[0] = (sensor_bias[1] >> 8) & 0xff;
 262:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	data[1] = sensor_bias[1] & 0xff;
 263:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	rc |= inv_icm207xx_mems_write_reg(s, MPUREG_YG_OFFS_USRH, 2, data);
 264:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 265:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	data[0] = (sensor_bias[2] >> 8) & 0xff;
 266:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	data[1] = sensor_bias[2] & 0xff;
 267:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	rc |= inv_icm207xx_mems_write_reg(s, MPUREG_ZG_OFFS_USRH, 2, data);
 268:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 269:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	return rc;
 270:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** }
 271:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 272:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** static int enable_interrupt(struct inv_icm207xx * s, int bit_mask)
 273:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** {
 274:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	int result = 0;
 275:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	uint8_t data;
 276:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 277:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	result |= inv_icm207xx_mems_read_reg(s, MPUREG_INT_ENABLE, 1, &data);
ARM GAS  /tmp/ccRGbSIg.s 			page 8


 278:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 279:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if ((bit_mask == OIS_AVAILABLE) || !bit_mask)
 280:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data &= ~BIT_DATA_RDY_INT_EN; // clear data ready interrupt
 281:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	else
 282:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data |= BIT_DATA_RDY_INT_EN; // Set data ready interrupt
 283:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 284:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	result |= inv_icm207xx_mems_write_reg(s, MPUREG_INT_ENABLE, 1, &data);
 285:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 286:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	return result;
 287:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** }
 288:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 289:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** int inv_icm207xx_has_data_ready(struct inv_icm207xx * s)
 290:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** {
 291:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	uint8_t int_status;
 292:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 293:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	const int rc = inv_icm207xx_read_reg_one(s, REG_INT_STATUS, &int_status);
 294:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 295:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if(rc == 0 && (int_status & BIT_DATA_RDY_INT)) {
 296:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		return 1;
 297:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
 298:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 299:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	return rc;
 300:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** }
 301:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 302:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** int inv_icm207xx_get_int_status(struct inv_icm207xx * s, uint8_t * int_status)
 303:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** {
 304:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	return inv_icm207xx_read_reg_one(s, REG_INT_STATUS, int_status);
 305:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** }
 306:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 307:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** int inv_icm207xx_check_drdy(struct inv_icm207xx * s, uint8_t int_status)
 308:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** {
 309:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	(void)s;
 310:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 311:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if(int_status & BIT_DATA_RDY_INT)
 312:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		return 1;
 313:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 314:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	return 0;
 315:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** }
 316:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 317:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** int inv_icm207xx_check_wom_status(struct inv_icm207xx * s, uint8_t int_status)
 318:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** {
 319:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	int wom_data = 0;
 320:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 321:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	(void)s;
 322:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 323:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if(int_status & BIT_WOM_X_INT)
 324:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		wom_data |= 0x1;
 325:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if(int_status & BIT_WOM_Y_INT)
 326:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		wom_data |= 0x2;
 327:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if(int_status & BIT_WOM_Z_INT)
 328:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		wom_data |= 0x4;
 329:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 330:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	return wom_data;
 331:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** }
 332:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 333:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** int inv_icm207xx_poll_sensor_data_reg(struct inv_icm207xx * s, int16_t acc_data[3], int16_t * temp_
 334:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** {
ARM GAS  /tmp/ccRGbSIg.s 			page 9


 335:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	int rc;
 336:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	uint8_t data[14];
 337:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	uint8_t  reg    = MPUREG_ACCEL_XOUT_H;
 338:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	uint8_t  len    = 14; /* includes temp reg */
 339:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	uint8_t  offset = 0;
 340:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 341:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	const int acc_on = inv_icm207xx_is_sensor_enabled(s, INV_ICM207XX_SENSOR_ACCEL);
 342:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	const int gyro_on = inv_icm207xx_is_sensor_enabled(s, INV_ICM207XX_SENSOR_GYRO);
 343:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	const int temp_on = inv_icm207xx_is_sensor_enabled(s, INV_ICM207XX_SENSOR_TEMPERATURE);
 344:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 345:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if(acc_on && !gyro_on) {
 346:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		reg    = MPUREG_ACCEL_XOUT_H;
 347:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		len    = 6;
 348:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		offset = 0;
 349:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		if(temp_on)
 350:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			len = 8;
 351:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
 352:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	else if(!acc_on && gyro_on) {
 353:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		if(temp_on) {
 354:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			reg    = MPUREG_TEMP_XOUT_H;
 355:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			len    = 8;
 356:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			offset = 6;
 357:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		} else {
 358:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			reg    = MPUREG_GYRO_XOUT_H;
 359:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			len    = 6;
 360:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			offset = 8;
 361:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		}
 362:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
 363:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 364:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if((rc = inv_icm207xx_read_reg(s, reg, &data[offset], len)) != 0)
 365:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		return rc;
 366:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 367:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if(acc_on) {
 368:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 369:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		/* raw sensor data output is in big endian */
 370:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		acc_data[0] = (data[0] << 8) | data[1];
 371:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		acc_data[1] = (data[2] << 8) | data[3];
 372:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		acc_data[2] = (data[4] << 8) | data[5];
 373:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 374:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		rc |= (1 << INV_ICM207XX_SENSOR_ACCEL);
 375:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
 376:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 377:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if(temp_on) {
 378:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 379:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		*temp_data = (data[0+6] << 8) | data[1+6];
 380:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 381:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		rc |= (1 << INV_ICM207XX_SENSOR_TEMPERATURE);
 382:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
 383:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 384:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if(gyro_on) {
 385:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 386:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		gyro_data[0] = (data[0+8] << 8) | data[1+8];
 387:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		gyro_data[1] = (data[2+8] << 8) | data[3+8];
 388:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		gyro_data[2] = (data[4+8] << 8) | data[5+8];
 389:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 390:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		rc |= (1 << INV_ICM207XX_SENSOR_GYRO);
 391:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
ARM GAS  /tmp/ccRGbSIg.s 			page 10


 392:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 393:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	return rc;
 394:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** }
 395:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 396:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** int inv_icm207xx_poll_fifo_data_setup(struct inv_icm207xx * s,
 397:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		struct inv_icm207xx_fifo_states * states, uint8_t int_status)
 398:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** {
 399:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if ((MEMS_CHIP == HW_ICM20602)||(MEMS_CHIP == HW_ICM20690)||(MEMS_CHIP == HW_ICM20603)||(MEMS_CHIP
 400:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	int rc;
 401:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	uint8_t data[2];
 402:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 403:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	states->sensor_on_mask = 0;
 404:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	states->overflow       = 0;
 405:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	states->packet_count_i = 0;
 406:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	states->packet_count   = 0;
 407:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	states->packet_size    = 0;
 408:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 409:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if(inv_icm207xx_is_sensor_enabled(s, INV_ICM207XX_SENSOR_ACCEL)) {
 410:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		states->sensor_on_mask |= (1 << INV_ICM207XX_SENSOR_ACCEL);
 411:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		states->packet_size += ACCEL_DATA_SIZE;
 412:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
 413:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 414:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if(inv_icm207xx_is_sensor_enabled(s, INV_ICM207XX_SENSOR_GYRO)) {
 415:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		states->sensor_on_mask |= (1 << INV_ICM207XX_SENSOR_GYRO);
 416:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		states->packet_size += GYRO_DATA_SIZE;
 417:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
 418:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	
 419:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if ((MEMS_CHIP == HW_ICM20602)||(MEMS_CHIP == HW_ICM20603))
 420:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if(inv_icm207xx_is_sensor_enabled(s, INV_ICM207XX_SENSOR_ACCEL) ||
 421:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	   inv_icm207xx_is_sensor_enabled(s, INV_ICM207XX_SENSOR_GYRO) ) {
 422:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		states->packet_size += TEMP_DATA_SIZE;
 423:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
 424:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if(inv_icm207xx_is_sensor_enabled(s, INV_ICM207XX_SENSOR_TEMPERATURE)) {
 425:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		states->sensor_on_mask |= (1 << INV_ICM207XX_SENSOR_TEMPERATURE);
 426:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
 427:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 428:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 429:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if ((MEMS_CHIP == HW_ICM20690)||(MEMS_CHIP == HW_ICM207XX)||(MEMS_CHIP == HW_ICM20609))
 430:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if(inv_icm207xx_is_sensor_enabled(s, INV_ICM207XX_SENSOR_TEMPERATURE)) {
 431:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		states->sensor_on_mask |= (1 << INV_ICM207XX_SENSOR_TEMPERATURE);
 432:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		states->packet_size += TEMP_DATA_SIZE;
 433:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
 434:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 435:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if (MEMS_CHIP == HW_ICM20690)
 436:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if(inv_icm207xx_is_sensor_enabled(s, INV_ICM207XX_SENSOR_COMPASS)) {
 437:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		states->sensor_on_mask |= (1 << INV_ICM207XX_SENSOR_COMPASS);
 438:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		states->packet_size += inv_icm207xx_get_compass_bytes(s);
 439:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
 440:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 441:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 442:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if(int_status & BIT_FIFO_OVERFLOW) {
 443:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		uint16_t i, sensor_on_mask = states->sensor_on_mask;
 444:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		states->overflow = 1;
 445:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		/* restart all sensors active sensor */
 446:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		for(i = 0; sensor_on_mask != 0 ; ++i) {
 447:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			if(sensor_on_mask & 1) {
 448:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				inv_icm207xx_enable_sensor(s, (enum inv_icm207xx_sensor)i, 0);
ARM GAS  /tmp/ccRGbSIg.s 			page 11


 449:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				inv_icm207xx_enable_sensor(s, (enum inv_icm207xx_sensor)i, 1);
 450:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			}
 451:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			sensor_on_mask >>= 1;
 452:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		}
 453:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 454:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		return 1;
 455:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
 456:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 457:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if((rc = inv_icm207xx_read_reg(s, MPUREG_FIFO_COUNTH, data, 2)) != 0)
 458:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		return rc;
 459:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 460:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	states->packet_count = (data[0] << 8) | data[1]; /* FIFO record mode */
 461:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 462:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	return 0;
 463:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #else
 464:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	/* For 20602, do some dummy setup to fake FIFO reading */
 465:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 466:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	states->sensor_on_mask = 0;
 467:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	states->overflow       = 0;
 468:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	states->packet_count_i = 0;
 469:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	states->packet_size    = 0;
 470:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	states->packet_count   = 0;
 471:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 472:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if(int_status & BIT_DATA_RDY_INT) {
 473:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		states->packet_count  = 1;
 474:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
 475:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 476:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	(void)s;
 477:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 478:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	return 0;
 479:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 480:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** }
 481:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 482:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 483:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** int inv_icm207xx_poll_fifo_data(struct inv_icm207xx * s,
 484:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		struct inv_icm207xx_fifo_states * states, int16_t acc_data[3],
 485:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		int16_t * temp_data, int16_t gyro_data[3], int16_t compass_data[3])
 486:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** {
 487:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if ((MEMS_CHIP == HW_ICM20602)||(MEMS_CHIP == HW_ICM20690)||(MEMS_CHIP == HW_ICM20603)||(MEMS_CHIP
 488:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if(states->packet_count_i < states->packet_count) {
 489:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		static int repeated_mems_data = 0;
 490:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		int rc;
 491:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		uint8_t data[ACCEL_DATA_SIZE + TEMP_DATA_SIZE + GYRO_DATA_SIZE + COMPASS_MAX_DATA_SIZE];
 492:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		uint8_t idx = 0;
 493:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if (MEMS_CHIP == HW_ICM20690)
 494:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		static int repeated_compass_data = 0;
 495:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		uint8_t d[COMPASS_MAX_DATA_SIZE];
 496:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		uint8_t *p;
 497:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #else
 498:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		(void)compass_data;
 499:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 500:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 501:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		if((rc = inv_icm207xx_read_reg(s, MPUREG_FIFO_R_W, data, states->packet_size)) != 0) {
 502:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			/* sensor data is in FIFO according to FIFO_COUNT but failed to read FIFO,
 503:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				   reset FIFO and try next chance */
 504:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			inv_icm207xx_reset_fifo(s);
 505:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			return rc;
ARM GAS  /tmp/ccRGbSIg.s 			page 12


 506:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		}
 507:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 508:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		if(states->sensor_on_mask & (1 << INV_ICM207XX_SENSOR_ACCEL)) {
 509:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			if(!s->dropped_data[INV_ICM207XX_SENSOR_ACCEL]) {
 510:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				if(!repeated_mems_data) {
 511:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 					/* raw sensor data output is in big endian */
 512:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 					acc_data[0] = (data[0] << 8) | data[1];
 513:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 					acc_data[1] = (data[2] << 8) | data[3];
 514:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 					acc_data[2] = (data[4] << 8) | data[5];
 515:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 516:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 					rc |= (1 << INV_ICM207XX_SENSOR_ACCEL);
 517:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				}
 518:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			}
 519:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			else 
 520:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->dropped_data[INV_ICM207XX_SENSOR_ACCEL]--;
 521:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 522:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			idx += ACCEL_DATA_SIZE;
 523:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		}
 524:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 525:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if ((MEMS_CHIP == HW_ICM20602)||(MEMS_CHIP == HW_ICM20603))
 526:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		if(states->sensor_on_mask) {
 527:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			/* raw sensor data output is in big endian */
 528:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			*temp_data = (data[0+idx] << 8) | data[1+idx];
 529:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 530:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			// Only notify caller that the temperature is available if temperature is acutally enabled.
 531:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			if(states->sensor_on_mask & (1 << INV_ICM207XX_SENSOR_TEMPERATURE)) {
 532:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				if(!s->dropped_data[INV_ICM207XX_SENSOR_TEMPERATURE])
 533:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 					rc |= (1 << INV_ICM207XX_SENSOR_TEMPERATURE);
 534:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				else
 535:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 					s->dropped_data[INV_ICM207XX_SENSOR_TEMPERATURE]--;
 536:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			}
 537:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			idx += TEMP_DATA_SIZE;
 538:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		}
 539:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 540:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 541:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if ((MEMS_CHIP == HW_ICM20690)||(MEMS_CHIP == HW_ICM207XX)||(MEMS_CHIP == HW_ICM20609))
 542:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		if(states->sensor_on_mask & (1 << INV_ICM207XX_SENSOR_TEMPERATURE)) {
 543:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			if(!repeated_mems_data) {
 544:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				if(!s->dropped_data[INV_ICM207XX_SENSOR_TEMPERATURE]) {
 545:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 					/* raw sensor data output is in big endian */
 546:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 					*temp_data = (data[0+idx] << 8) | data[1+idx];
 547:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 548:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 					rc |= (1 << INV_ICM207XX_SENSOR_TEMPERATURE);
 549:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				} else {
 550:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 					s->dropped_data[INV_ICM207XX_SENSOR_TEMPERATURE]--;
 551:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				}
 552:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			}
 553:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			idx += TEMP_DATA_SIZE;
 554:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		}
 555:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 556:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 557:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		if(states->sensor_on_mask & (1 << INV_ICM207XX_SENSOR_GYRO)) {
 558:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			if(!s->dropped_data[INV_ICM207XX_SENSOR_GYRO]) {
 559:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				if(!repeated_mems_data) {
 560:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 					gyro_data[0] = (data[0+idx] << 8) | data[1+idx];
 561:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 					gyro_data[1] = (data[2+idx] << 8) | data[3+idx];
 562:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 					gyro_data[2] = (data[4+idx] << 8) | data[5+idx];
ARM GAS  /tmp/ccRGbSIg.s 			page 13


 563:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 564:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 					rc |= (1 << INV_ICM207XX_SENSOR_GYRO);
 565:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				}
 566:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			}
 567:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			else
 568:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->dropped_data[INV_ICM207XX_SENSOR_GYRO]--;
 569:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 570:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			idx += GYRO_DATA_SIZE;
 571:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		}
 572:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		
 573:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if (MEMS_CHIP == HW_ICM20690)
 574:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		if(states->sensor_on_mask & (1 << INV_ICM207XX_SENSOR_COMPASS)) {
 575:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			if(!repeated_compass_data) {
 576:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				p = &data[idx];
 577:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				inv_icm207xx_get_compass_data(s, p, d);
 578:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				compass_data[0] = (d[0] << 8) | d[1];
 579:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				compass_data[1] = (d[2] << 8) | d[3];
 580:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				compass_data[2] = (d[4] << 8) | d[5];
 581:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 582:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				rc |= (1 << INV_ICM207XX_SENSOR_COMPASS);
 583:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			}
 584:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			repeated_compass_data = (repeated_compass_data+1) % (s->secondary_state.i2c_mst_dly+1);
 585:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			idx += inv_icm207xx_get_compass_bytes(s);
 586:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		}
 587:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 588:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 589:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		repeated_mems_data = (repeated_mems_data+1) % (s->base_state.sample_repeat_cnt);
 590:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		states->packet_count_i += 1;
 591:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 592:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		return rc;
 593:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
 594:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	else {
 595:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		return 0;
 596:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
 597:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #else
 598:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	(void)compass_data;
 599:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 600:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	/* just read normal register */
 601:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if(states->packet_count_i < states->packet_count) {
 602:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		states->packet_count_i += 1;
 603:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		return inv_icm207xx_poll_sensor_data_reg(s, acc_data, temp_data, gyro_data);
 604:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
 605:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	else {
 606:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		return 0;
 607:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
 608:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 609:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** }
 610:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 611:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** int inv_icm207xx_enable_mems(struct inv_icm207xx * s, int bit_mask, uint16_t smplrt_divider)
 612:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** {
 613:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	int result = 0;
 614:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 615:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if (MEMS_CHIP == HW_ICM20690)
 616:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	// Configure ois_enable bit
 617:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	uint8_t data = 0;
 618:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	uint8_t fs_sel = 0;
 619:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	result |= inv_icm207xx_mems_read_reg(s, MPUREG_USER_CTRL_NEW, 1, &data);
ARM GAS  /tmp/ccRGbSIg.s 			page 14


 620:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 621:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if(bit_mask & OIS_AVAILABLE) {
 622:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		// Set FSR
 623:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_mems_read_reg(s, MPUREG_ACCEL_CONFIG, 1, &fs_sel);
 624:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		fs_sel &= ~BITS_ACCEL_FS_SEL_OIS;
 625:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		fs_sel |= (s->base_state.accel_ois_fullscale);
 626:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_mems_write_reg(s, MPUREG_ACCEL_CONFIG, 1, &fs_sel);
 627:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 628:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_mems_read_reg(s, MPUREG_SIGNAL_PATH_RESET, 1, &fs_sel);
 629:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		fs_sel &= ~BITS_GYRO_FS_SEL_OIS;
 630:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		fs_sel |= (s->base_state.gyro_ois_fullscale << 5);
 631:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_mems_write_reg(s, MPUREG_SIGNAL_PATH_RESET, 1, &fs_sel);
 632:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 633:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data |= BIT_OIS_ENABLE;
 634:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
 635:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	else {
 636:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data &= ~BIT_OIS_ENABLE;
 637:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
 638:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 639:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	result |= inv_icm207xx_mems_write_reg(s, MPUREG_USER_CTRL_NEW, 1, &data);
 640:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 641:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 642:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if (MEMS_CHIP == HW_ICM207XX)
 643:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if(smplrt_divider == 1)
 644:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		bit_mask |= HIGH_ODR_REQUESTED;
 645:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #else
 646:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	// gyro ODR range in low power mode is 3.91Hz ~ 333.33Hz for 20602 and 20609
 647:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if((smplrt_divider == 1) || ((smplrt_divider == 2) && (bit_mask & GYRO_AVAILABLE)))
 648:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		bit_mask |= HIGH_ODR_REQUESTED;
 649:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 650:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 651:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	switch(bit_mask & (ACCEL_AVAILABLE | GYRO_AVAILABLE | OIS_AVAILABLE | HIGH_ODR_REQUESTED)) {
 652:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case 0 :
 653:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		// Procedure 0
 654:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		s->base_state.pwr_mgmt_1 |= BIT_SLEEP;
 655:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_1, 1, &s->base_state.pwr_mgmt_1);
 656:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 657:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		s->base_state.pwr_mgmt_2 |= BIT_PWR_ALL_OFF;
 658:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &s->base_state.pwr_mgmt_2);
 659:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		
 660:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		s->base_state.wake_state &= ~CHIP_AWAKE;
 661:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		s->power_state = PowerStateSleepState;
 662:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		break;
 663:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 664:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case ACCEL_AVAILABLE : // to accel Low Power
 665:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		// no need to go above 500Hz data rate so reduce power consumption
 666:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		// and put accel in Low Power mode in this case
 667:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		switch(s->power_state) 
 668:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		{
 669:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			case PowerStateSleepState:
 670:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				// Procedure 1
 671:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_2 &= ~BIT_PWR_ACCEL_STBY;
 672:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_2 |= BIT_PWR_GYRO_STBY;
 673:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &s->base_state.pwr_mgmt_2);
 674:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 675:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				// change ACCEL_FS_SEL
 676:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_1 &= ~BIT_SLEEP;
ARM GAS  /tmp/ccRGbSIg.s 			page 15


 677:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_1 &= ~BIT_CYCLE;
 678:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_1, 1, &s->base_state.pwr_mgmt_1);
 679:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.wake_state |= CHIP_AWAKE;
 680:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.wake_state &= ~CHIP_LP_ENABLE;
 681:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				inv_icm207xx_sleep(2);
 682:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= apply_accel_fsr(s);
 683:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 684:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_1 &= ~BIT_SLEEP;
 685:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if (MEMS_CHIP == HW_ICM20603)
 686:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_1 &= ~BIT_CYCLE; // LP mode not available for 20603
 687:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #else
 688:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_1 |= BIT_CYCLE; // no gyro, accelero in LP
 689:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 690:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_1, 1, &s->base_state.pwr_mgmt_1);
 691:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if (MEMS_CHIP == HW_ICM20603)
 692:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.wake_state &= ~CHIP_LP_ENABLE; // LP mode not available for 20603
 693:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #else
 694:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.wake_state |= CHIP_LP_ENABLE;
 695:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 696:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 697:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= apply_accel_bw(s);
 698:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				inv_icm207xx_sleep(20); // accel startup time
 699:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				break;
 700:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			case PowerStateAccLNState:
 701:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				// Procedure 2
 702:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if (MEMS_CHIP == HW_ICM20603)
 703:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_1 &= ~BIT_CYCLE; // LP mode not available for 20603
 704:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #else
 705:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_1 |= BIT_CYCLE; // no gyro, accelero in LP
 706:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 707:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_1, 1, &s->base_state.pwr_mgmt_1);
 708:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if (MEMS_CHIP == HW_ICM20603)
 709:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.wake_state &= ~CHIP_LP_ENABLE; // LP mode not available for 20603
 710:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #else
 711:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.wake_state |= CHIP_LP_ENABLE;
 712:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 713:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= apply_accel_bw(s);
 714:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				break;
 715:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			case PowerStateGyrLPState:
 716:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			case PowerStateGyrLNState:
 717:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				//Procedure 4/5
 718:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				// change ACCEL_FS_SEL
 719:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= apply_accel_fsr(s);
 720:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 721:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if (MEMS_CHIP == HW_ICM20603)
 722:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_1 &= ~BIT_CYCLE; // LP mode not available for 20603
 723:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #else
 724:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_1 |= BIT_CYCLE; // no gyro, accelero in LP
 725:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 726:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_1, 1, &s->base_state.pwr_mgmt_1);
 727:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if (MEMS_CHIP == HW_ICM20603)
 728:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.wake_state &= ~CHIP_LP_ENABLE; // LP mode not available for 20603
 729:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #else
 730:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.wake_state |= CHIP_LP_ENABLE;
 731:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 732:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 733:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if (MEMS_CHIP == HW_ICM20690)
ARM GAS  /tmp/ccRGbSIg.s 			page 16


 734:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_1 &= ~BIT_CLKSEL; // set clksel=0
 735:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_1, 1, &s->base_state.pwr_mgmt_1);
 736:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				inv_icm207xx_sleep(1);
 737:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 738:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_2 &= ~BIT_PWR_ACCEL_STBY;
 739:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_2 |= BIT_PWR_GYRO_STBY;
 740:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &s->base_state.pwr_mgmt_2);
 741:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if (MEMS_CHIP == HW_ICM20690)
 742:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_1 |= CLK_SEL; // set clksel=1
 743:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_1, 1, &s->base_state.pwr_mgmt_1);
 744:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 745:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= apply_accel_bw(s);
 746:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				break;
 747:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			case PowerState6AxisLPState:
 748:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			case PowerState6AxisLNState:
 749:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				// Procedure 6/7
 750:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if (MEMS_CHIP == HW_ICM20603)
 751:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_1 &= ~BIT_CYCLE; // LP mode not available for 20603
 752:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #else
 753:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_1 |= BIT_CYCLE; // no gyro, accelero in LP
 754:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 755:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_1, 1, &s->base_state.pwr_mgmt_1);
 756:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if (MEMS_CHIP == HW_ICM20603)
 757:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.wake_state &= ~CHIP_LP_ENABLE; // LP mode not available for 20603
 758:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #else
 759:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.wake_state |= CHIP_LP_ENABLE;
 760:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 761:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 762:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if (MEMS_CHIP == HW_ICM20690)
 763:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_1 &= ~BIT_CLKSEL; // set clksel=0
 764:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_1, 1, &s->base_state.pwr_mgmt_1);
 765:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				inv_icm207xx_sleep(1);
 766:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 767:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_2 &= ~BIT_PWR_ACCEL_STBY;
 768:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_2 |= BIT_PWR_GYRO_STBY;
 769:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &s->base_state.pwr_mgmt_2);
 770:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if (MEMS_CHIP == HW_ICM20690)
 771:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_1 |= CLK_SEL; // set clksel=1
 772:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_1, 1, &s->base_state.pwr_mgmt_1);
 773:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 774:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= apply_accel_bw(s);
 775:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				break;
 776:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			default:
 777:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				break;
 778:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		}
 779:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 780:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if (MEMS_CHIP == HW_ICM20603)
 781:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		s->power_state = PowerStateAccLNState;
 782:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #else
 783:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		s->power_state = PowerStateAccLPState;
 784:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 785:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= apply_accel_bias(s);
 786:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		break;
 787:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 788:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case ACCEL_AVAILABLE | HIGH_ODR_REQUESTED: // to accel accel Low Noise
 789:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		// accel needs 1kHz data rate since divider is 1 so need to have sample rate of 1kHz
 790:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		// which is only possible when accel Low Noise mode is enabled
ARM GAS  /tmp/ccRGbSIg.s 			page 17


 791:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		switch(s->power_state) 
 792:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		{
 793:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			case PowerStateSleepState:
 794:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				// Procedure 8
 795:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_2 &= ~BIT_PWR_ACCEL_STBY;
 796:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_2 |= BIT_PWR_GYRO_STBY;
 797:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &s->base_state.pwr_mgmt_2);
 798:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 799:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_1 &= ~BIT_SLEEP;
 800:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_1 &= ~BIT_CYCLE;
 801:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_1, 1, &s->base_state.pwr_mgmt_1);
 802:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.wake_state |= CHIP_AWAKE;
 803:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.wake_state &= ~CHIP_LP_ENABLE;
 804:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				inv_icm207xx_sleep(2);
 805:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				// change ACCEL_FS_SEL
 806:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= apply_accel_fsr(s);
 807:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= apply_accel_bw(s);
 808:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				inv_icm207xx_sleep(20); // accel startup time
 809:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				break;
 810:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			case PowerStateAccLPState:
 811:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				// Procedure 9
 812:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_1 &= ~BIT_CYCLE;
 813:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_1, 1, &s->base_state.pwr_mgmt_1);
 814:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.wake_state &= ~CHIP_LP_ENABLE;
 815:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				inv_icm207xx_sleep(2);
 816:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= apply_accel_bw(s);
 817:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				break;
 818:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			case PowerStateGyrLNState:
 819:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			case PowerStateGyrLPState:
 820:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				// Procedure 11 & 12
 821:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= apply_accel_bw(s);
 822:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if (MEMS_CHIP == HW_ICM20690)
 823:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_1 &= ~BIT_CLKSEL; // set clksel=0
 824:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_1, 1, &s->base_state.pwr_mgmt_1);
 825:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				inv_icm207xx_sleep(1);
 826:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 827:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_2 &= ~BIT_PWR_ACCEL_STBY;
 828:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_2 |= BIT_PWR_GYRO_STBY;
 829:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &s->base_state.pwr_mgmt_2);
 830:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if (MEMS_CHIP == HW_ICM20690)
 831:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_1 |= CLK_SEL; // set clksel=1
 832:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_1, 1, &s->base_state.pwr_mgmt_1);
 833:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 834:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				break;
 835:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			case PowerState6AxisLPState:
 836:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			case PowerState6AxisLNState:
 837:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				// Procedure 13
 838:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if (MEMS_CHIP == HW_ICM20690)
 839:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_1 &= ~BIT_CLKSEL; // set clksel=0
 840:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_1, 1, &s->base_state.pwr_mgmt_1);
 841:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				inv_icm207xx_sleep(1);
 842:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 843:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_2 &= ~BIT_PWR_ACCEL_STBY;
 844:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_2 |= BIT_PWR_GYRO_STBY;
 845:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &s->base_state.pwr_mgmt_2);
 846:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if (MEMS_CHIP == HW_ICM20690)
 847:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_1 |= CLK_SEL; // set clksel=1
ARM GAS  /tmp/ccRGbSIg.s 			page 18


 848:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_1, 1, &s->base_state.pwr_mgmt_1);
 849:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 850:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				break;
 851:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			default:
 852:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				break;
 853:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		}
 854:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 855:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		s->power_state = PowerStateAccLNState;
 856:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= apply_accel_bias(s);
 857:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		break;
 858:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 859:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case GYRO_AVAILABLE : // to gyro Low Power
 860:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		// Turn on gyro only
 861:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		switch(s->power_state) 
 862:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		{
 863:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			case PowerStateSleepState:
 864:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				//Procedure 18
 865:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if (MEMS_CHIP == HW_ICM20603)
 866:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.lp_config &= ~BIT_GYRO_CYCLE; // LP mode not available for 20603
 867:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #else
 868:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.lp_config |= BIT_GYRO_CYCLE;
 869:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 870:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_LP_CONFIG, 1, &s->base_state.lp_config);
 871:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_2 |= BIT_PWR_ACCEL_STBY;
 872:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_2 &= ~BIT_PWR_GYRO_STBY;
 873:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &s->base_state.pwr_mgmt_2);
 874:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_1 &= ~BIT_SLEEP;
 875:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_1 &= ~BIT_CYCLE; // GYRO_STANDBY = 0 & CYCLE = 0 & SLEEP = 0
 876:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_1, 1, &s->base_state.pwr_mgmt_1);
 877:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.wake_state |= CHIP_AWAKE;
 878:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.wake_state &= ~CHIP_LP_ENABLE;
 879:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				inv_icm207xx_sleep(2);
 880:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= apply_gyr_fsr_bw(s);
 881:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				inv_icm207xx_sleep(50); // gyro startup time
 882:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				break;
 883:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			case PowerStateAccLPState:
 884:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				//Procedure 19
 885:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if (MEMS_CHIP == HW_ICM20603)
 886:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.lp_config &= ~BIT_GYRO_CYCLE; // LP mode not available for 20603
 887:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #else
 888:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.lp_config |= BIT_GYRO_CYCLE;
 889:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 890:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_LP_CONFIG, 1, &s->base_state.lp_config);
 891:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_2 |= BIT_PWR_ACCEL_STBY;
 892:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_2 &= ~BIT_PWR_GYRO_STBY;
 893:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &s->base_state.pwr_mgmt_2);
 894:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_1 &= ~BIT_CYCLE;
 895:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_1, 1, &s->base_state.pwr_mgmt_1);
 896:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.wake_state &= ~CHIP_LP_ENABLE;
 897:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				inv_icm207xx_sleep(2);
 898:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= apply_gyr_fsr_bw(s);
 899:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				break;
 900:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			case PowerStateAccLNState:
 901:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				//Procedure 20
 902:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= apply_gyr_fsr_bw(s);
 903:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 904:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if (MEMS_CHIP == HW_ICM20603)
ARM GAS  /tmp/ccRGbSIg.s 			page 19


 905:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.lp_config &= ~BIT_GYRO_CYCLE; // LP mode not available for 20603
 906:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #else
 907:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.lp_config |= BIT_GYRO_CYCLE;
 908:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 909:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_LP_CONFIG, 1, &s->base_state.lp_config);
 910:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 911:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_2 |= BIT_PWR_ACCEL_STBY;
 912:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_2 &= ~BIT_PWR_GYRO_STBY;
 913:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &s->base_state.pwr_mgmt_2);
 914:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				break;
 915:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			case PowerStateGyrLNState:
 916:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				//Procedure 22
 917:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 918:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				// Gyro full scale should be reconfigured because OIS disable for 1st time
 919:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= apply_gyr_fsr_bw(s);
 920:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 921:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if (MEMS_CHIP == HW_ICM20603)
 922:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.lp_config &= ~BIT_GYRO_CYCLE; // LP mode not available for 20603
 923:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #else
 924:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.lp_config |= BIT_GYRO_CYCLE;
 925:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 926:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_LP_CONFIG, 1, &s->base_state.lp_config);
 927:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				break;
 928:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			case PowerState6AxisLPState:
 929:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				//Procedure 23
 930:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_2 |= BIT_PWR_ACCEL_STBY;
 931:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &s->base_state.pwr_mgmt_2);
 932:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				break;
 933:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			case PowerState6AxisLNState:
 934:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				//Procedure 24
 935:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 936:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				// Gyro full scale should be reconfigured because OIS disable for 1st time
 937:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= apply_gyr_fsr_bw(s);
 938:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 939:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_2 |= BIT_PWR_ACCEL_STBY;
 940:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &s->base_state.pwr_mgmt_2);
 941:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 942:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if (MEMS_CHIP == HW_ICM20603)
 943:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.lp_config &= ~BIT_GYRO_CYCLE; // LP mode not available for 20603
 944:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #else
 945:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.lp_config |= BIT_GYRO_CYCLE;
 946:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 947:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_LP_CONFIG, 1, &s->base_state.lp_config);
 948:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				break;
 949:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			default:
 950:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				break;
 951:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		}
 952:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 953:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if (MEMS_CHIP == HW_ICM20603)
 954:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		s->power_state = PowerStateGyrLNState;
 955:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #else
 956:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		s->power_state = PowerStateGyrLPState;
 957:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 958:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= apply_gyr_bias(s);
 959:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		break;
 960:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 961:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case OIS_AVAILABLE: // to Gyro Low Noise
ARM GAS  /tmp/ccRGbSIg.s 			page 20


 962:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case GYRO_AVAILABLE | OIS_AVAILABLE | HIGH_ODR_REQUESTED: // to Gyro Low Noise
 963:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case GYRO_AVAILABLE | HIGH_ODR_REQUESTED: // to Gyro Low Noise
 964:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case GYRO_AVAILABLE | OIS_AVAILABLE: // to Gyro Low Noise
 965:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 966:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		switch(s->power_state)
 967:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		{
 968:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			case PowerStateSleepState:
 969:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				//Procedure 25
 970:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.lp_config &= ~BIT_GYRO_CYCLE;
 971:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_LP_CONFIG, 1, &s->base_state.lp_config);
 972:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 973:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_2 |= BIT_PWR_ACCEL_STBY;
 974:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_2 &= ~BIT_PWR_GYRO_STBY;
 975:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &s->base_state.pwr_mgmt_2);
 976:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 977:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_1 &= ~BIT_SLEEP;
 978:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_1 &= ~BIT_CYCLE;
 979:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_1, 1, &s->base_state.pwr_mgmt_1);
 980:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.wake_state |= CHIP_AWAKE;
 981:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.wake_state &= ~CHIP_LP_ENABLE;
 982:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				inv_icm207xx_sleep(2);
 983:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 984:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= apply_gyr_fsr_bw(s);
 985:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				inv_icm207xx_sleep(50); // gyro startup time
 986:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				break;
 987:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			case PowerStateAccLPState:
 988:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				//Procedure 26
 989:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.lp_config &= ~BIT_GYRO_CYCLE;
 990:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_LP_CONFIG, 1, &s->base_state.lp_config);
 991:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 992:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_2 |= BIT_PWR_ACCEL_STBY;
 993:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_2 &= ~BIT_PWR_GYRO_STBY;
 994:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &s->base_state.pwr_mgmt_2);
 995:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 996:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_1 &= ~BIT_CYCLE;
 997:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_1, 1, &s->base_state.pwr_mgmt_1);
 998:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.wake_state &= ~CHIP_LP_ENABLE;
 999:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				inv_icm207xx_sleep(2);
1000:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= apply_gyr_fsr_bw(s);
1001:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				break;
1002:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			case PowerStateAccLNState:
1003:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				//Procedure 27
1004:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= apply_gyr_fsr_bw(s);
1005:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.lp_config &= ~BIT_GYRO_CYCLE;
1006:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_LP_CONFIG, 1, &s->base_state.lp_config);
1007:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_2 |= BIT_PWR_ACCEL_STBY;
1008:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_2 &= ~BIT_PWR_GYRO_STBY;
1009:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &s->base_state.pwr_mgmt_2);
1010:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				break;
1011:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			case PowerStateGyrLPState:
1012:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				//Procedure 29
1013:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1014:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				// Gyro full scale should be reconfigured because OIS enabled for 1st time
1015:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= apply_gyr_fsr_bw(s);
1016:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1017:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.lp_config &= ~BIT_GYRO_CYCLE;
1018:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_LP_CONFIG, 1, &s->base_state.lp_config);
ARM GAS  /tmp/ccRGbSIg.s 			page 21


1019:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				break;
1020:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			case PowerState6AxisLPState:
1021:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				//Procedure 30
1022:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1023:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				// Gyro full scale should be reconfigured because OIS enabled for 1st time
1024:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= apply_gyr_fsr_bw(s);
1025:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1026:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_2 |= BIT_PWR_ACCEL_STBY;
1027:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &s->base_state.pwr_mgmt_2);
1028:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1029:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.lp_config &= ~BIT_GYRO_CYCLE;
1030:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_LP_CONFIG, 1, &s->base_state.lp_config);
1031:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				break;
1032:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			case PowerState6AxisLNState:
1033:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				//Procedure 31
1034:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1035:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				// No need to reconfigure Gyro full scale because OIS was already enabled
1036:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1037:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_2 |= BIT_PWR_ACCEL_STBY;
1038:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &s->base_state.pwr_mgmt_2);
1039:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				break;
1040:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			default:
1041:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				break;
1042:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		}
1043:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1044:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		s->power_state = PowerStateGyrLNState;
1045:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= apply_gyr_bias(s);
1046:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		break;
1047:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1048:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case ACCEL_AVAILABLE|GYRO_AVAILABLE : // to 6axis Low Power
1049:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		// Turn on gyro and accel so accel in low noise mode
1050:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1051:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		switch(s->power_state)
1052:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		{
1053:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			case PowerStateSleepState:
1054:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				//Procedure 32
1055:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if (MEMS_CHIP == HW_ICM20603)
1056:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.lp_config &= ~BIT_GYRO_CYCLE; // LP mode not available for 20603
1057:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #else
1058:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.lp_config |= BIT_GYRO_CYCLE;
1059:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
1060:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_LP_CONFIG, 1, &s->base_state.lp_config);
1061:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1062:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_1 &= ~BIT_SLEEP;
1063:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_1 &= ~BIT_CYCLE;
1064:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_1, 1, &s->base_state.pwr_mgmt_1);
1065:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.wake_state |= CHIP_AWAKE;
1066:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.wake_state &= ~CHIP_LP_ENABLE;
1067:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1068:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				inv_icm207xx_sleep(2);
1069:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1070:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= apply_accel_fsr(s);
1071:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= apply_accel_bw(s);
1072:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= apply_gyr_fsr_bw(s);
1073:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				inv_icm207xx_sleep(50); // gyro startup time
1074:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			break;
1075:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			case PowerStateAccLPState:
ARM GAS  /tmp/ccRGbSIg.s 			page 22


1076:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				//Procedure 33
1077:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if (MEMS_CHIP == HW_ICM20603)
1078:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.lp_config &= ~BIT_GYRO_CYCLE; // LP mode not available for 20603
1079:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #else
1080:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.lp_config |= BIT_GYRO_CYCLE;
1081:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
1082:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_LP_CONFIG, 1, &s->base_state.lp_config);
1083:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1084:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_2 &= ~BIT_PWR_ALL_OFF; // Zero means all sensors are on
1085:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &s->base_state.pwr_mgmt_2);
1086:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1087:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_1 &= ~BIT_CYCLE; // gyro on and accelero also, accelero in low-noise
1088:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_1, 1, &s->base_state.pwr_mgmt_1);
1089:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.wake_state &= ~CHIP_LP_ENABLE;
1090:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1091:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				inv_icm207xx_sleep(2);
1092:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1093:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= apply_gyr_fsr_bw(s);
1094:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			break;
1095:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			case PowerStateAccLNState:
1096:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				//Procedure 34
1097:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= apply_gyr_fsr_bw(s);
1098:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1099:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if (MEMS_CHIP == HW_ICM20603)
1100:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.lp_config &= ~BIT_GYRO_CYCLE; // LP mode not available for 20603
1101:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #else
1102:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.lp_config |= BIT_GYRO_CYCLE;
1103:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
1104:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_LP_CONFIG, 1, &s->base_state.lp_config);
1105:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1106:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_2 &= ~BIT_PWR_GYRO_STBY;
1107:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &s->base_state.pwr_mgmt_2);
1108:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			break;
1109:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			case PowerStateGyrLPState:
1110:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				//Procedure 36
1111:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= apply_accel_fsr(s);
1112:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= apply_accel_bw(s);
1113:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1114:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_2 &= ~BIT_PWR_ACCEL_STBY;
1115:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &s->base_state.pwr_mgmt_2);
1116:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			break;
1117:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			case PowerStateGyrLNState:
1118:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				//Procedure 37
1119:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= apply_accel_fsr(s);
1120:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= apply_accel_bw(s);
1121:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1122:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				// Gyro full scale should be reconfigured because OIS disable for 1st time
1123:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= apply_gyr_fsr_bw(s);
1124:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1125:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_2 &= ~BIT_PWR_ACCEL_STBY;
1126:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &s->base_state.pwr_mgmt_2);
1127:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1128:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if (MEMS_CHIP == HW_ICM20603)
1129:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.lp_config &= ~BIT_GYRO_CYCLE; // LP mode not available for 20603
1130:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #else
1131:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.lp_config |= BIT_GYRO_CYCLE;
1132:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
ARM GAS  /tmp/ccRGbSIg.s 			page 23


1133:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_LP_CONFIG, 1, &s->base_state.lp_config);
1134:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			break;
1135:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			case PowerState6AxisLNState:
1136:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				//Procedure 38
1137:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1138:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				// Gyro full scale should be reconfigured because OIS disable for 1st time
1139:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= apply_gyr_fsr_bw(s);
1140:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1141:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if (MEMS_CHIP == HW_ICM20603)
1142:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.lp_config &= ~BIT_GYRO_CYCLE; // LP mode not available for 20603
1143:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #else
1144:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.lp_config |= BIT_GYRO_CYCLE;
1145:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
1146:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_LP_CONFIG, 1, &s->base_state.lp_config);
1147:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			break;
1148:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			default :
1149:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			break;
1150:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		}
1151:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1152:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if (MEMS_CHIP == HW_ICM20603)
1153:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		s->power_state = PowerState6AxisLNState;
1154:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #else
1155:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		s->power_state = PowerState6AxisLPState;
1156:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
1157:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= apply_accel_bias(s);
1158:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= apply_gyr_bias(s);
1159:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		break;
1160:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1161:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case ACCEL_AVAILABLE | OIS_AVAILABLE: // to 6axis Low Noise
1162:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case ACCEL_AVAILABLE | OIS_AVAILABLE  | HIGH_ODR_REQUESTED: // to 6axis Low Noise
1163:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case ACCEL_AVAILABLE | GYRO_AVAILABLE | HIGH_ODR_REQUESTED: // to 6axis Low Noise
1164:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case ACCEL_AVAILABLE | GYRO_AVAILABLE | OIS_AVAILABLE: // to 6axis Low Noise
1165:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case ACCEL_AVAILABLE | GYRO_AVAILABLE | OIS_AVAILABLE | HIGH_ODR_REQUESTED: // to 6axis Low Noise
1166:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1167:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		switch(s->power_state) {
1168:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		case PowerStateSleepState:
1169:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			//Procedure 39
1170:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			s->base_state.lp_config &= ~BIT_GYRO_CYCLE;
1171:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			result |= inv_icm207xx_mems_write_reg(s, MPUREG_LP_CONFIG, 1, &s->base_state.lp_config);
1172:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1173:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			s->base_state.pwr_mgmt_1 &= ~BIT_SLEEP;
1174:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			s->base_state.pwr_mgmt_1 &= ~BIT_CYCLE;
1175:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_1, 1, &s->base_state.pwr_mgmt_1);
1176:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			s->base_state.wake_state |= CHIP_AWAKE;
1177:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			s->base_state.wake_state &= ~CHIP_LP_ENABLE;
1178:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			inv_icm207xx_sleep(2);
1179:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1180:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			apply_accel_fsr(s);
1181:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			apply_accel_bw(s);
1182:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			apply_gyr_fsr_bw(s);
1183:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			inv_icm207xx_sleep(50); // gyro startup time
1184:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			break;
1185:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		case PowerStateAccLPState:
1186:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			//Procedure 40
1187:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			s->base_state.lp_config &= ~BIT_GYRO_CYCLE;
1188:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			result |= inv_icm207xx_mems_write_reg(s, MPUREG_LP_CONFIG, 1, &s->base_state.lp_config);
1189:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
ARM GAS  /tmp/ccRGbSIg.s 			page 24


1190:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			s->base_state.pwr_mgmt_2 &= ~BIT_PWR_ACCEL_STBY;
1191:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			s->base_state.pwr_mgmt_2 &= ~BIT_PWR_GYRO_STBY;
1192:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &s->base_state.pwr_mgmt_2);
1193:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1194:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			s->base_state.pwr_mgmt_1 &= ~BIT_CYCLE;
1195:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_1, 1, &s->base_state.pwr_mgmt_1);
1196:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			s->base_state.wake_state &= ~CHIP_LP_ENABLE;
1197:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			inv_icm207xx_sleep(2);
1198:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1199:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			result |= apply_gyr_fsr_bw(s);
1200:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			break;
1201:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		case PowerStateAccLNState:
1202:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			//Procedure 41
1203:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			result |= apply_gyr_fsr_bw(s);
1204:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1205:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			s->base_state.lp_config &= ~BIT_GYRO_CYCLE;
1206:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			result |= inv_icm207xx_mems_write_reg(s, MPUREG_LP_CONFIG, 1, &s->base_state.lp_config);
1207:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1208:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			s->base_state.pwr_mgmt_2 &= ~BIT_PWR_GYRO_STBY;
1209:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &s->base_state.pwr_mgmt_2);
1210:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			break;
1211:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		case PowerStateGyrLPState:
1212:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			//Procedure 43
1213:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			result |= apply_accel_fsr(s);
1214:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			result |= apply_accel_bw(s);
1215:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1216:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			// Gyro full scale should be reconfigured because OIS enabled for 1st time
1217:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			result |= apply_gyr_fsr_bw(s);
1218:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1219:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			s->base_state.pwr_mgmt_2 &= ~BIT_PWR_ACCEL_STBY;
1220:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &s->base_state.pwr_mgmt_2);
1221:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1222:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			s->base_state.lp_config &= ~BIT_GYRO_CYCLE;
1223:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			result |= inv_icm207xx_mems_write_reg(s, MPUREG_LP_CONFIG, 1, &s->base_state.lp_config);
1224:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			break;
1225:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		case PowerStateGyrLNState:
1226:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			//Procedure 44
1227:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			result |= apply_accel_fsr(s);
1228:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			result |= apply_accel_bw(s);
1229:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1230:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			s->base_state.pwr_mgmt_2 &= ~BIT_PWR_ACCEL_STBY;
1231:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &s->base_state.pwr_mgmt_2);
1232:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1233:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			// No need to reconfigure Gyro full scale because OIS was already enabled
1234:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			break;
1235:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		case PowerState6AxisLPState:
1236:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			//Procedure 45
1237:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1238:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			// Gyro full scale should be reconfigured because OIS enabled for 1st time
1239:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			result |= apply_gyr_fsr_bw(s);
1240:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1241:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			s->base_state.lp_config &= ~BIT_GYRO_CYCLE;
1242:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			result |= inv_icm207xx_mems_write_reg(s, MPUREG_LP_CONFIG, 1, &s->base_state.lp_config);
1243:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			break;
1244:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		default:
1245:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			break;
1246:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		}
ARM GAS  /tmp/ccRGbSIg.s 			page 25


1247:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1248:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		s->power_state = PowerState6AxisLNState;
1249:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= apply_accel_bias(s);
1250:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= apply_gyr_bias(s);
1251:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		break;
1252:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1253:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case HIGH_ODR_REQUESTED: // no sensor ON
1254:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	default:
1255:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		break;
1256:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
1257:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1258:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if (MEMS_CHIP == HW_ICM20690)
1259:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	/* overwrite pwr_mgmt_1 according to AUX I2C usage */
1260:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if (bit_mask & COMPASS_AVAILABLE) {
1261:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		s->base_state.pwr_mgmt_1 &= ~BIT_SLEEP;
1262:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		s->base_state.pwr_mgmt_1 &= ~BIT_CYCLE;
1263:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_1, 1, &s->base_state.pwr_mgmt_1);
1264:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		s->base_state.wake_state |= CHIP_AWAKE;
1265:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		s->base_state.wake_state &= ~CHIP_LP_ENABLE;
1266:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_set_accel_bandwidth(s, MPU_ABW_218);
1267:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		apply_accel_bw(s);
1268:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		inv_icm207xx_sleep(20); // accel startup time
1269:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		if ((s->base_state.pwr_mgmt_2 & BIT_PWR_ALL_OFF) == BIT_PWR_ALL_OFF) {
1270:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			/* need either accel or gyro engine on for AUX I2C */
1271:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			s->base_state.pwr_mgmt_2 &= ~BIT_PWR_ACCEL_STBY;
1272:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &s->base_state.pwr_mgmt_2);
1273:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		}
1274:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_resume_akm(s);
1275:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	} else {
1276:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		if (s->power_state == PowerStateAccLPState) {
1277:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			/* return to accel lp mode */
1278:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			s->base_state.pwr_mgmt_1 |= BIT_CYCLE;
1279:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_1, 1, &s->base_state.pwr_mgmt_1);
1280:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			s->base_state.wake_state |= CHIP_LP_ENABLE;
1281:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			result |= inv_icm207xx_set_accel_bandwidth(s, MPU_ABW_420);
1282:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			apply_accel_bw(s);
1283:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		}
1284:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_suspend_akm(s);
1285:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
1286:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
1287:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1288:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	/* workaround to avoid impact on gyro offsets when enable/disable temp (#14339) */
1289:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	s->base_state.pwr_mgmt_1 &= ~BIT_TEMP_DISABLE; // Turn ON temp 
1290:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_1, 1, &s->base_state.pwr_mgmt_1);
1291:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1292:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	return result;
1293:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** }
1294:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1295:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** /******************/
1296:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** typedef	struct {
1297:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	enum ANDROID_SENSORS           AndroidSensor;
1298:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	enum inv_icm207xx_sensor InvSensor;
1299:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** } MinDelayGenElementT;
1300:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1301:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** /******************/
1302:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** //	accel
1303:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** static const MinDelayGenElementT MinDelayGenAccelList[]	= {
ARM GAS  /tmp/ccRGbSIg.s 			page 26


1304:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	{ ANDROID_SENSOR_ACCELEROMETER, INV_ICM207XX_SENSOR_ACCEL }
1305:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** };
1306:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1307:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** //	gyro
1308:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** static const MinDelayGenElementT MinDelayGenGyroList[] = {
1309:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	{ ANDROID_SENSOR_GYROSCOPE, INV_ICM207XX_SENSOR_GYRO }
1310:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** };
1311:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1312:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** //	compass
1313:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** static const MinDelayGenElementT MinDelayGenCompassList[] = {
1314:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	{ ANDROID_SENSOR_MAGNETOMETER, INV_ICM207XX_SENSOR_COMPASS }
1315:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** };
1316:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1317:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1318:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** typedef	unsigned	short	MinDelayT;
1319:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** typedef	unsigned	short	u16;
1320:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** typedef	unsigned	long	u32;
1321:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1322:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** /******************/
1323:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #define	MinDelayGen(s, list)	MinDelayGenActual((s), list, sizeof(list) / sizeof (MinDelayGenElement
1324:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1325:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** static MinDelayT MinDelayGenActual(struct inv_icm207xx * s, const MinDelayGenElementT * Element, u3
1326:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** {
 127              		.loc 1 1326 0
 128              		.cfi_startproc
 129              		@ args = 0, pretend = 0, frame = 0
 130              		@ frame_needed = 0, uses_anonymous_args = 0
 131              	.LVL17:
 132 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 133              	.LCFI0:
 134              		.cfi_def_cfa_offset 24
 135              		.cfi_offset 3, -24
 136              		.cfi_offset 4, -20
 137              		.cfi_offset 5, -16
 138              		.cfi_offset 6, -12
 139              		.cfi_offset 7, -8
 140              		.cfi_offset 14, -4
 141 0002 0646     		mov	r6, r0
 142 0004 0C46     		mov	r4, r1
 143              	.LVL18:
1327:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	MinDelayT MinDelay = (MinDelayT)-1;
 144              		.loc 1 1327 0
 145 0006 4FF6FF77 		movw	r7, #65535
1328:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1329:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	while(ElementQuan--) {
 146              		.loc 1 1329 0
 147 000a 01E0     		b	.L13
 148              	.LVL19:
 149              	.L14:
1330:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		if(is_android_sensor_enabled(s, Element->AndroidSensor)) {
1331:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			MinDelayT OdrDelay = s->requested_odr[Element->InvSensor];
1332:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			if(MinDelay > OdrDelay) {
1333:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				MinDelay = OdrDelay;
1334:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			}
1335:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		}
1336:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		Element++;
 150              		.loc 1 1336 0
ARM GAS  /tmp/ccRGbSIg.s 			page 27


 151 000c 0234     		adds	r4, r4, #2
 152              	.LVL20:
1329:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		if(is_android_sensor_enabled(s, Element->AndroidSensor)) {
 153              		.loc 1 1329 0
 154 000e 2A46     		mov	r2, r5
 155              	.LVL21:
 156              	.L13:
 157 0010 551E     		subs	r5, r2, #1
 158              	.LVL22:
 159 0012 72B1     		cbz	r2, .L18
1330:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		if(is_android_sensor_enabled(s, Element->AndroidSensor)) {
 160              		.loc 1 1330 0
 161 0014 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
 162 0016 3046     		mov	r0, r6
 163 0018 FFF7FEFF 		bl	is_android_sensor_enabled
 164              	.LVL23:
 165 001c 0028     		cmp	r0, #0
 166 001e F5D0     		beq	.L14
 167              	.LBB6:
1331:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			if(MinDelay > OdrDelay) {
 168              		.loc 1 1331 0
 169 0020 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 170 0022 2833     		adds	r3, r3, #40
 171 0024 06EB4303 		add	r3, r6, r3, lsl #1
 172 0028 9B88     		ldrh	r3, [r3, #4]
 173              	.LVL24:
1332:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				MinDelay = OdrDelay;
 174              		.loc 1 1332 0
 175 002a 9F42     		cmp	r7, r3
 176 002c EED9     		bls	.L14
1333:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			}
 177              		.loc 1 1333 0
 178 002e 1F46     		mov	r7, r3
 179              	.LVL25:
 180 0030 ECE7     		b	.L14
 181              	.LVL26:
 182              	.L18:
 183              	.LBE6:
1337:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	} //	end while elements to process
1338:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1339:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	return	MinDelay;
1340:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** }
 184              		.loc 1 1340 0
 185 0032 3846     		mov	r0, r7
 186 0034 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 187              		.cfi_endproc
 188              	.LFE28:
 190              		.section	.text.regenerate_sensor_control,"ax",%progbits
 191              		.align	1
 192              		.syntax unified
 193              		.thumb
 194              		.thumb_func
 195              		.fpu fpv4-sp-d16
 197              	regenerate_sensor_control:
 198              	.LFB33:
1341:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1342:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** /******************/
ARM GAS  /tmp/ccRGbSIg.s 			page 28


1343:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** static u16 SampleRateDividerGet(struct inv_icm207xx * s, MinDelayT MinDelay)
1344:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** {
1345:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	//u16	Delay = INV_MIN(ODR_MIN_DELAY, MinDelay);
1346:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	return MinDelay * inv_icm207xx_get_chip_base_sample_rate(s)/1000L; // a divider from BASE_SAMPLE_R
1347:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** }
1348:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1349:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** /******************/
1350:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** static int set_hw_smplrt_dmp_odrs(struct inv_icm207xx * s, uint16_t * resulting_divider)
1351:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** {
1352:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	int result = 0;
1353:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	uint8_t data = 0;
1354:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	uint16_t hw_smplrt_divider = 0;
1355:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1356:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	// Set UI ODR (always <=1kHz)
1357:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	// Set accel_fchoice_b to 0
1358:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if(s->android_sensor_mask & INV_NEEDS_ACCEL_MASK)
1359:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	{
1360:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_mems_read_reg(s, MPUREG_ACCEL_CONFIG_2, 1, &data);
1361:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data &= ~BITS_ACCEL_FCHOICE_B; // Clear ACCEL_FCHOICE_B
1362:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_mems_write_reg(s, MPUREG_ACCEL_CONFIG_2, 1, &data);
1363:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
1364:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1365:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	// Set fchoice_b to 0, dlpf_cfg to 1
1366:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if(s->android_sensor_mask & INV_NEEDS_GYRO_MASK)
1367:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	{
1368:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_mems_read_reg(s, MPUREG_GYRO_CONFIG, 1, &data);
1369:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data &= ~BITS_FCHOICE_B; // Clear FCHOICE_B
1370:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_mems_write_reg(s, MPUREG_GYRO_CONFIG, 1, &data);
1371:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1372:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_mems_read_reg(s, MPUREG_CONFIG, 1, &data);
1373:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data &= ~0x7; // Clear bits[2:0]
1374:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data |= 0x1;
1375:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_mems_write_reg(s, MPUREG_CONFIG, 1, &data);
1376:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
1377:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1378:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	// Set sample rate divider
1379:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if((s->android_sensor_mask & INV_NEEDS_ACCEL_MASK) ||
1380:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			(s->android_sensor_mask & INV_NEEDS_GYRO_MASK) ||
1381:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			(s->android_sensor_mask & INV_NEEDS_COMPASS_MASK))
1382:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	{
1383:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		uint16_t minDly, minDly_accel, minDly_gyro, minDly_compass;
1384:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		// get min delays of all enabled sensors for each sensor engine group
1385:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1386:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		// Engine ACCEL Based
1387:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		minDly_accel = MinDelayGen(s, MinDelayGenAccelList);
1388:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1389:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		// Engine Gyro Based
1390:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		minDly_gyro = MinDelayGen(s, MinDelayGenGyroList);
1391:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1392:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		// Engine I2C MST Based
1393:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		minDly_compass = MinDelayGen(s, MinDelayGenCompassList);
1394:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		// Limit compass max access rate
1395:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		minDly_compass = INV_MAX(minDly_compass, COMPASS_MIN_DLY); 
1396:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1397:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		// get min delay of all enabled sensors of all sensor engine groups
1398:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		minDly = INV_MIN(minDly_gyro, minDly_accel);
1399:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		if(minDly>minDly_compass) // if compass is faster
ARM GAS  /tmp/ccRGbSIg.s 			page 29


1400:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			s->base_state.sample_repeat_cnt = minDly/minDly_compass;
1401:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		else
1402:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			s->base_state.sample_repeat_cnt = 1;
1403:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1404:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		minDly = INV_MIN(minDly, minDly_compass);
1405:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1406:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		// set odrs for each enabled sensors
1407:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		if (minDly != 0xFFFF)
1408:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		{
1409:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			hw_smplrt_divider = SampleRateDividerGet(s, minDly);
1410:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			result |= inv_icm207xx_set_divider(s, (uint8_t)(hw_smplrt_divider - 1));
1411:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			if(s->android_sensor_mask & INV_NEEDS_COMPASS_MASK)
1412:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_set_i2c_mst_dly(s, minDly, minDly_compass);
1413:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		}
1414:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
1415:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1416:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	// Set OIS ODR
1417:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if (MEMS_CHIP == HW_ICM20690)
1418:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	// TODO: Hardcode OIS Gyro ODR to 8kHz and OIS accel ODR to 4kHz for now.
1419:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if (s->android_sensor_mask & INV_NEEDS_OIS_MASK) {
1420:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		// Set fchoice_ois_b to 01
1421:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_mems_read_reg(s, MPUREG_SIGNAL_PATH_RESET, 1, &data);
1422:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data &= ~BITS_FCHOICE_OIS_B;
1423:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data |= (1 << BIT_POS_FCHOICE_OIS_B);
1424:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_mems_write_reg(s, MPUREG_SIGNAL_PATH_RESET, 1, &data);
1425:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1426:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		// Set accel_fchoice_ois_b to 11
1427:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_mems_read_reg(s, MPUREG_ACCEL_INTEL_CTRL, 1, &data);
1428:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data &= ~BITS_ACCEL_FCHOICE_OIS_B;
1429:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data |= (3 << BIT_POS_ACCEL_FCHOICE_OIS_B);
1430:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_mems_write_reg(s, MPUREG_ACCEL_INTEL_CTRL, 1, &data);
1431:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
1432:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
1433:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1434:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	*resulting_divider = hw_smplrt_divider;
1435:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	return result;
1436:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** }
1437:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1438:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** int inv_icm207xx_set_sensor_period(struct inv_icm207xx * s, enum inv_icm207xx_sensor sensor, uint16
1439:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** {
1440:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	int result = 0;
1441:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	uint16_t resulting_divider = 0;
1442:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	uint16_t data_rdy_status = 0;
1443:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1444:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	const uint8_t androidSensor = sensor_type_2_android_sensor(sensor);
1445:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1446:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if(delayInMs < ODR_MIN_DELAY) delayInMs = ODR_MIN_DELAY;
1447:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if(delayInMs > ODR_MAX_DELAY) delayInMs = ODR_MAX_DELAY;
1448:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1449:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	switch (androidSensor) {
1450:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case ANDROID_SENSOR_ACCELEROMETER:
1451:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		s->requested_odr[INV_ICM207XX_SENSOR_ACCEL] = delayInMs;
1452:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		break;
1453:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case ANDROID_SENSOR_GYROSCOPE:
1454:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		s->requested_odr[INV_SENSOR_GYRO] = delayInMs;
1455:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		break;
1456:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case ANDROID_SENSOR_MAGNETOMETER:
ARM GAS  /tmp/ccRGbSIg.s 			page 30


1457:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		s->requested_odr[INV_SENSOR_COMPASS] = delayInMs;
1458:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		break;
1459:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		// not support yet
1460:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case ANDROID_SENSOR_TEMPERATURE:
1461:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		break;
1462:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	default:
1463:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		break;
1464:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
1465:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	result |= inv_icm207xx_disable_fifo(s);
1466:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	result |= set_hw_smplrt_dmp_odrs(s, &resulting_divider);
1467:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1468:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if (s->android_sensor_mask & INV_NEEDS_GYRO_MASK)
1469:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data_rdy_status |= GYRO_AVAILABLE;
1470:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if (s->android_sensor_mask & INV_NEEDS_ACCEL_MASK)
1471:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data_rdy_status |= ACCEL_AVAILABLE;
1472:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if (s->android_sensor_mask & INV_NEEDS_COMPASS_MASK)
1473:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data_rdy_status |= COMPASS_AVAILABLE;
1474:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if (s->android_sensor_mask & INV_NEEDS_TEMP_MASK)
1475:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data_rdy_status |= TEMP_AVAILABLE;
1476:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if (s->android_sensor_mask & INV_NEEDS_OIS_MASK)
1477:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data_rdy_status |= (OIS_AVAILABLE | GYRO_AVAILABLE);
1478:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1479:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	// we reconfigured ODR, so there is a chance that we change from LP to/from LN noise, just check i
1480:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	result |= inv_icm207xx_enable_mems(s, (int)data_rdy_status, resulting_divider);
1481:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1482:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	// need to reset and restart FIFO with new configurations
1483:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	result |= inv_icm207xx_enable_fifo(s, (int)data_rdy_status);
1484:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1485:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	return result;
1486:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** }
1487:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1488:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** int inv_icm207xx_is_sensor_enabled(struct inv_icm207xx * s, enum inv_icm207xx_sensor sensor)
1489:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** {
1490:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	const uint8_t androidSensor = sensor_type_2_android_sensor(sensor);
1491:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1492:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if(androidSensor < ANDROID_SENSOR_NUM_MAX) {
1493:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		return (is_android_sensor_enabled(s, androidSensor) != 0);
1494:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
1495:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1496:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	return ANDROID_SENSOR_NUM_MAX;
1497:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** }
1498:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1499:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** static void regenerate_sensor_control(struct inv_icm207xx * s,
1500:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		const short * sen_num_2_ctrl, uint16_t *sensor_control)
1501:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** {
 199              		.loc 1 1501 0
 200              		.cfi_startproc
 201              		@ args = 0, pretend = 0, frame = 0
 202              		@ frame_needed = 0, uses_anonymous_args = 0
 203              		@ link register save eliminated.
 204              	.LVL27:
 205 0000 30B4     		push	{r4, r5}
 206              	.LCFI1:
 207              		.cfi_def_cfa_offset 8
 208              		.cfi_offset 4, -8
 209              		.cfi_offset 5, -4
 210              	.LVL28:
ARM GAS  /tmp/ccRGbSIg.s 			page 31


1502:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	short delta;
1503:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	int cntr = 0;
1504:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	uint32_t tmp_androidSensorsOn_mask;
1505:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1506:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	*sensor_control = 0;
 211              		.loc 1 1506 0
 212 0002 0024     		movs	r4, #0
 213 0004 1480     		strh	r4, [r2]	@ movhi
1507:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	tmp_androidSensorsOn_mask = s->android_sensor_mask;
 214              		.loc 1 1507 0
 215 0006 036D     		ldr	r3, [r0, #80]
 216              	.LVL29:
1503:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	uint32_t tmp_androidSensorsOn_mask;
 217              		.loc 1 1503 0
 218 0008 2046     		mov	r0, r4
 219              	.LVL30:
1508:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	while (tmp_androidSensorsOn_mask) {
 220              		.loc 1 1508 0
 221 000a 01E0     		b	.L20
 222              	.LVL31:
 223              	.L21:
1509:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		if (tmp_androidSensorsOn_mask & 1) {
1510:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			delta = sen_num_2_ctrl[cntr];
1511:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			if (delta != -1) *sensor_control |= delta;
1512:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		}
1513:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		tmp_androidSensorsOn_mask >>= 1;
 224              		.loc 1 1513 0
 225 000c 5B08     		lsrs	r3, r3, #1
 226              	.LVL32:
1514:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		cntr++;
 227              		.loc 1 1514 0
 228 000e 0130     		adds	r0, r0, #1
 229              	.LVL33:
 230              	.L20:
1508:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	while (tmp_androidSensorsOn_mask) {
 231              		.loc 1 1508 0
 232 0010 5BB1     		cbz	r3, .L24
1509:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		if (tmp_androidSensorsOn_mask & 1) {
 233              		.loc 1 1509 0
 234 0012 13F0010F 		tst	r3, #1
 235 0016 F9D0     		beq	.L21
1510:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			if (delta != -1) *sensor_control |= delta;
 236              		.loc 1 1510 0
 237 0018 31F91040 		ldrsh	r4, [r1, r0, lsl #1]
 238              	.LVL34:
1511:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		}
 239              		.loc 1 1511 0
 240 001c B4F1FF3F 		cmp	r4, #-1
 241 0020 F4D0     		beq	.L21
1511:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		}
 242              		.loc 1 1511 0 is_stmt 0 discriminator 1
 243 0022 1588     		ldrh	r5, [r2]
 244 0024 2C43     		orrs	r4, r4, r5
 245              	.LVL35:
 246 0026 1480     		strh	r4, [r2]	@ movhi
 247              	.LVL36:
 248 0028 F0E7     		b	.L21
ARM GAS  /tmp/ccRGbSIg.s 			page 32


 249              	.L24:
1515:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
1516:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** }
 250              		.loc 1 1516 0 is_stmt 1
 251 002a 30BC     		pop	{r4, r5}
 252              	.LCFI2:
 253              		.cfi_restore 5
 254              		.cfi_restore 4
 255              		.cfi_def_cfa_offset 0
 256 002c 7047     		bx	lr
 257              		.cfi_endproc
 258              	.LFE33:
 260              		.section	.text.convert_android_sensor_to_control,"ax",%progbits
 261              		.align	1
 262              		.syntax unified
 263              		.thumb
 264              		.thumb_func
 265              		.fpu fpv4-sp-d16
 267              	convert_android_sensor_to_control:
 268              	.LFB34:
1517:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1518:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** /** Computes the sensor control register that needs to be sent to the DMP
1519:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c ****  *  @param[in] androidSensor A sensor number, the numbers correspond to sensors.h definition in And
1520:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c ****  *  @param[in] enable non-zero to turn sensor on, 0 to turn sensor off
1521:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c ****  *  @param[in] sen_num_2_ctrl Table matching android sensor number to bits in DMP control register
1522:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c ****  *  @param[in,out] sensor_control Sensor control register to write to DMP to enable/disable sensors
1523:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c ****  */
1524:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** static void convert_android_sensor_to_control(struct inv_icm207xx * s,
1525:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	uint8_t androidSensor, uint8_t enable, const short *sen_num_2_ctrl, uint16_t *sensor_control)
1526:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** {
 269              		.loc 1 1526 0
 270              		.cfi_startproc
 271              		@ args = 4, pretend = 0, frame = 0
 272              		@ frame_needed = 0, uses_anonymous_args = 0
 273              	.LVL37:
1527:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	short delta = 0;
1528:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1529:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if (androidSensor >= ANDROID_SENSOR_NUM_MAX)
 274              		.loc 1 1529 0
 275 0000 0529     		cmp	r1, #5
 276 0002 22D8     		bhi	.L29
1526:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	short delta = 0;
 277              		.loc 1 1526 0
 278 0004 10B5     		push	{r4, lr}
 279              	.LCFI3:
 280              		.cfi_def_cfa_offset 8
 281              		.cfi_offset 4, -8
 282              		.cfi_offset 14, -4
1530:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		return; // Sensor not supported
1531:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1532:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	delta = sen_num_2_ctrl[androidSensor];
 283              		.loc 1 1532 0
 284 0006 33F91140 		ldrsh	r4, [r3, r1, lsl #1]
 285              	.LVL38:
1533:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if (delta == -1)
 286              		.loc 1 1533 0
 287 000a B4F1FF3F 		cmp	r4, #-1
ARM GAS  /tmp/ccRGbSIg.s 			page 33


 288 000e 0DD0     		beq	.L25
1534:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		return; // This sensor not supported
1535:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1536:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if (enable) {
 289              		.loc 1 1536 0
 290 0010 6AB1     		cbz	r2, .L27
1537:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		s->android_sensor_mask |= 1L << (androidSensor & 0x1F); // Set bit
 291              		.loc 1 1537 0
 292 0012 01F01F01 		and	r1, r1, #31
 293              	.LVL39:
 294 0016 0123     		movs	r3, #1
 295              	.LVL40:
 296 0018 03FA01F1 		lsl	r1, r3, r1
 297 001c 036D     		ldr	r3, [r0, #80]
 298 001e 0B43     		orrs	r3, r3, r1
 299 0020 0365     		str	r3, [r0, #80]
1538:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		*sensor_control |= delta;
 300              		.loc 1 1538 0
 301 0022 029B     		ldr	r3, [sp, #8]
 302 0024 1B88     		ldrh	r3, [r3]
 303 0026 1C43     		orrs	r4, r4, r3
 304              	.LVL41:
 305 0028 029B     		ldr	r3, [sp, #8]
 306 002a 1C80     		strh	r4, [r3]	@ movhi
 307              	.LVL42:
 308              	.L25:
1539:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	} else {
1540:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		s->android_sensor_mask &= ~(1L << (androidSensor & 0x1F)); // Clear bit
1541:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		// control has to be regenerated when removing sensors because of overlap
1542:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		regenerate_sensor_control(s, sen_num_2_ctrl, sensor_control);
1543:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
1544:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** }
 309              		.loc 1 1544 0
 310 002c 10BD     		pop	{r4, pc}
 311              	.LVL43:
 312              	.L27:
1540:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		// control has to be regenerated when removing sensors because of overlap
 313              		.loc 1 1540 0
 314 002e 01F01F02 		and	r2, r1, #31
 315              	.LVL44:
 316 0032 0124     		movs	r4, #1
 317              	.LVL45:
 318 0034 04FA02F2 		lsl	r2, r4, r2
 319 0038 046D     		ldr	r4, [r0, #80]
 320 003a 24EA0204 		bic	r4, r4, r2
 321 003e 0465     		str	r4, [r0, #80]
 322              	.LVL46:
1542:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
 323              		.loc 1 1542 0
 324 0040 029A     		ldr	r2, [sp, #8]
 325 0042 1946     		mov	r1, r3
 326              	.LVL47:
 327 0044 FFF7FEFF 		bl	regenerate_sensor_control
 328              	.LVL48:
 329 0048 F0E7     		b	.L25
 330              	.LVL49:
 331              	.L29:
ARM GAS  /tmp/ccRGbSIg.s 			page 34


 332              	.LCFI4:
 333              		.cfi_def_cfa_offset 0
 334              		.cfi_restore 4
 335              		.cfi_restore 14
 336 004a 7047     		bx	lr
 337              		.cfi_endproc
 338              	.LFE34:
 340              		.section	.text.apply_gyr_bias,"ax",%progbits
 341              		.align	1
 342              		.syntax unified
 343              		.thumb
 344              		.thumb_func
 345              		.fpu fpv4-sp-d16
 347              	apply_gyr_bias:
 348              	.LFB18:
 233:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	int i;
 349              		.loc 1 233 0
 350              		.cfi_startproc
 351              		@ args = 0, pretend = 0, frame = 16
 352              		@ frame_needed = 0, uses_anonymous_args = 0
 353              	.LVL50:
 240:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			return 0;
 354              		.loc 1 240 0
 355 0000 90F86630 		ldrb	r3, [r0, #102]	@ zero_extendqisi2
 356 0004 002B     		cmp	r3, #0
 357 0006 5CD0     		beq	.L39
 233:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	int i;
 358              		.loc 1 233 0
 359 0008 30B5     		push	{r4, r5, lr}
 360              	.LCFI5:
 361              		.cfi_def_cfa_offset 12
 362              		.cfi_offset 4, -12
 363              		.cfi_offset 5, -8
 364              		.cfi_offset 14, -4
 365 000a 85B0     		sub	sp, sp, #20
 366              	.LCFI6:
 367              		.cfi_def_cfa_offset 32
 243:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 368              		.loc 1 243 0
 369 000c 0023     		movs	r3, #0
 370 000e 17E0     		b	.L34
 371              	.LVL51:
 372              	.L47:
 247:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		else if((s->power_state == PowerStateGyrLNState) || (s->power_state == PowerState6AxisLNState))
 373              		.loc 1 247 0
 374 0010 03F12002 		add	r2, r3, #32
 375 0014 50F82210 		ldr	r1, [r0, r2, lsl #2]
 376 0018 04AA     		add	r2, sp, #16
 377 001a 02EB8302 		add	r2, r2, r3, lsl #2
 378 001e 42F80C1C 		str	r1, [r2, #-12]
 379              	.L36:
 254:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
 380              		.loc 1 254 0 discriminator 2
 381 0022 04AA     		add	r2, sp, #16
 382 0024 02EB8302 		add	r2, r2, r3, lsl #2
 383 0028 52F80C2C 		ldr	r2, [r2, #-12]
 384 002c 5242     		negs	r2, r2
ARM GAS  /tmp/ccRGbSIg.s 			page 35


 385 002e 002A     		cmp	r2, #0
 386 0030 1CDB     		blt	.L45
 387              	.L37:
 388 0032 9210     		asrs	r2, r2, #2
 389 0034 04A9     		add	r1, sp, #16
 390 0036 01EB8301 		add	r1, r1, r3, lsl #2
 391 003a 41F80C2C 		str	r2, [r1, #-12]
 243:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 392              		.loc 1 243 0 discriminator 2
 393 003e 0133     		adds	r3, r3, #1
 394              	.LVL52:
 395              	.L34:
 243:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 396              		.loc 1 243 0 is_stmt 0 discriminator 1
 397 0040 022B     		cmp	r3, #2
 398 0042 15DC     		bgt	.L46
 246:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			sensor_bias[i] = s->gyro_st_bias[i];
 399              		.loc 1 246 0 is_stmt 1
 400 0044 90F84E20 		ldrb	r2, [r0, #78]	@ zero_extendqisi2
 401 0048 D11E     		subs	r1, r2, #3
 402 004a C9B2     		uxtb	r1, r1
 403 004c 0129     		cmp	r1, #1
 404 004e DFD9     		bls	.L47
 248:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			sensor_bias[i] = s->gyro_ois_st_bias[i];
 405              		.loc 1 248 0
 406 0050 053A     		subs	r2, r2, #5
 407 0052 D2B2     		uxtb	r2, r2
 408 0054 012A     		cmp	r2, #1
 409 0056 36D8     		bhi	.L40
 249:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		else
 410              		.loc 1 249 0
 411 0058 03F11A02 		add	r2, r3, #26
 412 005c 50F82210 		ldr	r1, [r0, r2, lsl #2]
 413 0060 04AA     		add	r2, sp, #16
 414 0062 02EB8302 		add	r2, r2, r3, lsl #2
 415 0066 42F80C1C 		str	r1, [r2, #-12]
 416 006a DAE7     		b	.L36
 417              	.L45:
 254:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
 418              		.loc 1 254 0 discriminator 2
 419 006c 0332     		adds	r2, r2, #3
 420 006e E0E7     		b	.L37
 421              	.L46:
 422 0070 0546     		mov	r5, r0
 257:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	data[1] = sensor_bias[0] & 0xff;
 423              		.loc 1 257 0
 424 0072 019B     		ldr	r3, [sp, #4]
 425              	.LVL53:
 426 0074 1A12     		asrs	r2, r3, #8
 427 0076 8DF80020 		strb	r2, [sp]
 258:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	rc = inv_icm207xx_mems_write_reg(s, MPUREG_XG_OFFS_USRH, 2, data);
 428              		.loc 1 258 0
 429 007a 8DF80130 		strb	r3, [sp, #1]
 259:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 430              		.loc 1 259 0
 431 007e 6B46     		mov	r3, sp
 432 0080 0222     		movs	r2, #2
ARM GAS  /tmp/ccRGbSIg.s 			page 36


 433 0082 1321     		movs	r1, #19
 434 0084 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 435              	.LVL54:
 436 0088 0446     		mov	r4, r0
 437              	.LVL55:
 261:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	data[1] = sensor_bias[1] & 0xff;
 438              		.loc 1 261 0
 439 008a 029B     		ldr	r3, [sp, #8]
 440 008c 1A12     		asrs	r2, r3, #8
 441 008e 8DF80020 		strb	r2, [sp]
 262:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	rc |= inv_icm207xx_mems_write_reg(s, MPUREG_YG_OFFS_USRH, 2, data);
 442              		.loc 1 262 0
 443 0092 8DF80130 		strb	r3, [sp, #1]
 263:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 444              		.loc 1 263 0
 445 0096 6B46     		mov	r3, sp
 446 0098 0222     		movs	r2, #2
 447 009a 1521     		movs	r1, #21
 448 009c 2846     		mov	r0, r5
 449              	.LVL56:
 450 009e FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 451              	.LVL57:
 452 00a2 0443     		orrs	r4, r4, r0
 453              	.LVL58:
 265:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	data[1] = sensor_bias[2] & 0xff;
 454              		.loc 1 265 0
 455 00a4 039B     		ldr	r3, [sp, #12]
 456 00a6 1A12     		asrs	r2, r3, #8
 457 00a8 8DF80020 		strb	r2, [sp]
 266:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	rc |= inv_icm207xx_mems_write_reg(s, MPUREG_ZG_OFFS_USRH, 2, data);
 458              		.loc 1 266 0
 459 00ac 8DF80130 		strb	r3, [sp, #1]
 267:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 460              		.loc 1 267 0
 461 00b0 6B46     		mov	r3, sp
 462 00b2 0222     		movs	r2, #2
 463 00b4 1721     		movs	r1, #23
 464 00b6 2846     		mov	r0, r5
 465 00b8 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 466              	.LVL59:
 467 00bc 2043     		orrs	r0, r0, r4
 468              	.LVL60:
 469              	.L32:
 270:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 470              		.loc 1 270 0
 471 00be 05B0     		add	sp, sp, #20
 472              	.LCFI7:
 473              		.cfi_def_cfa_offset 12
 474              		@ sp needed
 475 00c0 30BD     		pop	{r4, r5, pc}
 476              	.LVL61:
 477              	.L39:
 478              	.LCFI8:
 479              		.cfi_def_cfa_offset 0
 480              		.cfi_restore 4
 481              		.cfi_restore 5
 482              		.cfi_restore 14
ARM GAS  /tmp/ccRGbSIg.s 			page 37


 241:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 483              		.loc 1 241 0
 484 00c2 0020     		movs	r0, #0
 485              	.LVL62:
 270:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 486              		.loc 1 270 0
 487 00c4 7047     		bx	lr
 488              	.LVL63:
 489              	.L40:
 490              	.LCFI9:
 491              		.cfi_def_cfa_offset 32
 492              		.cfi_offset 4, -12
 493              		.cfi_offset 5, -8
 494              		.cfi_offset 14, -4
 251:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 495              		.loc 1 251 0
 496 00c6 4FF0FF30 		mov	r0, #-1
 497              	.LVL64:
 498 00ca F8E7     		b	.L32
 499              		.cfi_endproc
 500              	.LFE18:
 502              		.section	.text.apply_accel_fsr,"ax",%progbits
 503              		.align	1
 504              		.syntax unified
 505              		.thumb
 506              		.thumb_func
 507              		.fpu fpv4-sp-d16
 509              	apply_accel_fsr:
 510              	.LFB14:
  69:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	int result = 0;
 511              		.loc 1 69 0
 512              		.cfi_startproc
 513              		@ args = 0, pretend = 0, frame = 8
 514              		@ frame_needed = 0, uses_anonymous_args = 0
 515              	.LVL65:
 516 0000 30B5     		push	{r4, r5, lr}
 517              	.LCFI10:
 518              		.cfi_def_cfa_offset 12
 519              		.cfi_offset 4, -12
 520              		.cfi_offset 5, -8
 521              		.cfi_offset 14, -4
 522 0002 83B0     		sub	sp, sp, #12
 523              	.LCFI11:
 524              		.cfi_def_cfa_offset 24
 525 0004 0446     		mov	r4, r0
 526              	.LVL66:
  74:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	accel_config_1_reg &= ~BITS_ACCEL_FS_SEL;//0xE7;
 527              		.loc 1 74 0
 528 0006 0DF10703 		add	r3, sp, #7
 529 000a 0122     		movs	r2, #1
 530 000c 1C21     		movs	r1, #28
 531 000e FFF7FEFF 		bl	inv_icm207xx_mems_read_reg
 532              	.LVL67:
 533 0012 0546     		mov	r5, r0
 534              	.LVL68:
  75:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	accel_config_1_reg |= (s->base_state.accel_fullscale << BIT_POS_ACCEL_FS_SEL);
 535              		.loc 1 75 0
ARM GAS  /tmp/ccRGbSIg.s 			page 38


 536 0014 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 537 0018 03F0E703 		and	r3, r3, #231
  76:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	result |= inv_icm207xx_mems_write_reg(s, MPUREG_ACCEL_CONFIG, 1, &accel_config_1_reg);
 538              		.loc 1 76 0
 539 001c 94F84220 		ldrb	r2, [r4, #66]	@ zero_extendqisi2
 540 0020 43EAC203 		orr	r3, r3, r2, lsl #3
 541 0024 8DF80730 		strb	r3, [sp, #7]
  77:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 542              		.loc 1 77 0
 543 0028 0DF10703 		add	r3, sp, #7
 544 002c 0122     		movs	r2, #1
 545 002e 1C21     		movs	r1, #28
 546 0030 2046     		mov	r0, r4
 547              	.LVL69:
 548 0032 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 549              	.LVL70:
  80:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 550              		.loc 1 80 0
 551 0036 2843     		orrs	r0, r0, r5
 552              	.LVL71:
 553 0038 03B0     		add	sp, sp, #12
 554              	.LCFI12:
 555              		.cfi_def_cfa_offset 12
 556              		@ sp needed
 557 003a 30BD     		pop	{r4, r5, pc}
 558              		.cfi_endproc
 559              	.LFE14:
 561              		.section	.text.apply_accel_bias,"ax",%progbits
 562              		.align	1
 563              		.syntax unified
 564              		.thumb
 565              		.thumb_func
 566              		.fpu fpv4-sp-d16
 568              	apply_accel_bias:
 569              	.LFB16:
 123:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	int i, axis_sign;
 570              		.loc 1 123 0
 571              		.cfi_startproc
 572              		@ args = 0, pretend = 0, frame = 24
 573              		@ frame_needed = 0, uses_anonymous_args = 0
 574              	.LVL72:
 130:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		return 0;
 575              		.loc 1 130 0
 576 0000 90F86630 		ldrb	r3, [r0, #102]	@ zero_extendqisi2
 577 0004 002B     		cmp	r3, #0
 578 0006 00F0FA80 		beq	.L69
 123:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	int i, axis_sign;
 579              		.loc 1 123 0
 580 000a F0B5     		push	{r4, r5, r6, r7, lr}
 581              	.LCFI13:
 582              		.cfi_def_cfa_offset 20
 583              		.cfi_offset 4, -20
 584              		.cfi_offset 5, -16
 585              		.cfi_offset 6, -12
 586              		.cfi_offset 7, -8
 587              		.cfi_offset 14, -4
 588 000c 87B0     		sub	sp, sp, #28
ARM GAS  /tmp/ccRGbSIg.s 			page 39


 589              	.LCFI14:
 590              		.cfi_def_cfa_offset 48
 591 000e 0446     		mov	r4, r0
 133:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		// read accelerometer bias registers
 592              		.loc 1 133 0
 593 0010 90F8A460 		ldrb	r6, [r0, #164]	@ zero_extendqisi2
 594 0014 8EB1     		cbz	r6, .L83
 125:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	uint16_t accel_reg_otp[3], sensor_bias[3];
 595              		.loc 1 125 0
 596 0016 4FF0FF30 		mov	r0, #-1
 597              	.LVL73:
 598              	.L52:
 168:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		for(i = 0; i < 3; i++)
 599              		.loc 1 168 0
 600 001a 94F84E30 		ldrb	r3, [r4, #78]	@ zero_extendqisi2
 601 001e 012B     		cmp	r3, #1
 602 0020 00F0DA80 		beq	.L74
 168:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		for(i = 0; i < 3; i++)
 603              		.loc 1 168 0 is_stmt 0 discriminator 1
 604 0024 042B     		cmp	r3, #4
 605 0026 00F0D980 		beq	.L84
 171:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		for(i = 0; i < 3; i++)
 606              		.loc 1 171 0 is_stmt 1
 607 002a 022B     		cmp	r3, #2
 608 002c 00F0E580 		beq	.L76
 171:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		for(i = 0; i < 3; i++)
 609              		.loc 1 171 0 is_stmt 0 discriminator 1
 610 0030 062B     		cmp	r3, #6
 611 0032 40F0CF80 		bne	.L50
 612 0036 0023     		movs	r3, #0
 613 0038 DCE0     		b	.L67
 614              	.LVL74:
 615              	.L83:
 135:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		accel_reg_otp[0] = ((uint16_t)d[0] << 8) | d[1];
 616              		.loc 1 135 0 is_stmt 1
 617 003a 01AB     		add	r3, sp, #4
 618 003c 0222     		movs	r2, #2
 619 003e 7721     		movs	r1, #119
 620 0040 FFF7FEFF 		bl	inv_icm207xx_mems_read_reg
 621              	.LVL75:
 136:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		rc = inv_icm207xx_mems_read_reg(s, MPUREG_YA_OFFS_H, 2, d);
 622              		.loc 1 136 0
 623 0044 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
 624 0048 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 625 004c 43EA0223 		orr	r3, r3, r2, lsl #8
 626 0050 ADF81030 		strh	r3, [sp, #16]	@ movhi
 137:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		accel_reg_otp[1] = ((uint16_t)d[0] << 8) | d[1];
 627              		.loc 1 137 0
 628 0054 01AB     		add	r3, sp, #4
 629 0056 0222     		movs	r2, #2
 630 0058 7A21     		movs	r1, #122
 631 005a 2046     		mov	r0, r4
 632 005c FFF7FEFF 		bl	inv_icm207xx_mems_read_reg
 633              	.LVL76:
 138:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		rc = inv_icm207xx_mems_read_reg(s, MPUREG_ZA_OFFS_H, 2, d);
 634              		.loc 1 138 0
 635 0060 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
ARM GAS  /tmp/ccRGbSIg.s 			page 40


 636 0064 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 637 0068 43EA0223 		orr	r3, r3, r2, lsl #8
 638 006c ADF81230 		strh	r3, [sp, #18]	@ movhi
 139:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		accel_reg_otp[2] = ((uint16_t)d[0] << 8) | d[1];
 639              		.loc 1 139 0
 640 0070 01AB     		add	r3, sp, #4
 641 0072 0222     		movs	r2, #2
 642 0074 7D21     		movs	r1, #125
 643 0076 2046     		mov	r0, r4
 644 0078 FFF7FEFF 		bl	inv_icm207xx_mems_read_reg
 645              	.LVL77:
 140:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 646              		.loc 1 140 0
 647 007c 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
 648 0080 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 649 0084 43EA0223 		orr	r3, r3, r2, lsl #8
 650 0088 ADF81430 		strh	r3, [sp, #20]	@ movhi
 651              	.LVL78:
 145:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			axis = 1;
 652              		.loc 1 145 0
 653 008c A36F     		ldr	r3, [r4, #120]
 654 008e 83EAE372 		eor	r2, r3, r3, asr #31
 655 0092 A2EBE372 		sub	r2, r2, r3, asr #31
 656 0096 636F     		ldr	r3, [r4, #116]
 657 0098 002B     		cmp	r3, #0
 658 009a B8BF     		it	lt
 659 009c 5B42     		rsblt	r3, r3, #0
 660 009e 9A42     		cmp	r2, r3
 661 00a0 00DD     		ble	.L53
 146:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		if (INV_ABS(s->accel_ois_st_bias[2]) > INV_ABS(s->accel_ois_st_bias[axis]))
 662              		.loc 1 146 0
 663 00a2 0126     		movs	r6, #1
 664              	.L53:
 665              	.LVL79:
 147:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			axis = 2;
 666              		.loc 1 147 0
 667 00a4 E36F     		ldr	r3, [r4, #124]
 668 00a6 83EAE372 		eor	r2, r3, r3, asr #31
 669 00aa A2EBE372 		sub	r2, r2, r3, asr #31
 670 00ae 06F11C03 		add	r3, r6, #28
 671 00b2 04EB8303 		add	r3, r4, r3, lsl #2
 672 00b6 5B68     		ldr	r3, [r3, #4]
 673 00b8 002B     		cmp	r3, #0
 674 00ba B8BF     		it	lt
 675 00bc 5B42     		rsblt	r3, r3, #0
 676 00be 9A42     		cmp	r2, r3
 677 00c0 00DD     		ble	.L54
 148:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		if(s->accel_ois_st_bias[axis] < 0)
 678              		.loc 1 148 0
 679 00c2 0226     		movs	r6, #2
 680              	.LVL80:
 681              	.L54:
 149:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			axis_sign = -1;
 682              		.loc 1 149 0
 683 00c4 3546     		mov	r5, r6
 684 00c6 1C36     		adds	r6, r6, #28
 685              	.LVL81:
ARM GAS  /tmp/ccRGbSIg.s 			page 41


 686 00c8 04EB8606 		add	r6, r4, r6, lsl #2
 687 00cc 7368     		ldr	r3, [r6, #4]
 688 00ce 002B     		cmp	r3, #0
 689 00d0 02DB     		blt	.L73
 144:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		if (INV_ABS(s->accel_ois_st_bias[1]) > INV_ABS(s->accel_ois_st_bias[0]))
 690              		.loc 1 144 0
 691 00d2 0126     		movs	r6, #1
 692              	.L55:
 693              	.LVL82:
 153:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			// convert from 2g to 16g (1LSB = 0.49mg) on 15bits register and mask bit0
 694              		.loc 1 153 0
 695 00d4 0021     		movs	r1, #0
 696 00d6 12E0     		b	.L56
 697              	.LVL83:
 698              	.L73:
 150:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 699              		.loc 1 150 0
 700 00d8 4FF0FF36 		mov	r6, #-1
 701 00dc FAE7     		b	.L55
 702              	.LVL84:
 703              	.L87:
 156:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			s->accel_ois_reg_bias[i] = ((uint16_t)(accel_reg_otp[i] - (s->accel_ois_st_bias[i] / 8)) & ~1);
 704              		.loc 1 156 0
 705 00de 0733     		adds	r3, r3, #7
 706 00e0 1BE0     		b	.L57
 707              	.L58:
 157:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			// remove gravity for axis
 708              		.loc 1 157 0
 709 00e2 C7F3CF07 		ubfx	r7, r7, #3, #16
 710 00e6 D21B     		subs	r2, r2, r7
 711 00e8 92B2     		uxth	r2, r2
 712 00ea 22F00102 		bic	r2, r2, #1
 713 00ee 92B2     		uxth	r2, r2
 714 00f0 01F14C07 		add	r7, r1, #76
 715 00f4 24F81720 		strh	r2, [r4, r7, lsl #1]	@ movhi
 159:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->accel_reg_bias[i] += ((DEF_ST_SCALE / DEF_ST_ACCEL_FS) / 8) * axis_sign; 
 716              		.loc 1 159 0
 717 00f8 8D42     		cmp	r5, r1
 718 00fa 23D0     		beq	.L85
 719              	.L59:
 153:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			// convert from 2g to 16g (1LSB = 0.49mg) on 15bits register and mask bit0
 720              		.loc 1 153 0 discriminator 2
 721 00fc 0131     		adds	r1, r1, #1
 722              	.LVL85:
 723              	.L56:
 153:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			// convert from 2g to 16g (1LSB = 0.49mg) on 15bits register and mask bit0
 724              		.loc 1 153 0 is_stmt 0 discriminator 1
 725 00fe 0229     		cmp	r1, #2
 726 0100 2DDC     		bgt	.L86
 156:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			s->accel_ois_reg_bias[i] = ((uint16_t)(accel_reg_otp[i] - (s->accel_ois_st_bias[i] / 8)) & ~1);
 727              		.loc 1 156 0 is_stmt 1
 728 0102 06AB     		add	r3, sp, #24
 729 0104 03EB4103 		add	r3, r3, r1, lsl #1
 730 0108 33F8082C 		ldrh	r2, [r3, #-8]
 731 010c 01F12203 		add	r3, r1, #34
 732 0110 04EB8303 		add	r3, r4, r3, lsl #2
 733 0114 5B68     		ldr	r3, [r3, #4]
ARM GAS  /tmp/ccRGbSIg.s 			page 42


 734 0116 002B     		cmp	r3, #0
 735 0118 E1DB     		blt	.L87
 736              	.L57:
 737 011a C3F3CF03 		ubfx	r3, r3, #3, #16
 738 011e D31A     		subs	r3, r2, r3
 739 0120 9BB2     		uxth	r3, r3
 740 0122 23F00103 		bic	r3, r3, #1
 741 0126 9BB2     		uxth	r3, r3
 742 0128 01F14C07 		add	r7, r1, #76
 743 012c 04EB4707 		add	r7, r4, r7, lsl #1
 744 0130 FB80     		strh	r3, [r7, #6]	@ movhi
 157:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			// remove gravity for axis
 745              		.loc 1 157 0
 746 0132 01F11C07 		add	r7, r1, #28
 747 0136 04EB8707 		add	r7, r4, r7, lsl #2
 748 013a 7F68     		ldr	r7, [r7, #4]
 749 013c 002F     		cmp	r7, #0
 750 013e D0DA     		bge	.L58
 751 0140 0737     		adds	r7, r7, #7
 752 0142 CEE7     		b	.L58
 753              	.L85:
 160:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->accel_ois_reg_bias[i] += ((DEF_ST_SCALE / DEF_ST_ACCEL_FS) / 8) * axis_sign; 
 754              		.loc 1 160 0
 755 0144 F702     		lsls	r7, r6, #11
 756 0146 BFB2     		uxth	r7, r7
 757 0148 01F14C0C 		add	ip, r1, #76
 758 014c 04EB4C0E 		add	lr, r4, ip, lsl #1
 759 0150 3B44     		add	r3, r3, r7
 760 0152 AEF80630 		strh	r3, [lr, #6]	@ movhi
 161:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			}
 761              		.loc 1 161 0
 762 0156 3A44     		add	r2, r2, r7
 763 0158 24F81C20 		strh	r2, [r4, ip, lsl #1]	@ movhi
 764 015c CEE7     		b	.L59
 765              	.L86:
 164:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
 766              		.loc 1 164 0
 767 015e 0123     		movs	r3, #1
 768 0160 84F8A430 		strb	r3, [r4, #164]
 769 0164 59E7     		b	.L52
 770              	.LVL86:
 771              	.L64:
 170:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	} else if((s->power_state == PowerStateAccLNState) || (s->power_state == PowerState6AxisLNState)) 
 772              		.loc 1 170 0 discriminator 3
 773 0166 03F14C02 		add	r2, r3, #76
 774 016a 04EB4202 		add	r2, r4, r2, lsl #1
 775 016e D188     		ldrh	r1, [r2, #6]
 776 0170 06AA     		add	r2, sp, #24
 777 0172 02EB4302 		add	r2, r2, r3, lsl #1
 778 0176 22F8101C 		strh	r1, [r2, #-16]	@ movhi
 169:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			sensor_bias[i] = s->accel_reg_bias[i];
 779              		.loc 1 169 0 discriminator 3
 780 017a 0133     		adds	r3, r3, #1
 781              	.LVL87:
 782              	.L63:
 169:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			sensor_bias[i] = s->accel_reg_bias[i];
 783              		.loc 1 169 0 is_stmt 0 discriminator 1
ARM GAS  /tmp/ccRGbSIg.s 			page 43


 784 017c 022B     		cmp	r3, #2
 785 017e F2DD     		ble	.L64
 786              	.L65:
 177:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	d[1] = (sensor_bias[0] & 0xff);
 787              		.loc 1 177 0 is_stmt 1
 788 0180 BDF80830 		ldrh	r3, [sp, #8]
 789              	.LVL88:
 790 0184 1A0A     		lsrs	r2, r3, #8
 791 0186 8DF80420 		strb	r2, [sp, #4]
 178:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	rc = inv_icm207xx_mems_write_reg(s, MPUREG_XA_OFFS_H, 2, d);
 792              		.loc 1 178 0
 793 018a 8DF80530 		strb	r3, [sp, #5]
 179:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 794              		.loc 1 179 0
 795 018e 01AB     		add	r3, sp, #4
 796 0190 0222     		movs	r2, #2
 797 0192 7721     		movs	r1, #119
 798 0194 2046     		mov	r0, r4
 799              	.LVL89:
 800 0196 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 801              	.LVL90:
 802 019a 0546     		mov	r5, r0
 803              	.LVL91:
 181:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	d[1] = sensor_bias[1] & 0xff;
 804              		.loc 1 181 0
 805 019c BDF80A30 		ldrh	r3, [sp, #10]
 806 01a0 1A0A     		lsrs	r2, r3, #8
 807 01a2 8DF80420 		strb	r2, [sp, #4]
 182:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	rc |= inv_icm207xx_mems_write_reg(s, MPUREG_YA_OFFS_H, 2, d);
 808              		.loc 1 182 0
 809 01a6 8DF80530 		strb	r3, [sp, #5]
 183:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 810              		.loc 1 183 0
 811 01aa 01AB     		add	r3, sp, #4
 812 01ac 0222     		movs	r2, #2
 813 01ae 7A21     		movs	r1, #122
 814 01b0 2046     		mov	r0, r4
 815              	.LVL92:
 816 01b2 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 817              	.LVL93:
 818 01b6 0543     		orrs	r5, r5, r0
 819              	.LVL94:
 185:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	d[1] = sensor_bias[2] & 0xff;
 820              		.loc 1 185 0
 821 01b8 BDF80C30 		ldrh	r3, [sp, #12]
 822 01bc 1A0A     		lsrs	r2, r3, #8
 823 01be 8DF80420 		strb	r2, [sp, #4]
 186:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	rc |= inv_icm207xx_mems_write_reg(s, MPUREG_ZA_OFFS_H, 2, d);
 824              		.loc 1 186 0
 825 01c2 8DF80530 		strb	r3, [sp, #5]
 187:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 826              		.loc 1 187 0
 827 01c6 01AB     		add	r3, sp, #4
 828 01c8 0222     		movs	r2, #2
 829 01ca 7D21     		movs	r1, #125
 830 01cc 2046     		mov	r0, r4
 831 01ce FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
ARM GAS  /tmp/ccRGbSIg.s 			page 44


 832              	.LVL95:
 833 01d2 2843     		orrs	r0, r0, r5
 834              	.LVL96:
 835              	.L50:
 190:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 836              		.loc 1 190 0
 837 01d4 07B0     		add	sp, sp, #28
 838              	.LCFI15:
 839              		.cfi_remember_state
 840              		.cfi_def_cfa_offset 20
 841              		@ sp needed
 842 01d6 F0BD     		pop	{r4, r5, r6, r7, pc}
 843              	.LVL97:
 844              	.L74:
 845              	.LCFI16:
 846              		.cfi_restore_state
 847 01d8 0023     		movs	r3, #0
 848 01da CFE7     		b	.L63
 849              	.L84:
 850 01dc 0023     		movs	r3, #0
 851 01de CDE7     		b	.L63
 852              	.LVL98:
 853              	.L68:
 173:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	} else
 854              		.loc 1 173 0 discriminator 3
 855 01e0 03F14C02 		add	r2, r3, #76
 856 01e4 34F81210 		ldrh	r1, [r4, r2, lsl #1]
 857 01e8 06AA     		add	r2, sp, #24
 858 01ea 02EB4302 		add	r2, r2, r3, lsl #1
 859 01ee 22F8101C 		strh	r1, [r2, #-16]	@ movhi
 172:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			sensor_bias[i] = s->accel_ois_reg_bias[i];
 860              		.loc 1 172 0 discriminator 3
 861 01f2 0133     		adds	r3, r3, #1
 862              	.LVL99:
 863              	.L67:
 172:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			sensor_bias[i] = s->accel_ois_reg_bias[i];
 864              		.loc 1 172 0 is_stmt 0 discriminator 1
 865 01f4 022B     		cmp	r3, #2
 866 01f6 F3DD     		ble	.L68
 867 01f8 C2E7     		b	.L65
 868              	.LVL100:
 869              	.L76:
 870 01fa 0023     		movs	r3, #0
 871 01fc FAE7     		b	.L67
 872              	.LVL101:
 873              	.L69:
 874              	.LCFI17:
 875              		.cfi_def_cfa_offset 0
 876              		.cfi_restore 4
 877              		.cfi_restore 5
 878              		.cfi_restore 6
 879              		.cfi_restore 7
 880              		.cfi_restore 14
 131:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 881              		.loc 1 131 0 is_stmt 1
 882 01fe 0020     		movs	r0, #0
 883              	.LVL102:
ARM GAS  /tmp/ccRGbSIg.s 			page 45


 190:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 884              		.loc 1 190 0
 885 0200 7047     		bx	lr
 886              		.cfi_endproc
 887              	.LFE16:
 889              		.section	.text.enable_interrupt,"ax",%progbits
 890              		.align	1
 891              		.syntax unified
 892              		.thumb
 893              		.thumb_func
 894              		.fpu fpv4-sp-d16
 896              	enable_interrupt:
 897              	.LFB19:
 273:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	int result = 0;
 898              		.loc 1 273 0
 899              		.cfi_startproc
 900              		@ args = 0, pretend = 0, frame = 8
 901              		@ frame_needed = 0, uses_anonymous_args = 0
 902              	.LVL103:
 903 0000 70B5     		push	{r4, r5, r6, lr}
 904              	.LCFI18:
 905              		.cfi_def_cfa_offset 16
 906              		.cfi_offset 4, -16
 907              		.cfi_offset 5, -12
 908              		.cfi_offset 6, -8
 909              		.cfi_offset 14, -4
 910 0002 82B0     		sub	sp, sp, #8
 911              	.LCFI19:
 912              		.cfi_def_cfa_offset 24
 913 0004 0646     		mov	r6, r0
 914 0006 0C46     		mov	r4, r1
 915              	.LVL104:
 277:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 916              		.loc 1 277 0
 917 0008 0DF10703 		add	r3, sp, #7
 918 000c 0122     		movs	r2, #1
 919 000e 3821     		movs	r1, #56
 920              	.LVL105:
 921 0010 FFF7FEFF 		bl	inv_icm207xx_mems_read_reg
 922              	.LVL106:
 923 0014 0546     		mov	r5, r0
 924              	.LVL107:
 279:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data &= ~BIT_DATA_RDY_INT_EN; // clear data ready interrupt
 925              		.loc 1 279 0
 926 0016 042C     		cmp	r4, #4
 927 0018 07D0     		beq	.L89
 279:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data &= ~BIT_DATA_RDY_INT_EN; // clear data ready interrupt
 928              		.loc 1 279 0 is_stmt 0 discriminator 1
 929 001a 34B1     		cbz	r4, .L89
 282:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 930              		.loc 1 282 0 is_stmt 1
 931 001c 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 932 0020 43F00103 		orr	r3, r3, #1
 933 0024 8DF80730 		strb	r3, [sp, #7]
 934 0028 05E0     		b	.L91
 935              	.L89:
 280:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	else
ARM GAS  /tmp/ccRGbSIg.s 			page 46


 936              		.loc 1 280 0
 937 002a 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 938 002e 23F00103 		bic	r3, r3, #1
 939 0032 8DF80730 		strb	r3, [sp, #7]
 940              	.L91:
 284:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 941              		.loc 1 284 0
 942 0036 0DF10703 		add	r3, sp, #7
 943 003a 0122     		movs	r2, #1
 944 003c 3821     		movs	r1, #56
 945 003e 3046     		mov	r0, r6
 946              	.LVL108:
 947 0040 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 948              	.LVL109:
 287:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 949              		.loc 1 287 0
 950 0044 2843     		orrs	r0, r0, r5
 951              	.LVL110:
 952 0046 02B0     		add	sp, sp, #8
 953              	.LCFI20:
 954              		.cfi_def_cfa_offset 16
 955              		@ sp needed
 956 0048 70BD     		pop	{r4, r5, r6, pc}
 957              		.cfi_endproc
 958              	.LFE19:
 960              		.section	.text.apply_accel_bw,"ax",%progbits
 961              		.align	1
 962              		.syntax unified
 963              		.thumb
 964              		.thumb_func
 965              		.fpu fpv4-sp-d16
 967              	apply_accel_bw:
 968              	.LFB15:
  83:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	int result = 0;
 969              		.loc 1 83 0
 970              		.cfi_startproc
 971              		@ args = 0, pretend = 0, frame = 8
 972              		@ frame_needed = 0, uses_anonymous_args = 0
 973              	.LVL111:
 974 0000 70B5     		push	{r4, r5, r6, lr}
 975              	.LCFI21:
 976              		.cfi_def_cfa_offset 16
 977              		.cfi_offset 4, -16
 978              		.cfi_offset 5, -12
 979              		.cfi_offset 6, -8
 980              		.cfi_offset 14, -4
 981 0002 82B0     		sub	sp, sp, #8
 982              	.LCFI22:
 983              		.cfi_def_cfa_offset 24
 984 0004 0446     		mov	r4, r0
 985              	.LVL112:
  89:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case 1:  dec2_cfg = 0; break;
 986              		.loc 1 89 0
 987 0006 90F83F30 		ldrb	r3, [r0, #63]	@ zero_extendqisi2
 988 000a 102B     		cmp	r3, #16
 989 000c 23D0     		beq	.L95
 990 000e 202B     		cmp	r3, #32
ARM GAS  /tmp/ccRGbSIg.s 			page 47


 991 0010 23D0     		beq	.L96
 992 0012 082B     		cmp	r3, #8
 993 0014 23D0     		beq	.L102
  90:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case 4:  dec2_cfg = 0; break;
 994              		.loc 1 90 0
 995 0016 0026     		movs	r6, #0
 996              	.L97:
 997              	.LVL113:
  98:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	accel_config_2_reg &= ~BITS_DEC2_CFG;
 998              		.loc 1 98 0
 999 0018 0DF10703 		add	r3, sp, #7
 1000 001c 0122     		movs	r2, #1
 1001 001e 1D21     		movs	r1, #29
 1002 0020 2046     		mov	r0, r4
 1003              	.LVL114:
 1004 0022 FFF7FEFF 		bl	inv_icm207xx_mems_read_reg
 1005              	.LVL115:
 1006 0026 0546     		mov	r5, r0
 1007              	.LVL116:
  99:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	accel_config_2_reg &= ~BITS_A_DLPF_CFG;
 1008              		.loc 1 99 0
 1009 0028 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 100:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 1010              		.loc 1 100 0
 1011 002c 03F0C803 		and	r3, r3, #200
 1012 0030 8DF80730 		strb	r3, [sp, #7]
 103:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	{
 1013              		.loc 1 103 0
 1014 0034 2046     		mov	r0, r4
 1015              	.LVL117:
 1016 0036 FFF7FEFF 		bl	inv_icm207xx_get_chip_power_state
 1017              	.LVL118:
 1018 003a 10F0020F 		tst	r0, #2
 1019 003e 10D1     		bne	.L104
 110:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			accel_config_2_reg |= MPU_ABW_218; // 0 < A_DLPF_CFG < 7
 1020              		.loc 1 110 0
 1021 0040 94F84530 		ldrb	r3, [r4, #69]	@ zero_extendqisi2
 1022 0044 062B     		cmp	r3, #6
 1023 0046 1ED9     		bls	.L100
 111:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		else
 1024              		.loc 1 111 0
 1025 0048 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 1026 004c 43F00103 		orr	r3, r3, #1
 1027 0050 8DF80730 		strb	r3, [sp, #7]
 1028 0054 0DE0     		b	.L99
 1029              	.LVL119:
 1030              	.L95:
  93:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case 32: dec2_cfg = 3; break;
 1031              		.loc 1 93 0
 1032 0056 0226     		movs	r6, #2
 1033 0058 DEE7     		b	.L97
 1034              	.LVL120:
 1035              	.L96:
  94:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	default: dec2_cfg = 0; break;
 1036              		.loc 1 94 0
 1037 005a 0326     		movs	r6, #3
 1038 005c DCE7     		b	.L97
ARM GAS  /tmp/ccRGbSIg.s 			page 48


 1039              	.LVL121:
 1040              	.L102:
  92:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case 16: dec2_cfg = 2; break;
 1041              		.loc 1 92 0
 1042 005e 0126     		movs	r6, #1
 1043 0060 DAE7     		b	.L97
 1044              	.LVL122:
 1045              	.L104:
 105:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		accel_config_2_reg |= (dec2_cfg << BIT_POS_DEC2_CFG);
 1046              		.loc 1 105 0
 1047 0062 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 1048 0066 43F00703 		orr	r3, r3, #7
 106:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
 1049              		.loc 1 106 0
 1050 006a 43EA0613 		orr	r3, r3, r6, lsl #4
 1051 006e 8DF80730 		strb	r3, [sp, #7]
 1052              	.LVL123:
 1053              	.L99:
 117:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 1054              		.loc 1 117 0
 1055 0072 0DF10703 		add	r3, sp, #7
 1056 0076 0122     		movs	r2, #1
 1057 0078 1D21     		movs	r1, #29
 1058 007a 2046     		mov	r0, r4
 1059 007c FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 1060              	.LVL124:
 120:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 1061              		.loc 1 120 0
 1062 0080 2843     		orrs	r0, r0, r5
 1063              	.LVL125:
 1064 0082 02B0     		add	sp, sp, #8
 1065              	.LCFI23:
 1066              		.cfi_remember_state
 1067              		.cfi_def_cfa_offset 16
 1068              		@ sp needed
 1069 0084 70BD     		pop	{r4, r5, r6, pc}
 1070              	.LVL126:
 1071              	.L100:
 1072              	.LCFI24:
 1073              		.cfi_restore_state
 113:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		dec2_cfg = 0;		
 1074              		.loc 1 113 0
 1075 0086 9DF80720 		ldrb	r2, [sp, #7]	@ zero_extendqisi2
 1076 008a 1343     		orrs	r3, r3, r2
 1077 008c 8DF80730 		strb	r3, [sp, #7]
 1078              	.LVL127:
 1079 0090 EFE7     		b	.L99
 1080              		.cfi_endproc
 1081              	.LFE15:
 1083              		.section	.text.apply_gyr_fsr_bw,"ax",%progbits
 1084              		.align	1
 1085              		.syntax unified
 1086              		.thumb
 1087              		.thumb_func
 1088              		.fpu fpv4-sp-d16
 1090              	apply_gyr_fsr_bw:
 1091              	.LFB17:
ARM GAS  /tmp/ccRGbSIg.s 			page 49


 193:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	int result = 0;
 1092              		.loc 1 193 0
 1093              		.cfi_startproc
 1094              		@ args = 0, pretend = 0, frame = 8
 1095              		@ frame_needed = 0, uses_anonymous_args = 0
 1096              	.LVL128:
 1097 0000 70B5     		push	{r4, r5, r6, lr}
 1098              	.LCFI25:
 1099              		.cfi_def_cfa_offset 16
 1100              		.cfi_offset 4, -16
 1101              		.cfi_offset 5, -12
 1102              		.cfi_offset 6, -8
 1103              		.cfi_offset 14, -4
 1104 0002 82B0     		sub	sp, sp, #8
 1105              	.LCFI26:
 1106              		.cfi_def_cfa_offset 24
 1107 0004 0546     		mov	r5, r0
 1108              	.LVL129:
 200:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	gyro_config_1_reg &= ~BITS_GYRO_FS_SEL;
 1109              		.loc 1 200 0
 1110 0006 0DF10603 		add	r3, sp, #6
 1111 000a 0122     		movs	r2, #1
 1112 000c 1B21     		movs	r1, #27
 1113 000e FFF7FEFF 		bl	inv_icm207xx_mems_read_reg
 1114              	.LVL130:
 1115 0012 0446     		mov	r4, r0
 1116              	.LVL131:
 201:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	gyro_config_1_reg |= (inv_icm207xx_get_gyro_fullscale(s)<< BIT_POS_GYRO_FS_SEL);
 1117              		.loc 1 201 0
 1118 0014 9DF80630 		ldrb	r3, [sp, #6]	@ zero_extendqisi2
 1119 0018 23F01803 		bic	r3, r3, #24
 1120 001c 8DF80630 		strb	r3, [sp, #6]
 202:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	result |= inv_icm207xx_mems_write_reg(s, MPUREG_GYRO_CONFIG, 1, &gyro_config_1_reg);
 1121              		.loc 1 202 0
 1122 0020 2846     		mov	r0, r5
 1123              	.LVL132:
 1124 0022 FFF7FEFF 		bl	inv_icm207xx_get_gyro_fullscale
 1125              	.LVL133:
 1126 0026 9DF80630 		ldrb	r3, [sp, #6]	@ zero_extendqisi2
 1127 002a 43EAC000 		orr	r0, r3, r0, lsl #3
 1128 002e 8DF80600 		strb	r0, [sp, #6]
 203:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 1129              		.loc 1 203 0
 1130 0032 0DF10603 		add	r3, sp, #6
 1131 0036 0122     		movs	r2, #1
 1132 0038 1B21     		movs	r1, #27
 1133 003a 2846     		mov	r0, r5
 1134 003c FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 1135              	.LVL134:
 1136 0040 0443     		orrs	r4, r4, r0
 1137              	.LVL135:
 206:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case 1:   g_avgcfg = 0; break;
 1138              		.loc 1 206 0
 1139 0042 95F83E30 		ldrb	r3, [r5, #62]	@ zero_extendqisi2
 1140 0046 102B     		cmp	r3, #16
 1141 0048 4BD0     		beq	.L107
 1142 004a 3ED8     		bhi	.L108
ARM GAS  /tmp/ccRGbSIg.s 			page 50


 1143 004c 042B     		cmp	r3, #4
 1144 004e 44D0     		beq	.L109
 1145 0050 082B     		cmp	r3, #8
 1146 0052 44D0     		beq	.L110
 1147 0054 022B     		cmp	r3, #2
 1148 0056 4AD0     		beq	.L117
 1149              	.L106:
 207:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case 2:   g_avgcfg = 1; break;
 1150              		.loc 1 207 0
 1151 0058 0026     		movs	r6, #0
 1152              	.L111:
 1153              	.LVL136:
 218:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	data &= ~BITS_G_AVGCFG;
 1154              		.loc 1 218 0
 1155 005a 0DF10703 		add	r3, sp, #7
 1156 005e 0122     		movs	r2, #1
 1157 0060 1E21     		movs	r1, #30
 1158 0062 2846     		mov	r0, r5
 1159 0064 FFF7FEFF 		bl	inv_icm207xx_mems_read_reg
 1160              	.LVL137:
 1161 0068 0443     		orrs	r4, r4, r0
 1162              	.LVL138:
 219:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	data |= (g_avgcfg<<BIT_POS_G_AVGCFG);
 1163              		.loc 1 219 0
 1164 006a 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 1165 006e 03F08F03 		and	r3, r3, #143
 220:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	result |= inv_icm207xx_mems_write_reg(s, MPUREG_LP_CONFIG, 1, &data);
 1166              		.loc 1 220 0
 1167 0072 43EA0613 		orr	r3, r3, r6, lsl #4
 1168 0076 8DF80730 		strb	r3, [sp, #7]
 221:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 1169              		.loc 1 221 0
 1170 007a 0DF10703 		add	r3, sp, #7
 1171 007e 0122     		movs	r2, #1
 1172 0080 1E21     		movs	r1, #30
 1173 0082 2846     		mov	r0, r5
 1174 0084 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 1175              	.LVL139:
 1176 0088 0443     		orrs	r4, r4, r0
 1177              	.LVL140:
 224:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	data &= ~BITS_DLPF_CFG; // Clear bits[2:0]
 1178              		.loc 1 224 0
 1179 008a 0DF10703 		add	r3, sp, #7
 1180 008e 0122     		movs	r2, #1
 1181 0090 1A21     		movs	r1, #26
 1182 0092 2846     		mov	r0, r5
 1183 0094 FFF7FEFF 		bl	inv_icm207xx_mems_read_reg
 1184              	.LVL141:
 1185 0098 0443     		orrs	r4, r4, r0
 1186              	.LVL142:
 225:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	data |= inv_icm207xx_get_gyro_bandwidth(s);
 1187              		.loc 1 225 0
 1188 009a 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 1189 009e 23F00703 		bic	r3, r3, #7
 1190 00a2 8DF80730 		strb	r3, [sp, #7]
 226:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	result |= inv_icm207xx_mems_write_reg(s, MPUREG_CONFIG, 1, &data);
 1191              		.loc 1 226 0
ARM GAS  /tmp/ccRGbSIg.s 			page 51


 1192 00a6 2846     		mov	r0, r5
 1193 00a8 FFF7FEFF 		bl	inv_icm207xx_get_gyro_bandwidth
 1194              	.LVL143:
 1195 00ac 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 1196 00b0 1843     		orrs	r0, r0, r3
 1197 00b2 8DF80700 		strb	r0, [sp, #7]
 227:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 1198              		.loc 1 227 0
 1199 00b6 0DF10703 		add	r3, sp, #7
 1200 00ba 0122     		movs	r2, #1
 1201 00bc 1A21     		movs	r1, #26
 1202 00be 2846     		mov	r0, r5
 1203 00c0 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 1204              	.LVL144:
 230:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 1205              		.loc 1 230 0
 1206 00c4 2043     		orrs	r0, r0, r4
 1207              	.LVL145:
 1208 00c6 02B0     		add	sp, sp, #8
 1209              	.LCFI27:
 1210              		.cfi_remember_state
 1211              		.cfi_def_cfa_offset 16
 1212              		@ sp needed
 1213 00c8 70BD     		pop	{r4, r5, r6, pc}
 1214              	.LVL146:
 1215              	.L108:
 1216              	.LCFI28:
 1217              		.cfi_restore_state
 206:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case 1:   g_avgcfg = 0; break;
 1218              		.loc 1 206 0
 1219 00ca 402B     		cmp	r3, #64
 1220 00cc 0BD0     		beq	.L112
 1221 00ce 802B     		cmp	r3, #128
 1222 00d0 0BD0     		beq	.L113
 1223 00d2 202B     		cmp	r3, #32
 1224 00d4 C0D1     		bne	.L106
 1225              	.LVL147:
 212:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case 64:  g_avgcfg = 6; break;
 1226              		.loc 1 212 0
 1227 00d6 0526     		movs	r6, #5
 1228 00d8 BFE7     		b	.L111
 1229              	.LVL148:
 1230              	.L109:
 209:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case 8:   g_avgcfg = 3; break;
 1231              		.loc 1 209 0
 1232 00da 0226     		movs	r6, #2
 1233 00dc BDE7     		b	.L111
 1234              	.LVL149:
 1235              	.L110:
 210:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case 16:  g_avgcfg = 4; break;
 1236              		.loc 1 210 0
 1237 00de 0326     		movs	r6, #3
 1238 00e0 BBE7     		b	.L111
 1239              	.LVL150:
 1240              	.L107:
 211:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case 32:  g_avgcfg = 5; break;
 1241              		.loc 1 211 0
ARM GAS  /tmp/ccRGbSIg.s 			page 52


 1242 00e2 0426     		movs	r6, #4
 1243 00e4 B9E7     		b	.L111
 1244              	.LVL151:
 1245              	.L112:
 213:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case 128: g_avgcfg = 7; break;
 1246              		.loc 1 213 0
 1247 00e6 0626     		movs	r6, #6
 1248 00e8 B7E7     		b	.L111
 1249              	.LVL152:
 1250              	.L113:
 214:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	default:  g_avgcfg = 0; break;
 1251              		.loc 1 214 0
 1252 00ea 0726     		movs	r6, #7
 1253 00ec B5E7     		b	.L111
 1254              	.LVL153:
 1255              	.L117:
 208:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case 4:   g_avgcfg = 2; break;
 1256              		.loc 1 208 0
 1257 00ee 0126     		movs	r6, #1
 1258 00f0 B3E7     		b	.L111
 1259              		.cfi_endproc
 1260              	.LFE17:
 1262              		.section	.text.SampleRateDividerGet,"ax",%progbits
 1263              		.align	1
 1264              		.syntax unified
 1265              		.thumb
 1266              		.thumb_func
 1267              		.fpu fpv4-sp-d16
 1269              	SampleRateDividerGet:
 1270              	.LFB29:
1344:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	//u16	Delay = INV_MIN(ODR_MIN_DELAY, MinDelay);
 1271              		.loc 1 1344 0
 1272              		.cfi_startproc
 1273              		@ args = 0, pretend = 0, frame = 0
 1274              		@ frame_needed = 0, uses_anonymous_args = 0
 1275              	.LVL154:
 1276 0000 10B5     		push	{r4, lr}
 1277              	.LCFI29:
 1278              		.cfi_def_cfa_offset 8
 1279              		.cfi_offset 4, -8
 1280              		.cfi_offset 14, -4
 1281 0002 0C46     		mov	r4, r1
1346:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** }
 1282              		.loc 1 1346 0
 1283 0004 FFF7FEFF 		bl	inv_icm207xx_get_chip_base_sample_rate
 1284              	.LVL155:
 1285 0008 00FB04F0 		mul	r0, r0, r4
 1286 000c 034B     		ldr	r3, .L120
 1287 000e 83FB0023 		smull	r2, r3, r3, r0
 1288 0012 C017     		asrs	r0, r0, #31
 1289 0014 C0EBA310 		rsb	r0, r0, r3, asr #6
1347:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 1290              		.loc 1 1347 0
 1291 0018 80B2     		uxth	r0, r0
 1292 001a 10BD     		pop	{r4, pc}
 1293              	.L121:
 1294              		.align	2
ARM GAS  /tmp/ccRGbSIg.s 			page 53


 1295              	.L120:
 1296 001c D34D6210 		.word	274877907
 1297              		.cfi_endproc
 1298              	.LFE29:
 1300              		.section	.text.set_hw_smplrt_dmp_odrs,"ax",%progbits
 1301              		.align	1
 1302              		.syntax unified
 1303              		.thumb
 1304              		.thumb_func
 1305              		.fpu fpv4-sp-d16
 1307              	set_hw_smplrt_dmp_odrs:
 1308              	.LFB30:
1351:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	int result = 0;
 1309              		.loc 1 1351 0
 1310              		.cfi_startproc
 1311              		@ args = 0, pretend = 0, frame = 8
 1312              		@ frame_needed = 0, uses_anonymous_args = 0
 1313              	.LVL156:
 1314 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 1315              	.LCFI30:
 1316              		.cfi_def_cfa_offset 28
 1317              		.cfi_offset 4, -28
 1318              		.cfi_offset 5, -24
 1319              		.cfi_offset 6, -20
 1320              		.cfi_offset 7, -16
 1321              		.cfi_offset 8, -12
 1322              		.cfi_offset 9, -8
 1323              		.cfi_offset 14, -4
 1324 0004 83B0     		sub	sp, sp, #12
 1325              	.LCFI31:
 1326              		.cfi_def_cfa_offset 40
 1327 0006 0446     		mov	r4, r0
 1328 0008 8846     		mov	r8, r1
 1329              	.LVL157:
1353:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	uint16_t hw_smplrt_divider = 0;
 1330              		.loc 1 1353 0
 1331 000a 0023     		movs	r3, #0
 1332 000c 8DF80730 		strb	r3, [sp, #7]
 1333              	.LVL158:
1358:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	{
 1334              		.loc 1 1358 0
 1335 0010 036D     		ldr	r3, [r0, #80]
 1336 0012 13F0010F 		tst	r3, #1
 1337 0016 46D1     		bne	.L132
1352:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	uint8_t data = 0;
 1338              		.loc 1 1352 0
 1339 0018 0025     		movs	r5, #0
 1340              	.LVL159:
 1341              	.L123:
1366:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	{
 1342              		.loc 1 1366 0
 1343 001a 236D     		ldr	r3, [r4, #80]
 1344 001c 13F0020F 		tst	r3, #2
 1345 0020 57D1     		bne	.L133
 1346              	.L124:
1380:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			(s->android_sensor_mask & INV_NEEDS_COMPASS_MASK))
 1347              		.loc 1 1380 0
ARM GAS  /tmp/ccRGbSIg.s 			page 54


 1348 0022 236D     		ldr	r3, [r4, #80]
1379:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			(s->android_sensor_mask & INV_NEEDS_GYRO_MASK) ||
 1349              		.loc 1 1379 0
 1350 0024 13F0070F 		tst	r3, #7
 1351 0028 00F08680 		beq	.L129
 1352              	.LBB7:
1387:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 1353              		.loc 1 1387 0
 1354 002c 0122     		movs	r2, #1
 1355 002e 4849     		ldr	r1, .L134
 1356 0030 2046     		mov	r0, r4
 1357 0032 FFF7FEFF 		bl	MinDelayGenActual
 1358              	.LVL160:
 1359 0036 0646     		mov	r6, r0
 1360              	.LVL161:
1390:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 1361              		.loc 1 1390 0
 1362 0038 0122     		movs	r2, #1
 1363 003a 4649     		ldr	r1, .L134+4
 1364 003c 2046     		mov	r0, r4
 1365 003e FFF7FEFF 		bl	MinDelayGenActual
 1366              	.LVL162:
 1367 0042 8146     		mov	r9, r0
 1368              	.LVL163:
1393:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		// Limit compass max access rate
 1369              		.loc 1 1393 0
 1370 0044 0122     		movs	r2, #1
 1371 0046 4449     		ldr	r1, .L134+8
 1372 0048 2046     		mov	r0, r4
 1373 004a FFF7FEFF 		bl	MinDelayGenActual
 1374              	.LVL164:
1395:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 1375              		.loc 1 1395 0
 1376 004e 0A28     		cmp	r0, #10
 1377 0050 38BF     		it	cc
 1378 0052 0A20     		movcc	r0, #10
 1379              	.LVL165:
 1380 0054 87B2     		uxth	r7, r0
 1381              	.LVL166:
1398:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		if(minDly>minDly_compass) // if compass is faster
 1382              		.loc 1 1398 0
 1383 0056 4E45     		cmp	r6, r9
 1384 0058 28BF     		it	cs
 1385 005a 4E46     		movcs	r6, r9
 1386              	.LVL167:
 1387 005c B0B2     		uxth	r0, r6
 1388              	.LVL168:
1399:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			s->base_state.sample_repeat_cnt = minDly/minDly_compass;
 1389              		.loc 1 1399 0
 1390 005e 8742     		cmp	r7, r0
 1391 0060 66D2     		bcs	.L126
1400:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		else
 1392              		.loc 1 1400 0
 1393 0062 B0FBF7F3 		udiv	r3, r0, r7
 1394 0066 84F84C30 		strb	r3, [r4, #76]
 1395              	.L127:
1404:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
ARM GAS  /tmp/ccRGbSIg.s 			page 55


 1396              		.loc 1 1404 0
 1397 006a B842     		cmp	r0, r7
 1398 006c 28BF     		it	cs
 1399 006e 3846     		movcs	r0, r7
 1400              	.LVL169:
 1401 0070 0646     		mov	r6, r0
 1402              	.LVL170:
1407:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		{
 1403              		.loc 1 1407 0
 1404 0072 4FF6FF73 		movw	r3, #65535
 1405 0076 9842     		cmp	r0, r3
 1406 0078 66D0     		beq	.L130
1409:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			result |= inv_icm207xx_set_divider(s, (uint8_t)(hw_smplrt_divider - 1));
 1407              		.loc 1 1409 0
 1408 007a 0146     		mov	r1, r0
 1409 007c 2046     		mov	r0, r4
 1410              	.LVL171:
 1411 007e FFF7FEFF 		bl	SampleRateDividerGet
 1412              	.LVL172:
 1413 0082 8146     		mov	r9, r0
 1414              	.LVL173:
1410:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			if(s->android_sensor_mask & INV_NEEDS_COMPASS_MASK)
 1415              		.loc 1 1410 0
 1416 0084 411E     		subs	r1, r0, #1
 1417 0086 C9B2     		uxtb	r1, r1
 1418 0088 2046     		mov	r0, r4
 1419              	.LVL174:
 1420 008a FFF7FEFF 		bl	inv_icm207xx_set_divider
 1421              	.LVL175:
 1422 008e 0543     		orrs	r5, r5, r0
 1423              	.LVL176:
1411:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_set_i2c_mst_dly(s, minDly, minDly_compass);
 1424              		.loc 1 1411 0
 1425 0090 236D     		ldr	r3, [r4, #80]
 1426 0092 13F0040F 		tst	r3, #4
 1427 0096 51D0     		beq	.L125
1412:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		}
 1428              		.loc 1 1412 0
 1429 0098 3A46     		mov	r2, r7
 1430 009a 3146     		mov	r1, r6
 1431 009c 2046     		mov	r0, r4
 1432 009e FFF7FEFF 		bl	inv_icm207xx_set_i2c_mst_dly
 1433              	.LVL177:
 1434 00a2 0543     		orrs	r5, r5, r0
 1435              	.LVL178:
 1436 00a4 4AE0     		b	.L125
 1437              	.LVL179:
 1438              	.L132:
 1439              	.LBE7:
1360:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data &= ~BITS_ACCEL_FCHOICE_B; // Clear ACCEL_FCHOICE_B
 1440              		.loc 1 1360 0
 1441 00a6 0DF10703 		add	r3, sp, #7
 1442 00aa 0122     		movs	r2, #1
 1443 00ac 1D21     		movs	r1, #29
 1444              	.LVL180:
 1445 00ae FFF7FEFF 		bl	inv_icm207xx_mems_read_reg
 1446              	.LVL181:
ARM GAS  /tmp/ccRGbSIg.s 			page 56


 1447 00b2 0546     		mov	r5, r0
 1448              	.LVL182:
1361:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_mems_write_reg(s, MPUREG_ACCEL_CONFIG_2, 1, &data);
 1449              		.loc 1 1361 0
 1450 00b4 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 1451 00b8 23F00803 		bic	r3, r3, #8
 1452 00bc 8DF80730 		strb	r3, [sp, #7]
1362:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
 1453              		.loc 1 1362 0
 1454 00c0 0DF10703 		add	r3, sp, #7
 1455 00c4 0122     		movs	r2, #1
 1456 00c6 1D21     		movs	r1, #29
 1457 00c8 2046     		mov	r0, r4
 1458              	.LVL183:
 1459 00ca FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 1460              	.LVL184:
 1461 00ce 0543     		orrs	r5, r5, r0
 1462              	.LVL185:
 1463 00d0 A3E7     		b	.L123
 1464              	.L133:
1368:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data &= ~BITS_FCHOICE_B; // Clear FCHOICE_B
 1465              		.loc 1 1368 0
 1466 00d2 0DF10703 		add	r3, sp, #7
 1467 00d6 0122     		movs	r2, #1
 1468 00d8 1B21     		movs	r1, #27
 1469 00da 2046     		mov	r0, r4
 1470 00dc FFF7FEFF 		bl	inv_icm207xx_mems_read_reg
 1471              	.LVL186:
 1472 00e0 0543     		orrs	r5, r5, r0
 1473              	.LVL187:
1369:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_mems_write_reg(s, MPUREG_GYRO_CONFIG, 1, &data);
 1474              		.loc 1 1369 0
 1475 00e2 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 1476 00e6 23F00303 		bic	r3, r3, #3
 1477 00ea 8DF80730 		strb	r3, [sp, #7]
1370:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 1478              		.loc 1 1370 0
 1479 00ee 0DF10703 		add	r3, sp, #7
 1480 00f2 0122     		movs	r2, #1
 1481 00f4 1B21     		movs	r1, #27
 1482 00f6 2046     		mov	r0, r4
 1483 00f8 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 1484              	.LVL188:
 1485 00fc 0543     		orrs	r5, r5, r0
 1486              	.LVL189:
1372:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data &= ~0x7; // Clear bits[2:0]
 1487              		.loc 1 1372 0
 1488 00fe 0DF10703 		add	r3, sp, #7
 1489 0102 0122     		movs	r2, #1
 1490 0104 1A21     		movs	r1, #26
 1491 0106 2046     		mov	r0, r4
 1492 0108 FFF7FEFF 		bl	inv_icm207xx_mems_read_reg
 1493              	.LVL190:
 1494 010c 0543     		orrs	r5, r5, r0
 1495              	.LVL191:
1373:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data |= 0x1;
 1496              		.loc 1 1373 0
ARM GAS  /tmp/ccRGbSIg.s 			page 57


 1497 010e 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 1498 0112 03F0F803 		and	r3, r3, #248
1374:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_mems_write_reg(s, MPUREG_CONFIG, 1, &data);
 1499              		.loc 1 1374 0
 1500 0116 43F00103 		orr	r3, r3, #1
 1501 011a 8DF80730 		strb	r3, [sp, #7]
1375:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
 1502              		.loc 1 1375 0
 1503 011e 0DF10703 		add	r3, sp, #7
 1504 0122 0122     		movs	r2, #1
 1505 0124 1A21     		movs	r1, #26
 1506 0126 2046     		mov	r0, r4
 1507 0128 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 1508              	.LVL192:
 1509 012c 0543     		orrs	r5, r5, r0
 1510              	.LVL193:
 1511 012e 78E7     		b	.L124
 1512              	.LVL194:
 1513              	.L126:
 1514              	.LBB8:
1402:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 1515              		.loc 1 1402 0
 1516 0130 0123     		movs	r3, #1
 1517 0132 84F84C30 		strb	r3, [r4, #76]
 1518 0136 98E7     		b	.L127
 1519              	.LVL195:
 1520              	.L129:
 1521              	.LBE8:
1354:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 1522              		.loc 1 1354 0
 1523 0138 4FF00009 		mov	r9, #0
 1524              	.LVL196:
 1525              	.L125:
1434:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	return result;
 1526              		.loc 1 1434 0
 1527 013c A8F80090 		strh	r9, [r8]	@ movhi
1436:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 1528              		.loc 1 1436 0
 1529 0140 2846     		mov	r0, r5
 1530 0142 03B0     		add	sp, sp, #12
 1531              	.LCFI32:
 1532              		.cfi_remember_state
 1533              		.cfi_def_cfa_offset 28
 1534              		@ sp needed
 1535 0144 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 1536              	.LVL197:
 1537              	.L130:
 1538              	.LCFI33:
 1539              		.cfi_restore_state
1354:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 1540              		.loc 1 1354 0
 1541 0148 4FF00009 		mov	r9, #0
 1542              	.LVL198:
 1543 014c F6E7     		b	.L125
 1544              	.L135:
 1545 014e 00BF     		.align	2
 1546              	.L134:
ARM GAS  /tmp/ccRGbSIg.s 			page 58


 1547 0150 00000000 		.word	.LANCHOR0
 1548 0154 00000000 		.word	.LANCHOR1
 1549 0158 00000000 		.word	.LANCHOR2
 1550              		.cfi_endproc
 1551              	.LFE30:
 1553              		.section	.text.inv_icm207xx_has_data_ready,"ax",%progbits
 1554              		.align	1
 1555              		.global	inv_icm207xx_has_data_ready
 1556              		.syntax unified
 1557              		.thumb
 1558              		.thumb_func
 1559              		.fpu fpv4-sp-d16
 1561              	inv_icm207xx_has_data_ready:
 1562              	.LFB20:
 290:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	uint8_t int_status;
 1563              		.loc 1 290 0
 1564              		.cfi_startproc
 1565              		@ args = 0, pretend = 0, frame = 8
 1566              		@ frame_needed = 0, uses_anonymous_args = 0
 1567              	.LVL199:
 1568 0000 00B5     		push	{lr}
 1569              	.LCFI34:
 1570              		.cfi_def_cfa_offset 4
 1571              		.cfi_offset 14, -4
 1572 0002 83B0     		sub	sp, sp, #12
 1573              	.LCFI35:
 1574              		.cfi_def_cfa_offset 16
 1575              	.LVL200:
 1576              	.LBB9:
 1577              	.LBB10:
 1578              		.file 2 "Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h"
   1:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h **** /*
   2:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h ****  * ________________________________________________________________________________________________
   3:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h ****  * Copyright (c) 2015-2015 InvenSense Inc. All rights reserved.
   4:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h ****  *
   5:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h ****  * This software, related documentation and any modifications thereto (collectively “Software”)
   6:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h ****  * to InvenSense and its licensors' intellectual property rights under U.S. and international copyr
   7:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h ****  * and other intellectual property rights laws.
   8:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h ****  *
   9:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h ****  * InvenSense and its licensors retain all intellectual property and proprietary rights in and to t
  10:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h ****  * and any use, reproduction, disclosure or distribution of the Software without an express license
  11:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h ****  * from InvenSense is strictly prohibited.
  12:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h ****  *
  13:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h ****  * EXCEPT AS OTHERWISE PROVIDED IN A LICENSE AGREEMENT BETWEEN THE PARTIES, THE SOFTWARE IS
  14:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h ****  * PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED
  15:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h ****  * TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT.
  16:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h ****  * EXCEPT AS OTHERWISE PROVIDED IN A LICENSE AGREEMENT BETWEEN THE PARTIES, IN NO EVENT SHALL
  17:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h ****  * INVENSENSE BE LIABLE FOR ANY DIRECT, SPECIAL, INDIRECT, INCIDENTAL, OR CONSEQUENTIAL DAMAGES, OR
  18:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h ****  * DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT
  19:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h ****  * NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE
  20:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h ****  * OF THE SOFTWARE.
  21:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h ****  * ________________________________________________________________________________________________
  22:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h ****  */
  23:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h **** 
  24:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h **** /** @defgroup DriverIcm207xxTransport Icm207xx driver transport
  25:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h ****  *  @brief    Low-level Icm207xx register access
  26:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h ****  *  @ingroup  DriverIcm207xx
ARM GAS  /tmp/ccRGbSIg.s 			page 59


  27:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h ****  *  @{
  28:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h ****  */
  29:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h **** 
  30:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h **** #ifndef _INV_ICM207XX_TRANSPORT_H_
  31:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h **** #define _INV_ICM207XX_TRANSPORT_H_
  32:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h **** 
  33:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h **** #include "Invn/InvExport.h"
  34:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h **** 
  35:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h **** #ifdef __cplusplus
  36:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h **** extern "C" {
  37:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h **** #endif
  38:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h **** 
  39:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h **** #include <stdint.h>
  40:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h **** 
  41:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h **** /* forward declaration */
  42:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h **** struct inv_icm207xx;
  43:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h **** 
  44:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h **** int INV_EXPORT inv_icm207xx_read_reg(struct inv_icm207xx * s, uint8_t reg, uint8_t * buf, uint32_t 
  45:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h **** 
  46:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h **** int INV_EXPORT inv_icm207xx_write_reg(struct inv_icm207xx * s, uint8_t reg, const uint8_t * buf, ui
  47:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h **** 
  48:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h **** int INV_EXPORT inv_icm207xx_read_reg_ois(struct inv_icm207xx * s, uint8_t reg,	uint8_t * buf, uint3
  49:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h **** 
  50:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h **** static inline int inv_icm207xx_write_reg_one(struct inv_icm207xx * s, uint8_t reg, uint8_t reg_valu
  51:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h **** {
  52:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h **** 	return inv_icm207xx_write_reg(s, reg, &reg_value, 1);
  53:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h **** }
  54:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h **** 
  55:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h **** static inline int inv_icm207xx_read_reg_one(struct inv_icm207xx * s, uint8_t reg, uint8_t * reg_val
  56:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h **** {
  57:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h **** 	return inv_icm207xx_read_reg(s, reg, reg_value, 1);
 1579              		.loc 2 57 0
 1580 0004 0123     		movs	r3, #1
 1581 0006 0DF10702 		add	r2, sp, #7
 1582              	.LVL201:
 1583 000a 3A21     		movs	r1, #58
 1584 000c FFF7FEFF 		bl	inv_icm207xx_read_reg
 1585              	.LVL202:
 1586              	.LBE10:
 1587              	.LBE9:
 295:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		return 1;
 1588              		.loc 1 295 0
 1589 0010 0346     		mov	r3, r0
 1590 0012 20B9     		cbnz	r0, .L136
 295:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		return 1;
 1591              		.loc 1 295 0 is_stmt 0 discriminator 1
 1592 0014 9DF80720 		ldrb	r2, [sp, #7]	@ zero_extendqisi2
 1593 0018 12F0010F 		tst	r2, #1
 1594 001c 03D1     		bne	.L140
 1595              	.L136:
 300:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 1596              		.loc 1 300 0 is_stmt 1
 1597 001e 1846     		mov	r0, r3
 1598 0020 03B0     		add	sp, sp, #12
 1599              	.LCFI36:
 1600              		.cfi_remember_state
 1601              		.cfi_def_cfa_offset 4
ARM GAS  /tmp/ccRGbSIg.s 			page 60


 1602              		@ sp needed
 1603 0022 5DF804FB 		ldr	pc, [sp], #4
 1604              	.L140:
 1605              	.LCFI37:
 1606              		.cfi_restore_state
 296:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
 1607              		.loc 1 296 0
 1608 0026 0123     		movs	r3, #1
 1609 0028 F9E7     		b	.L136
 1610              		.cfi_endproc
 1611              	.LFE20:
 1613              		.section	.text.inv_icm207xx_get_int_status,"ax",%progbits
 1614              		.align	1
 1615              		.global	inv_icm207xx_get_int_status
 1616              		.syntax unified
 1617              		.thumb
 1618              		.thumb_func
 1619              		.fpu fpv4-sp-d16
 1621              	inv_icm207xx_get_int_status:
 1622              	.LFB21:
 303:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	return inv_icm207xx_read_reg_one(s, REG_INT_STATUS, int_status);
 1623              		.loc 1 303 0
 1624              		.cfi_startproc
 1625              		@ args = 0, pretend = 0, frame = 0
 1626              		@ frame_needed = 0, uses_anonymous_args = 0
 1627              	.LVL203:
 1628 0000 08B5     		push	{r3, lr}
 1629              	.LCFI38:
 1630              		.cfi_def_cfa_offset 8
 1631              		.cfi_offset 3, -8
 1632              		.cfi_offset 14, -4
 1633              	.LVL204:
 1634              	.LBB11:
 1635              	.LBB12:
 1636              		.loc 2 57 0
 1637 0002 0123     		movs	r3, #1
 1638 0004 0A46     		mov	r2, r1
 1639 0006 3A21     		movs	r1, #58
 1640              	.LVL205:
 1641 0008 FFF7FEFF 		bl	inv_icm207xx_read_reg
 1642              	.LVL206:
 1643              	.LBE12:
 1644              	.LBE11:
 305:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 1645              		.loc 1 305 0
 1646 000c 08BD     		pop	{r3, pc}
 1647              		.cfi_endproc
 1648              	.LFE21:
 1650              		.section	.text.inv_icm207xx_check_drdy,"ax",%progbits
 1651              		.align	1
 1652              		.global	inv_icm207xx_check_drdy
 1653              		.syntax unified
 1654              		.thumb
 1655              		.thumb_func
 1656              		.fpu fpv4-sp-d16
 1658              	inv_icm207xx_check_drdy:
 1659              	.LFB22:
ARM GAS  /tmp/ccRGbSIg.s 			page 61


 308:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	(void)s;
 1660              		.loc 1 308 0
 1661              		.cfi_startproc
 1662              		@ args = 0, pretend = 0, frame = 0
 1663              		@ frame_needed = 0, uses_anonymous_args = 0
 1664              		@ link register save eliminated.
 1665              	.LVL207:
 311:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		return 1;
 1666              		.loc 1 311 0
 1667 0000 11F0010F 		tst	r1, #1
 1668 0004 01D1     		bne	.L146
 314:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** }
 1669              		.loc 1 314 0
 1670 0006 0020     		movs	r0, #0
 1671              	.LVL208:
 315:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 1672              		.loc 1 315 0
 1673 0008 7047     		bx	lr
 1674              	.LVL209:
 1675              	.L146:
 312:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 1676              		.loc 1 312 0
 1677 000a 0120     		movs	r0, #1
 1678              	.LVL210:
 1679 000c 7047     		bx	lr
 1680              		.cfi_endproc
 1681              	.LFE22:
 1683              		.section	.text.inv_icm207xx_check_wom_status,"ax",%progbits
 1684              		.align	1
 1685              		.global	inv_icm207xx_check_wom_status
 1686              		.syntax unified
 1687              		.thumb
 1688              		.thumb_func
 1689              		.fpu fpv4-sp-d16
 1691              	inv_icm207xx_check_wom_status:
 1692              	.LFB23:
 318:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	int wom_data = 0;
 1693              		.loc 1 318 0
 1694              		.cfi_startproc
 1695              		@ args = 0, pretend = 0, frame = 0
 1696              		@ frame_needed = 0, uses_anonymous_args = 0
 1697              		@ link register save eliminated.
 1698              	.LVL211:
 323:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		wom_data |= 0x1;
 1699              		.loc 1 323 0
 1700 0000 11F0800F 		tst	r1, #128
 1701 0004 0BD1     		bne	.L151
 319:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 1702              		.loc 1 319 0
 1703 0006 0020     		movs	r0, #0
 1704              	.LVL212:
 1705              	.L148:
 325:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		wom_data |= 0x2;
 1706              		.loc 1 325 0
 1707 0008 11F0400F 		tst	r1, #64
 1708 000c 01D0     		beq	.L149
 326:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if(int_status & BIT_WOM_Z_INT)
ARM GAS  /tmp/ccRGbSIg.s 			page 62


 1709              		.loc 1 326 0
 1710 000e 40F00200 		orr	r0, r0, #2
 1711              	.LVL213:
 1712              	.L149:
 327:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		wom_data |= 0x4;
 1713              		.loc 1 327 0
 1714 0012 11F0200F 		tst	r1, #32
 1715 0016 01D0     		beq	.L147
 328:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 1716              		.loc 1 328 0
 1717 0018 40F00400 		orr	r0, r0, #4
 1718              	.LVL214:
 1719              	.L147:
 331:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 1720              		.loc 1 331 0
 1721 001c 7047     		bx	lr
 1722              	.LVL215:
 1723              	.L151:
 324:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if(int_status & BIT_WOM_Y_INT)
 1724              		.loc 1 324 0
 1725 001e 0120     		movs	r0, #1
 1726              	.LVL216:
 1727 0020 F2E7     		b	.L148
 1728              		.cfi_endproc
 1729              	.LFE23:
 1731              		.section	.text.inv_icm207xx_enable_mems,"ax",%progbits
 1732              		.align	1
 1733              		.global	inv_icm207xx_enable_mems
 1734              		.syntax unified
 1735              		.thumb
 1736              		.thumb_func
 1737              		.fpu fpv4-sp-d16
 1739              	inv_icm207xx_enable_mems:
 1740              	.LFB27:
 612:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	int result = 0;
 1741              		.loc 1 612 0
 1742              		.cfi_startproc
 1743              		@ args = 0, pretend = 0, frame = 0
 1744              		@ frame_needed = 0, uses_anonymous_args = 0
 1745              	.LVL217:
 1746 0000 70B5     		push	{r4, r5, r6, lr}
 1747              	.LCFI39:
 1748              		.cfi_def_cfa_offset 16
 1749              		.cfi_offset 4, -16
 1750              		.cfi_offset 5, -12
 1751              		.cfi_offset 6, -8
 1752              		.cfi_offset 14, -4
 1753 0002 0446     		mov	r4, r0
 1754              	.LVL218:
 643:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		bit_mask |= HIGH_ODR_REQUESTED;
 1755              		.loc 1 643 0
 1756 0004 012A     		cmp	r2, #1
 1757 0006 1ED0     		beq	.L215
 1758              	.L153:
 651:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case 0 :
 1759              		.loc 1 651 0
 1760 0008 01F01701 		and	r1, r1, #23
ARM GAS  /tmp/ccRGbSIg.s 			page 63


 1761              	.LVL219:
 1762 000c 1729     		cmp	r1, #23
 1763 000e 00F24585 		bhi	.L207
 1764 0012 DFE811F0 		tbh	[pc, r1, lsl #1]
 1765              	.L156:
 1766 0016 1B00     		.2byte	(.L155-.L156)/2
 1767 0018 9801     		.2byte	(.L157-.L156)/2
 1768 001a 4C00     		.2byte	(.L158-.L156)/2
 1769 001c 6603     		.2byte	(.L159-.L156)/2
 1770 001e 7F02     		.2byte	(.L160-.L156)/2
 1771 0020 7F02     		.2byte	(.L160-.L156)/2
 1772 0022 5604     		.2byte	(.L161-.L156)/2
 1773 0024 5604     		.2byte	(.L161-.L156)/2
 1774 0026 4305     		.2byte	(.L207-.L156)/2
 1775 0028 4305     		.2byte	(.L207-.L156)/2
 1776 002a 4305     		.2byte	(.L207-.L156)/2
 1777 002c 4305     		.2byte	(.L207-.L156)/2
 1778 002e 4305     		.2byte	(.L207-.L156)/2
 1779 0030 4305     		.2byte	(.L207-.L156)/2
 1780 0032 4305     		.2byte	(.L207-.L156)/2
 1781 0034 4305     		.2byte	(.L207-.L156)/2
 1782 0036 4305     		.2byte	(.L207-.L156)/2
 1783 0038 7F02     		.2byte	(.L160-.L156)/2
 1784 003a 1301     		.2byte	(.L162-.L156)/2
 1785 003c 5604     		.2byte	(.L161-.L156)/2
 1786 003e 4305     		.2byte	(.L207-.L156)/2
 1787 0040 7F02     		.2byte	(.L160-.L156)/2
 1788 0042 5604     		.2byte	(.L161-.L156)/2
 1789 0044 5604     		.2byte	(.L161-.L156)/2
 1790              	.LVL220:
 1791              		.p2align 1
 1792              	.L215:
 644:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #else
 1793              		.loc 1 644 0
 1794 0046 41F01001 		orr	r1, r1, #16
 1795              	.LVL221:
 1796 004a DDE7     		b	.L153
 1797              	.LVL222:
 1798              	.L155:
 654:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_1, 1, &s->base_state.pwr_mgmt_1);
 1799              		.loc 1 654 0
 1800 004c 94F83520 		ldrb	r2, [r4, #53]	@ zero_extendqisi2
 1801              	.LVL223:
 1802 0050 42F04002 		orr	r2, r2, #64
 1803 0054 2346     		mov	r3, r4
 1804 0056 03F8352F 		strb	r2, [r3, #53]!
 655:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 1805              		.loc 1 655 0
 1806 005a 0122     		movs	r2, #1
 1807 005c 6B21     		movs	r1, #107
 1808 005e 2046     		mov	r0, r4
 1809              	.LVL224:
 1810 0060 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 1811              	.LVL225:
 1812 0064 0546     		mov	r5, r0
 1813              	.LVL226:
 657:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &s->base_state.pwr_mgmt_2);
ARM GAS  /tmp/ccRGbSIg.s 			page 64


 1814              		.loc 1 657 0
 1815 0066 94F83620 		ldrb	r2, [r4, #54]	@ zero_extendqisi2
 1816 006a 42F03F02 		orr	r2, r2, #63
 1817 006e 2346     		mov	r3, r4
 1818 0070 03F8362F 		strb	r2, [r3, #54]!
 658:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		
 1819              		.loc 1 658 0
 1820 0074 0122     		movs	r2, #1
 1821 0076 6C21     		movs	r1, #108
 1822 0078 2046     		mov	r0, r4
 1823              	.LVL227:
 1824 007a FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 1825              	.LVL228:
 1826 007e 0543     		orrs	r5, r5, r0
 1827              	.LVL229:
 660:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		s->power_state = PowerStateSleepState;
 1828              		.loc 1 660 0
 1829 0080 94F83430 		ldrb	r3, [r4, #52]	@ zero_extendqisi2
 1830 0084 23F00103 		bic	r3, r3, #1
 1831 0088 84F83430 		strb	r3, [r4, #52]
 661:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		break;
 1832              		.loc 1 661 0
 1833 008c 0023     		movs	r3, #0
 1834 008e 84F84E30 		strb	r3, [r4, #78]
 1835              	.LVL230:
 1836              	.L154:
1289:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_1, 1, &s->base_state.pwr_mgmt_1);
 1837              		.loc 1 1289 0
 1838 0092 94F83520 		ldrb	r2, [r4, #53]	@ zero_extendqisi2
 1839 0096 22F00802 		bic	r2, r2, #8
 1840 009a 2346     		mov	r3, r4
 1841 009c 03F8352F 		strb	r2, [r3, #53]!
1290:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 1842              		.loc 1 1290 0
 1843 00a0 0122     		movs	r2, #1
 1844 00a2 6B21     		movs	r1, #107
 1845 00a4 2046     		mov	r0, r4
 1846 00a6 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 1847              	.LVL231:
1293:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 1848              		.loc 1 1293 0
 1849 00aa 2843     		orrs	r0, r0, r5
 1850              	.LVL232:
 1851 00ac 70BD     		pop	{r4, r5, r6, pc}
 1852              	.LVL233:
 1853              	.L158:
 667:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		{
 1854              		.loc 1 667 0
 1855 00ae 94F84E30 		ldrb	r3, [r4, #78]	@ zero_extendqisi2
 1856 00b2 062B     		cmp	r3, #6
 1857 00b4 00F2C080 		bhi	.L208
 1858 00b8 DFE803F0 		tbb	[pc, r3]
 1859              	.LVL234:
 1860              	.L165:
 1861 00bc 04       		.byte	(.L164-.L165)/2
 1862 00bd BE       		.byte	(.L208-.L165)/2
 1863 00be 54       		.byte	(.L166-.L165)/2
ARM GAS  /tmp/ccRGbSIg.s 			page 65


 1864 00bf 6C       		.byte	(.L167-.L165)/2
 1865 00c0 97       		.byte	(.L168-.L165)/2
 1866 00c1 6C       		.byte	(.L167-.L165)/2
 1867 00c2 97       		.byte	(.L168-.L165)/2
 1868 00c3 00       		.p2align 1
 1869              	.L164:
 671:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_2 |= BIT_PWR_GYRO_STBY;
 1870              		.loc 1 671 0
 1871 00c4 94F83620 		ldrb	r2, [r4, #54]	@ zero_extendqisi2
 1872 00c8 02F0C702 		and	r2, r2, #199
 672:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &s->base_state.pwr_mgmt_2);
 1873              		.loc 1 672 0
 1874 00cc 42F00702 		orr	r2, r2, #7
 1875 00d0 2346     		mov	r3, r4
 1876 00d2 03F8362F 		strb	r2, [r3, #54]!
 673:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 1877              		.loc 1 673 0
 1878 00d6 0122     		movs	r2, #1
 1879 00d8 6C21     		movs	r1, #108
 1880 00da 2046     		mov	r0, r4
 1881              	.LVL235:
 1882 00dc FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 1883              	.LVL236:
 1884 00e0 0546     		mov	r5, r0
 1885              	.LVL237:
 676:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_1 &= ~BIT_CYCLE;
 1886              		.loc 1 676 0
 1887 00e2 94F83530 		ldrb	r3, [r4, #53]	@ zero_extendqisi2
 677:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_1, 1, &s->base_state.pwr_mgmt_1);
 1888              		.loc 1 677 0
 1889 00e6 03F09F03 		and	r3, r3, #159
 1890 00ea 2646     		mov	r6, r4
 1891 00ec 06F8353F 		strb	r3, [r6, #53]!
 678:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.wake_state |= CHIP_AWAKE;
 1892              		.loc 1 678 0
 1893 00f0 3346     		mov	r3, r6
 1894 00f2 0122     		movs	r2, #1
 1895 00f4 6B21     		movs	r1, #107
 1896 00f6 2046     		mov	r0, r4
 1897              	.LVL238:
 1898 00f8 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 1899              	.LVL239:
 1900 00fc 0543     		orrs	r5, r5, r0
 1901              	.LVL240:
 679:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.wake_state &= ~CHIP_LP_ENABLE;
 1902              		.loc 1 679 0
 1903 00fe 94F83430 		ldrb	r3, [r4, #52]	@ zero_extendqisi2
 1904 0102 43F00103 		orr	r3, r3, #1
 680:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				inv_icm207xx_sleep(2);
 1905              		.loc 1 680 0
 1906 0106 23F00203 		bic	r3, r3, #2
 1907 010a 84F83430 		strb	r3, [r4, #52]
 681:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= apply_accel_fsr(s);
 1908              		.loc 1 681 0
 1909 010e 0220     		movs	r0, #2
 1910 0110 FFF7FEFF 		bl	inv_icm207xx_sleep
 1911              	.LVL241:
ARM GAS  /tmp/ccRGbSIg.s 			page 66


 682:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 1912              		.loc 1 682 0
 1913 0114 2046     		mov	r0, r4
 1914 0116 FFF7FEFF 		bl	apply_accel_fsr
 1915              	.LVL242:
 1916 011a 0543     		orrs	r5, r5, r0
 1917              	.LVL243:
 684:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if (MEMS_CHIP == HW_ICM20603)
 1918              		.loc 1 684 0
 1919 011c 94F83530 		ldrb	r3, [r4, #53]	@ zero_extendqisi2
 1920 0120 03F0BF03 		and	r3, r3, #191
 688:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 1921              		.loc 1 688 0
 1922 0124 43F02003 		orr	r3, r3, #32
 1923 0128 84F83530 		strb	r3, [r4, #53]
 690:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if (MEMS_CHIP == HW_ICM20603)
 1924              		.loc 1 690 0
 1925 012c 3346     		mov	r3, r6
 1926 012e 0122     		movs	r2, #1
 1927 0130 6B21     		movs	r1, #107
 1928 0132 2046     		mov	r0, r4
 1929 0134 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 1930              	.LVL244:
 1931 0138 0543     		orrs	r5, r5, r0
 1932              	.LVL245:
 694:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 1933              		.loc 1 694 0
 1934 013a 94F83430 		ldrb	r3, [r4, #52]	@ zero_extendqisi2
 1935 013e 43F00203 		orr	r3, r3, #2
 1936 0142 84F83430 		strb	r3, [r4, #52]
 697:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				inv_icm207xx_sleep(20); // accel startup time
 1937              		.loc 1 697 0
 1938 0146 2046     		mov	r0, r4
 1939 0148 FFF7FEFF 		bl	apply_accel_bw
 1940              	.LVL246:
 1941 014c 0543     		orrs	r5, r5, r0
 1942              	.LVL247:
 698:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				break;
 1943              		.loc 1 698 0
 1944 014e 1420     		movs	r0, #20
 1945 0150 FFF7FEFF 		bl	inv_icm207xx_sleep
 1946              	.LVL248:
 1947              	.L163:
 783:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 1948              		.loc 1 783 0
 1949 0154 0123     		movs	r3, #1
 1950 0156 84F84E30 		strb	r3, [r4, #78]
 785:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		break;
 1951              		.loc 1 785 0
 1952 015a 2046     		mov	r0, r4
 1953 015c FFF7FEFF 		bl	apply_accel_bias
 1954              	.LVL249:
 1955 0160 0543     		orrs	r5, r5, r0
 1956              	.LVL250:
 786:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 1957              		.loc 1 786 0
 1958 0162 96E7     		b	.L154
ARM GAS  /tmp/ccRGbSIg.s 			page 67


 1959              	.LVL251:
 1960              	.L166:
 705:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 1961              		.loc 1 705 0
 1962 0164 94F83520 		ldrb	r2, [r4, #53]	@ zero_extendqisi2
 1963 0168 42F02002 		orr	r2, r2, #32
 1964 016c 2346     		mov	r3, r4
 1965 016e 03F8352F 		strb	r2, [r3, #53]!
 707:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if (MEMS_CHIP == HW_ICM20603)
 1966              		.loc 1 707 0
 1967 0172 0122     		movs	r2, #1
 1968 0174 6B21     		movs	r1, #107
 1969 0176 2046     		mov	r0, r4
 1970              	.LVL252:
 1971 0178 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 1972              	.LVL253:
 1973 017c 0546     		mov	r5, r0
 1974              	.LVL254:
 711:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 1975              		.loc 1 711 0
 1976 017e 94F83430 		ldrb	r3, [r4, #52]	@ zero_extendqisi2
 1977 0182 43F00203 		orr	r3, r3, #2
 1978 0186 84F83430 		strb	r3, [r4, #52]
 713:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				break;
 1979              		.loc 1 713 0
 1980 018a 2046     		mov	r0, r4
 1981              	.LVL255:
 1982 018c FFF7FEFF 		bl	apply_accel_bw
 1983              	.LVL256:
 1984 0190 0543     		orrs	r5, r5, r0
 1985              	.LVL257:
 714:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			case PowerStateGyrLPState:
 1986              		.loc 1 714 0
 1987 0192 DFE7     		b	.L163
 1988              	.LVL258:
 1989              	.L167:
 719:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 1990              		.loc 1 719 0
 1991 0194 2046     		mov	r0, r4
 1992              	.LVL259:
 1993 0196 FFF7FEFF 		bl	apply_accel_fsr
 1994              	.LVL260:
 1995 019a 0546     		mov	r5, r0
 1996              	.LVL261:
 724:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 1997              		.loc 1 724 0
 1998 019c 94F83520 		ldrb	r2, [r4, #53]	@ zero_extendqisi2
 1999 01a0 42F02002 		orr	r2, r2, #32
 2000 01a4 2346     		mov	r3, r4
 2001 01a6 03F8352F 		strb	r2, [r3, #53]!
 726:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if (MEMS_CHIP == HW_ICM20603)
 2002              		.loc 1 726 0
 2003 01aa 0122     		movs	r2, #1
 2004 01ac 6B21     		movs	r1, #107
 2005 01ae 2046     		mov	r0, r4
 2006              	.LVL262:
 2007 01b0 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
ARM GAS  /tmp/ccRGbSIg.s 			page 68


 2008              	.LVL263:
 2009 01b4 0543     		orrs	r5, r5, r0
 2010              	.LVL264:
 730:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 2011              		.loc 1 730 0
 2012 01b6 94F83430 		ldrb	r3, [r4, #52]	@ zero_extendqisi2
 2013 01ba 43F00203 		orr	r3, r3, #2
 2014 01be 84F83430 		strb	r3, [r4, #52]
 738:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_2 |= BIT_PWR_GYRO_STBY;
 2015              		.loc 1 738 0
 2016 01c2 94F83620 		ldrb	r2, [r4, #54]	@ zero_extendqisi2
 2017 01c6 02F0C702 		and	r2, r2, #199
 739:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &s->base_state.pwr_mgmt_2);
 2018              		.loc 1 739 0
 2019 01ca 42F00702 		orr	r2, r2, #7
 2020 01ce 2346     		mov	r3, r4
 2021 01d0 03F8362F 		strb	r2, [r3, #54]!
 740:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if (MEMS_CHIP == HW_ICM20690)
 2022              		.loc 1 740 0
 2023 01d4 0122     		movs	r2, #1
 2024 01d6 6C21     		movs	r1, #108
 2025 01d8 2046     		mov	r0, r4
 2026 01da FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 2027              	.LVL265:
 2028 01de 0543     		orrs	r5, r5, r0
 2029              	.LVL266:
 745:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				break;
 2030              		.loc 1 745 0
 2031 01e0 2046     		mov	r0, r4
 2032 01e2 FFF7FEFF 		bl	apply_accel_bw
 2033              	.LVL267:
 2034 01e6 0543     		orrs	r5, r5, r0
 2035              	.LVL268:
 746:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			case PowerState6AxisLPState:
 2036              		.loc 1 746 0
 2037 01e8 B4E7     		b	.L163
 2038              	.LVL269:
 2039              	.L168:
 753:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 2040              		.loc 1 753 0
 2041 01ea 94F83520 		ldrb	r2, [r4, #53]	@ zero_extendqisi2
 2042 01ee 42F02002 		orr	r2, r2, #32
 2043 01f2 2346     		mov	r3, r4
 2044 01f4 03F8352F 		strb	r2, [r3, #53]!
 755:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if (MEMS_CHIP == HW_ICM20603)
 2045              		.loc 1 755 0
 2046 01f8 0122     		movs	r2, #1
 2047 01fa 6B21     		movs	r1, #107
 2048 01fc 2046     		mov	r0, r4
 2049              	.LVL270:
 2050 01fe FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 2051              	.LVL271:
 2052 0202 0546     		mov	r5, r0
 2053              	.LVL272:
 759:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 2054              		.loc 1 759 0
 2055 0204 94F83430 		ldrb	r3, [r4, #52]	@ zero_extendqisi2
ARM GAS  /tmp/ccRGbSIg.s 			page 69


 2056 0208 43F00203 		orr	r3, r3, #2
 2057 020c 84F83430 		strb	r3, [r4, #52]
 767:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_2 |= BIT_PWR_GYRO_STBY;
 2058              		.loc 1 767 0
 2059 0210 94F83620 		ldrb	r2, [r4, #54]	@ zero_extendqisi2
 2060 0214 02F0C702 		and	r2, r2, #199
 768:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &s->base_state.pwr_mgmt_2);
 2061              		.loc 1 768 0
 2062 0218 42F00702 		orr	r2, r2, #7
 2063 021c 2346     		mov	r3, r4
 2064 021e 03F8362F 		strb	r2, [r3, #54]!
 769:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if (MEMS_CHIP == HW_ICM20690)
 2065              		.loc 1 769 0
 2066 0222 0122     		movs	r2, #1
 2067 0224 6C21     		movs	r1, #108
 2068 0226 2046     		mov	r0, r4
 2069              	.LVL273:
 2070 0228 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 2071              	.LVL274:
 2072 022c 0543     		orrs	r5, r5, r0
 2073              	.LVL275:
 774:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				break;
 2074              		.loc 1 774 0
 2075 022e 2046     		mov	r0, r4
 2076 0230 FFF7FEFF 		bl	apply_accel_bw
 2077              	.LVL276:
 2078 0234 0543     		orrs	r5, r5, r0
 2079              	.LVL277:
 775:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			default:
 2080              		.loc 1 775 0
 2081 0236 8DE7     		b	.L163
 2082              	.LVL278:
 2083              	.L208:
 613:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 2084              		.loc 1 613 0
 2085 0238 0025     		movs	r5, #0
 2086 023a 8BE7     		b	.L163
 2087              	.LVL279:
 2088              	.L162:
 791:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		{
 2089              		.loc 1 791 0
 2090 023c 94F84E30 		ldrb	r3, [r4, #78]	@ zero_extendqisi2
 2091 0240 062B     		cmp	r3, #6
 2092 0242 7ED8     		bhi	.L209
 2093 0244 DFE803F0 		tbb	[pc, r3]
 2094              	.LVL280:
 2095              	.L171:
 2096 0248 04       		.byte	(.L170-.L171)/2
 2097 0249 3E       		.byte	(.L172-.L171)/2
 2098 024a 7D       		.byte	(.L209-.L171)/2
 2099 024b 59       		.byte	(.L173-.L171)/2
 2100 024c 6D       		.byte	(.L174-.L171)/2
 2101 024d 59       		.byte	(.L173-.L171)/2
 2102 024e 6D       		.byte	(.L174-.L171)/2
 2103 024f 00       		.p2align 1
 2104              	.L170:
 795:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_2 |= BIT_PWR_GYRO_STBY;
ARM GAS  /tmp/ccRGbSIg.s 			page 70


 2105              		.loc 1 795 0
 2106 0250 94F83620 		ldrb	r2, [r4, #54]	@ zero_extendqisi2
 2107 0254 02F0C702 		and	r2, r2, #199
 796:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &s->base_state.pwr_mgmt_2);
 2108              		.loc 1 796 0
 2109 0258 42F00702 		orr	r2, r2, #7
 2110 025c 2346     		mov	r3, r4
 2111 025e 03F8362F 		strb	r2, [r3, #54]!
 797:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 2112              		.loc 1 797 0
 2113 0262 0122     		movs	r2, #1
 2114 0264 6C21     		movs	r1, #108
 2115 0266 2046     		mov	r0, r4
 2116              	.LVL281:
 2117 0268 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 2118              	.LVL282:
 2119 026c 0546     		mov	r5, r0
 2120              	.LVL283:
 799:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_1 &= ~BIT_CYCLE;
 2121              		.loc 1 799 0
 2122 026e 94F83520 		ldrb	r2, [r4, #53]	@ zero_extendqisi2
 800:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_1, 1, &s->base_state.pwr_mgmt_1);
 2123              		.loc 1 800 0
 2124 0272 02F09F02 		and	r2, r2, #159
 2125 0276 2346     		mov	r3, r4
 2126 0278 03F8352F 		strb	r2, [r3, #53]!
 801:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.wake_state |= CHIP_AWAKE;
 2127              		.loc 1 801 0
 2128 027c 0122     		movs	r2, #1
 2129 027e 6B21     		movs	r1, #107
 2130 0280 2046     		mov	r0, r4
 2131              	.LVL284:
 2132 0282 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 2133              	.LVL285:
 2134 0286 0543     		orrs	r5, r5, r0
 2135              	.LVL286:
 802:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.wake_state &= ~CHIP_LP_ENABLE;
 2136              		.loc 1 802 0
 2137 0288 94F83430 		ldrb	r3, [r4, #52]	@ zero_extendqisi2
 2138 028c 43F00103 		orr	r3, r3, #1
 803:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				inv_icm207xx_sleep(2);
 2139              		.loc 1 803 0
 2140 0290 23F00203 		bic	r3, r3, #2
 2141 0294 84F83430 		strb	r3, [r4, #52]
 804:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				// change ACCEL_FS_SEL
 2142              		.loc 1 804 0
 2143 0298 0220     		movs	r0, #2
 2144 029a FFF7FEFF 		bl	inv_icm207xx_sleep
 2145              	.LVL287:
 806:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= apply_accel_bw(s);
 2146              		.loc 1 806 0
 2147 029e 2046     		mov	r0, r4
 2148 02a0 FFF7FEFF 		bl	apply_accel_fsr
 2149              	.LVL288:
 2150 02a4 0543     		orrs	r5, r5, r0
 2151              	.LVL289:
 807:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				inv_icm207xx_sleep(20); // accel startup time
ARM GAS  /tmp/ccRGbSIg.s 			page 71


 2152              		.loc 1 807 0
 2153 02a6 2046     		mov	r0, r4
 2154 02a8 FFF7FEFF 		bl	apply_accel_bw
 2155              	.LVL290:
 2156 02ac 0543     		orrs	r5, r5, r0
 2157              	.LVL291:
 808:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				break;
 2158              		.loc 1 808 0
 2159 02ae 1420     		movs	r0, #20
 2160 02b0 FFF7FEFF 		bl	inv_icm207xx_sleep
 2161              	.LVL292:
 2162              	.L169:
 855:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= apply_accel_bias(s);
 2163              		.loc 1 855 0
 2164 02b4 0223     		movs	r3, #2
 2165 02b6 84F84E30 		strb	r3, [r4, #78]
 856:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		break;
 2166              		.loc 1 856 0
 2167 02ba 2046     		mov	r0, r4
 2168 02bc FFF7FEFF 		bl	apply_accel_bias
 2169              	.LVL293:
 2170 02c0 0543     		orrs	r5, r5, r0
 2171              	.LVL294:
 857:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 2172              		.loc 1 857 0
 2173 02c2 E6E6     		b	.L154
 2174              	.LVL295:
 2175              	.L172:
 812:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_1, 1, &s->base_state.pwr_mgmt_1);
 2176              		.loc 1 812 0
 2177 02c4 94F83520 		ldrb	r2, [r4, #53]	@ zero_extendqisi2
 2178 02c8 22F02002 		bic	r2, r2, #32
 2179 02cc 2346     		mov	r3, r4
 2180 02ce 03F8352F 		strb	r2, [r3, #53]!
 813:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.wake_state &= ~CHIP_LP_ENABLE;
 2181              		.loc 1 813 0
 2182 02d2 0122     		movs	r2, #1
 2183 02d4 6B21     		movs	r1, #107
 2184 02d6 2046     		mov	r0, r4
 2185              	.LVL296:
 2186 02d8 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 2187              	.LVL297:
 2188 02dc 0546     		mov	r5, r0
 2189              	.LVL298:
 814:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				inv_icm207xx_sleep(2);
 2190              		.loc 1 814 0
 2191 02de 94F83430 		ldrb	r3, [r4, #52]	@ zero_extendqisi2
 2192 02e2 23F00203 		bic	r3, r3, #2
 2193 02e6 84F83430 		strb	r3, [r4, #52]
 815:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= apply_accel_bw(s);
 2194              		.loc 1 815 0
 2195 02ea 0220     		movs	r0, #2
 2196              	.LVL299:
 2197 02ec FFF7FEFF 		bl	inv_icm207xx_sleep
 2198              	.LVL300:
 816:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				break;
 2199              		.loc 1 816 0
ARM GAS  /tmp/ccRGbSIg.s 			page 72


 2200 02f0 2046     		mov	r0, r4
 2201 02f2 FFF7FEFF 		bl	apply_accel_bw
 2202              	.LVL301:
 2203 02f6 0543     		orrs	r5, r5, r0
 2204              	.LVL302:
 817:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			case PowerStateGyrLNState:
 2205              		.loc 1 817 0
 2206 02f8 DCE7     		b	.L169
 2207              	.LVL303:
 2208              	.L173:
 821:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if (MEMS_CHIP == HW_ICM20690)
 2209              		.loc 1 821 0
 2210 02fa 2046     		mov	r0, r4
 2211              	.LVL304:
 2212 02fc FFF7FEFF 		bl	apply_accel_bw
 2213              	.LVL305:
 2214 0300 0546     		mov	r5, r0
 2215              	.LVL306:
 827:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_2 |= BIT_PWR_GYRO_STBY;
 2216              		.loc 1 827 0
 2217 0302 94F83620 		ldrb	r2, [r4, #54]	@ zero_extendqisi2
 2218 0306 02F0C702 		and	r2, r2, #199
 828:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &s->base_state.pwr_mgmt_2);
 2219              		.loc 1 828 0
 2220 030a 42F00702 		orr	r2, r2, #7
 2221 030e 2346     		mov	r3, r4
 2222 0310 03F8362F 		strb	r2, [r3, #54]!
 829:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if (MEMS_CHIP == HW_ICM20690)
 2223              		.loc 1 829 0
 2224 0314 0122     		movs	r2, #1
 2225 0316 6C21     		movs	r1, #108
 2226 0318 2046     		mov	r0, r4
 2227              	.LVL307:
 2228 031a FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 2229              	.LVL308:
 2230 031e 0543     		orrs	r5, r5, r0
 2231              	.LVL309:
 834:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			case PowerState6AxisLPState:
 2232              		.loc 1 834 0
 2233 0320 C8E7     		b	.L169
 2234              	.LVL310:
 2235              	.L174:
 843:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_2 |= BIT_PWR_GYRO_STBY;
 2236              		.loc 1 843 0
 2237 0322 94F83620 		ldrb	r2, [r4, #54]	@ zero_extendqisi2
 2238 0326 02F0C702 		and	r2, r2, #199
 844:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &s->base_state.pwr_mgmt_2);
 2239              		.loc 1 844 0
 2240 032a 42F00702 		orr	r2, r2, #7
 2241 032e 2346     		mov	r3, r4
 2242 0330 03F8362F 		strb	r2, [r3, #54]!
 845:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if (MEMS_CHIP == HW_ICM20690)
 2243              		.loc 1 845 0
 2244 0334 0122     		movs	r2, #1
 2245 0336 6C21     		movs	r1, #108
 2246 0338 2046     		mov	r0, r4
 2247              	.LVL311:
ARM GAS  /tmp/ccRGbSIg.s 			page 73


 2248 033a FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 2249              	.LVL312:
 2250 033e 0546     		mov	r5, r0
 2251              	.LVL313:
 850:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			default:
 2252              		.loc 1 850 0
 2253 0340 B8E7     		b	.L169
 2254              	.LVL314:
 2255              	.L209:
 613:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 2256              		.loc 1 613 0
 2257 0342 0025     		movs	r5, #0
 2258 0344 B6E7     		b	.L169
 2259              	.LVL315:
 2260              	.L157:
 861:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		{
 2261              		.loc 1 861 0
 2262 0346 94F84E30 		ldrb	r3, [r4, #78]	@ zero_extendqisi2
 2263 034a 062B     		cmp	r3, #6
 2264 034c 00F2E080 		bhi	.L210
 2265 0350 DFE803F0 		tbb	[pc, r3]
 2266              	.LVL316:
 2267              	.L177:
 2268 0354 04       		.byte	(.L176-.L177)/2
 2269 0355 47       		.byte	(.L178-.L177)/2
 2270 0356 7E       		.byte	(.L179-.L177)/2
 2271 0357 DE       		.byte	(.L210-.L177)/2
 2272 0358 B1       		.byte	(.L180-.L177)/2
 2273 0359 9F       		.byte	(.L181-.L177)/2
 2274 035a BF       		.byte	(.L182-.L177)/2
 2275 035b 00       		.p2align 1
 2276              	.L176:
 868:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 2277              		.loc 1 868 0
 2278 035c 94F83720 		ldrb	r2, [r4, #55]	@ zero_extendqisi2
 2279 0360 62F07F02 		orn	r2, r2, #127
 2280 0364 2346     		mov	r3, r4
 2281 0366 03F8372F 		strb	r2, [r3, #55]!
 870:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_2 |= BIT_PWR_ACCEL_STBY;
 2282              		.loc 1 870 0
 2283 036a 0122     		movs	r2, #1
 2284 036c 1E21     		movs	r1, #30
 2285 036e 2046     		mov	r0, r4
 2286              	.LVL317:
 2287 0370 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 2288              	.LVL318:
 2289 0374 0546     		mov	r5, r0
 2290              	.LVL319:
 871:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_2 &= ~BIT_PWR_GYRO_STBY;
 2291              		.loc 1 871 0
 2292 0376 94F83620 		ldrb	r2, [r4, #54]	@ zero_extendqisi2
 2293 037a 42F03802 		orr	r2, r2, #56
 872:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &s->base_state.pwr_mgmt_2);
 2294              		.loc 1 872 0
 2295 037e 22F00702 		bic	r2, r2, #7
 2296 0382 2346     		mov	r3, r4
 2297 0384 03F8362F 		strb	r2, [r3, #54]!
ARM GAS  /tmp/ccRGbSIg.s 			page 74


 873:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_1 &= ~BIT_SLEEP;
 2298              		.loc 1 873 0
 2299 0388 0122     		movs	r2, #1
 2300 038a 6C21     		movs	r1, #108
 2301 038c 2046     		mov	r0, r4
 2302              	.LVL320:
 2303 038e FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 2304              	.LVL321:
 2305 0392 0543     		orrs	r5, r5, r0
 2306              	.LVL322:
 874:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_1 &= ~BIT_CYCLE; // GYRO_STANDBY = 0 & CYCLE = 0 & SLEEP = 0
 2307              		.loc 1 874 0
 2308 0394 94F83520 		ldrb	r2, [r4, #53]	@ zero_extendqisi2
 875:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_1, 1, &s->base_state.pwr_mgmt_1);
 2309              		.loc 1 875 0
 2310 0398 02F09F02 		and	r2, r2, #159
 2311 039c 2346     		mov	r3, r4
 2312 039e 03F8352F 		strb	r2, [r3, #53]!
 876:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.wake_state |= CHIP_AWAKE;
 2313              		.loc 1 876 0
 2314 03a2 0122     		movs	r2, #1
 2315 03a4 6B21     		movs	r1, #107
 2316 03a6 2046     		mov	r0, r4
 2317 03a8 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 2318              	.LVL323:
 2319 03ac 0543     		orrs	r5, r5, r0
 2320              	.LVL324:
 877:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.wake_state &= ~CHIP_LP_ENABLE;
 2321              		.loc 1 877 0
 2322 03ae 94F83430 		ldrb	r3, [r4, #52]	@ zero_extendqisi2
 2323 03b2 43F00103 		orr	r3, r3, #1
 878:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				inv_icm207xx_sleep(2);
 2324              		.loc 1 878 0
 2325 03b6 23F00203 		bic	r3, r3, #2
 2326 03ba 84F83430 		strb	r3, [r4, #52]
 879:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= apply_gyr_fsr_bw(s);
 2327              		.loc 1 879 0
 2328 03be 0220     		movs	r0, #2
 2329 03c0 FFF7FEFF 		bl	inv_icm207xx_sleep
 2330              	.LVL325:
 880:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				inv_icm207xx_sleep(50); // gyro startup time
 2331              		.loc 1 880 0
 2332 03c4 2046     		mov	r0, r4
 2333 03c6 FFF7FEFF 		bl	apply_gyr_fsr_bw
 2334              	.LVL326:
 2335 03ca 0543     		orrs	r5, r5, r0
 2336              	.LVL327:
 881:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				break;
 2337              		.loc 1 881 0
 2338 03cc 3220     		movs	r0, #50
 2339 03ce FFF7FEFF 		bl	inv_icm207xx_sleep
 2340              	.LVL328:
 2341              	.L175:
 956:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 2342              		.loc 1 956 0
 2343 03d2 0323     		movs	r3, #3
 2344 03d4 84F84E30 		strb	r3, [r4, #78]
ARM GAS  /tmp/ccRGbSIg.s 			page 75


 958:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		break;
 2345              		.loc 1 958 0
 2346 03d8 2046     		mov	r0, r4
 2347 03da FFF7FEFF 		bl	apply_gyr_bias
 2348              	.LVL329:
 2349 03de 0543     		orrs	r5, r5, r0
 2350              	.LVL330:
 959:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 2351              		.loc 1 959 0
 2352 03e0 57E6     		b	.L154
 2353              	.LVL331:
 2354              	.L178:
 888:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 2355              		.loc 1 888 0
 2356 03e2 94F83720 		ldrb	r2, [r4, #55]	@ zero_extendqisi2
 2357 03e6 62F07F02 		orn	r2, r2, #127
 2358 03ea 2346     		mov	r3, r4
 2359 03ec 03F8372F 		strb	r2, [r3, #55]!
 890:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_2 |= BIT_PWR_ACCEL_STBY;
 2360              		.loc 1 890 0
 2361 03f0 0122     		movs	r2, #1
 2362 03f2 1E21     		movs	r1, #30
 2363 03f4 2046     		mov	r0, r4
 2364              	.LVL332:
 2365 03f6 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 2366              	.LVL333:
 2367 03fa 0546     		mov	r5, r0
 2368              	.LVL334:
 891:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_2 &= ~BIT_PWR_GYRO_STBY;
 2369              		.loc 1 891 0
 2370 03fc 94F83620 		ldrb	r2, [r4, #54]	@ zero_extendqisi2
 2371 0400 42F03802 		orr	r2, r2, #56
 892:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &s->base_state.pwr_mgmt_2);
 2372              		.loc 1 892 0
 2373 0404 22F00702 		bic	r2, r2, #7
 2374 0408 2346     		mov	r3, r4
 2375 040a 03F8362F 		strb	r2, [r3, #54]!
 893:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_1 &= ~BIT_CYCLE;
 2376              		.loc 1 893 0
 2377 040e 0122     		movs	r2, #1
 2378 0410 6C21     		movs	r1, #108
 2379 0412 2046     		mov	r0, r4
 2380              	.LVL335:
 2381 0414 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 2382              	.LVL336:
 2383 0418 0543     		orrs	r5, r5, r0
 2384              	.LVL337:
 894:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_1, 1, &s->base_state.pwr_mgmt_1);
 2385              		.loc 1 894 0
 2386 041a 94F83520 		ldrb	r2, [r4, #53]	@ zero_extendqisi2
 2387 041e 22F02002 		bic	r2, r2, #32
 2388 0422 2346     		mov	r3, r4
 2389 0424 03F8352F 		strb	r2, [r3, #53]!
 895:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.wake_state &= ~CHIP_LP_ENABLE;
 2390              		.loc 1 895 0
 2391 0428 0122     		movs	r2, #1
 2392 042a 6B21     		movs	r1, #107
ARM GAS  /tmp/ccRGbSIg.s 			page 76


 2393 042c 2046     		mov	r0, r4
 2394 042e FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 2395              	.LVL338:
 2396 0432 0543     		orrs	r5, r5, r0
 2397              	.LVL339:
 896:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				inv_icm207xx_sleep(2);
 2398              		.loc 1 896 0
 2399 0434 94F83430 		ldrb	r3, [r4, #52]	@ zero_extendqisi2
 2400 0438 23F00203 		bic	r3, r3, #2
 2401 043c 84F83430 		strb	r3, [r4, #52]
 897:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= apply_gyr_fsr_bw(s);
 2402              		.loc 1 897 0
 2403 0440 0220     		movs	r0, #2
 2404 0442 FFF7FEFF 		bl	inv_icm207xx_sleep
 2405              	.LVL340:
 898:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				break;
 2406              		.loc 1 898 0
 2407 0446 2046     		mov	r0, r4
 2408 0448 FFF7FEFF 		bl	apply_gyr_fsr_bw
 2409              	.LVL341:
 2410 044c 0543     		orrs	r5, r5, r0
 2411              	.LVL342:
 899:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			case PowerStateAccLNState:
 2412              		.loc 1 899 0
 2413 044e C0E7     		b	.L175
 2414              	.LVL343:
 2415              	.L179:
 902:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 2416              		.loc 1 902 0
 2417 0450 2046     		mov	r0, r4
 2418              	.LVL344:
 2419 0452 FFF7FEFF 		bl	apply_gyr_fsr_bw
 2420              	.LVL345:
 2421 0456 0546     		mov	r5, r0
 2422              	.LVL346:
 907:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 2423              		.loc 1 907 0
 2424 0458 94F83720 		ldrb	r2, [r4, #55]	@ zero_extendqisi2
 2425 045c 62F07F02 		orn	r2, r2, #127
 2426 0460 2346     		mov	r3, r4
 2427 0462 03F8372F 		strb	r2, [r3, #55]!
 909:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 2428              		.loc 1 909 0
 2429 0466 0122     		movs	r2, #1
 2430 0468 1E21     		movs	r1, #30
 2431 046a 2046     		mov	r0, r4
 2432              	.LVL347:
 2433 046c FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 2434              	.LVL348:
 2435 0470 0543     		orrs	r5, r5, r0
 2436              	.LVL349:
 911:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_2 &= ~BIT_PWR_GYRO_STBY;
 2437              		.loc 1 911 0
 2438 0472 94F83620 		ldrb	r2, [r4, #54]	@ zero_extendqisi2
 2439 0476 42F03802 		orr	r2, r2, #56
 912:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &s->base_state.pwr_mgmt_2);
 2440              		.loc 1 912 0
ARM GAS  /tmp/ccRGbSIg.s 			page 77


 2441 047a 22F00702 		bic	r2, r2, #7
 2442 047e 2346     		mov	r3, r4
 2443 0480 03F8362F 		strb	r2, [r3, #54]!
 913:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				break;
 2444              		.loc 1 913 0
 2445 0484 0122     		movs	r2, #1
 2446 0486 6C21     		movs	r1, #108
 2447 0488 2046     		mov	r0, r4
 2448 048a FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 2449              	.LVL350:
 2450 048e 0543     		orrs	r5, r5, r0
 2451              	.LVL351:
 914:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			case PowerStateGyrLNState:
 2452              		.loc 1 914 0
 2453 0490 9FE7     		b	.L175
 2454              	.LVL352:
 2455              	.L181:
 919:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 2456              		.loc 1 919 0
 2457 0492 2046     		mov	r0, r4
 2458              	.LVL353:
 2459 0494 FFF7FEFF 		bl	apply_gyr_fsr_bw
 2460              	.LVL354:
 2461 0498 0546     		mov	r5, r0
 2462              	.LVL355:
 924:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 2463              		.loc 1 924 0
 2464 049a 94F83720 		ldrb	r2, [r4, #55]	@ zero_extendqisi2
 2465 049e 62F07F02 		orn	r2, r2, #127
 2466 04a2 2346     		mov	r3, r4
 2467 04a4 03F8372F 		strb	r2, [r3, #55]!
 926:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				break;
 2468              		.loc 1 926 0
 2469 04a8 0122     		movs	r2, #1
 2470 04aa 1E21     		movs	r1, #30
 2471 04ac 2046     		mov	r0, r4
 2472              	.LVL356:
 2473 04ae FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 2474              	.LVL357:
 2475 04b2 0543     		orrs	r5, r5, r0
 2476              	.LVL358:
 927:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			case PowerState6AxisLPState:
 2477              		.loc 1 927 0
 2478 04b4 8DE7     		b	.L175
 2479              	.LVL359:
 2480              	.L180:
 930:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &s->base_state.pwr_mgmt_2);
 2481              		.loc 1 930 0
 2482 04b6 94F83620 		ldrb	r2, [r4, #54]	@ zero_extendqisi2
 2483 04ba 42F03802 		orr	r2, r2, #56
 2484 04be 2346     		mov	r3, r4
 2485 04c0 03F8362F 		strb	r2, [r3, #54]!
 931:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				break;
 2486              		.loc 1 931 0
 2487 04c4 0122     		movs	r2, #1
 2488 04c6 6C21     		movs	r1, #108
 2489 04c8 2046     		mov	r0, r4
ARM GAS  /tmp/ccRGbSIg.s 			page 78


 2490              	.LVL360:
 2491 04ca FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 2492              	.LVL361:
 2493 04ce 0546     		mov	r5, r0
 2494              	.LVL362:
 932:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			case PowerState6AxisLNState:
 2495              		.loc 1 932 0
 2496 04d0 7FE7     		b	.L175
 2497              	.LVL363:
 2498              	.L182:
 937:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 2499              		.loc 1 937 0
 2500 04d2 2046     		mov	r0, r4
 2501              	.LVL364:
 2502 04d4 FFF7FEFF 		bl	apply_gyr_fsr_bw
 2503              	.LVL365:
 2504 04d8 0546     		mov	r5, r0
 2505              	.LVL366:
 939:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &s->base_state.pwr_mgmt_2);
 2506              		.loc 1 939 0
 2507 04da 94F83620 		ldrb	r2, [r4, #54]	@ zero_extendqisi2
 2508 04de 42F03802 		orr	r2, r2, #56
 2509 04e2 2346     		mov	r3, r4
 2510 04e4 03F8362F 		strb	r2, [r3, #54]!
 940:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 2511              		.loc 1 940 0
 2512 04e8 0122     		movs	r2, #1
 2513 04ea 6C21     		movs	r1, #108
 2514 04ec 2046     		mov	r0, r4
 2515              	.LVL367:
 2516 04ee FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 2517              	.LVL368:
 2518 04f2 0543     		orrs	r5, r5, r0
 2519              	.LVL369:
 945:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 2520              		.loc 1 945 0
 2521 04f4 94F83720 		ldrb	r2, [r4, #55]	@ zero_extendqisi2
 2522 04f8 62F07F02 		orn	r2, r2, #127
 2523 04fc 2346     		mov	r3, r4
 2524 04fe 03F8372F 		strb	r2, [r3, #55]!
 947:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				break;
 2525              		.loc 1 947 0
 2526 0502 0122     		movs	r2, #1
 2527 0504 1E21     		movs	r1, #30
 2528 0506 2046     		mov	r0, r4
 2529 0508 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 2530              	.LVL370:
 2531 050c 0543     		orrs	r5, r5, r0
 2532              	.LVL371:
 948:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			default:
 2533              		.loc 1 948 0
 2534 050e 60E7     		b	.L175
 2535              	.LVL372:
 2536              	.L210:
 613:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 2537              		.loc 1 613 0
 2538 0510 0025     		movs	r5, #0
ARM GAS  /tmp/ccRGbSIg.s 			page 79


 2539 0512 5EE7     		b	.L175
 2540              	.LVL373:
 2541              	.L160:
 966:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		{
 2542              		.loc 1 966 0
 2543 0514 94F84E30 		ldrb	r3, [r4, #78]	@ zero_extendqisi2
 2544 0518 062B     		cmp	r3, #6
 2545 051a 00F2E080 		bhi	.L211
 2546 051e DFE803F0 		tbb	[pc, r3]
 2547              	.LVL374:
 2548              	.L185:
 2549 0522 04       		.byte	(.L184-.L185)/2
 2550 0523 47       		.byte	(.L186-.L185)/2
 2551 0524 7E       		.byte	(.L187-.L185)/2
 2552 0525 9F       		.byte	(.L188-.L185)/2
 2553 0526 B1       		.byte	(.L189-.L185)/2
 2554 0527 DE       		.byte	(.L211-.L185)/2
 2555 0528 D0       		.byte	(.L190-.L185)/2
 2556 0529 00       		.p2align 1
 2557              	.L184:
 970:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_LP_CONFIG, 1, &s->base_state.lp_config);
 2558              		.loc 1 970 0
 2559 052a 94F83720 		ldrb	r2, [r4, #55]	@ zero_extendqisi2
 2560 052e 02F07F02 		and	r2, r2, #127
 2561 0532 2346     		mov	r3, r4
 2562 0534 03F8372F 		strb	r2, [r3, #55]!
 971:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 2563              		.loc 1 971 0
 2564 0538 0122     		movs	r2, #1
 2565 053a 1E21     		movs	r1, #30
 2566 053c 2046     		mov	r0, r4
 2567              	.LVL375:
 2568 053e FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 2569              	.LVL376:
 2570 0542 0546     		mov	r5, r0
 2571              	.LVL377:
 973:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_2 &= ~BIT_PWR_GYRO_STBY;
 2572              		.loc 1 973 0
 2573 0544 94F83620 		ldrb	r2, [r4, #54]	@ zero_extendqisi2
 2574 0548 42F03802 		orr	r2, r2, #56
 974:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &s->base_state.pwr_mgmt_2);
 2575              		.loc 1 974 0
 2576 054c 22F00702 		bic	r2, r2, #7
 2577 0550 2346     		mov	r3, r4
 2578 0552 03F8362F 		strb	r2, [r3, #54]!
 975:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 2579              		.loc 1 975 0
 2580 0556 0122     		movs	r2, #1
 2581 0558 6C21     		movs	r1, #108
 2582 055a 2046     		mov	r0, r4
 2583              	.LVL378:
 2584 055c FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 2585              	.LVL379:
 2586 0560 0543     		orrs	r5, r5, r0
 2587              	.LVL380:
 977:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_1 &= ~BIT_CYCLE;
 2588              		.loc 1 977 0
ARM GAS  /tmp/ccRGbSIg.s 			page 80


 2589 0562 94F83520 		ldrb	r2, [r4, #53]	@ zero_extendqisi2
 978:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_1, 1, &s->base_state.pwr_mgmt_1);
 2590              		.loc 1 978 0
 2591 0566 02F09F02 		and	r2, r2, #159
 2592 056a 2346     		mov	r3, r4
 2593 056c 03F8352F 		strb	r2, [r3, #53]!
 979:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.wake_state |= CHIP_AWAKE;
 2594              		.loc 1 979 0
 2595 0570 0122     		movs	r2, #1
 2596 0572 6B21     		movs	r1, #107
 2597 0574 2046     		mov	r0, r4
 2598 0576 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 2599              	.LVL381:
 2600 057a 0543     		orrs	r5, r5, r0
 2601              	.LVL382:
 980:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.wake_state &= ~CHIP_LP_ENABLE;
 2602              		.loc 1 980 0
 2603 057c 94F83430 		ldrb	r3, [r4, #52]	@ zero_extendqisi2
 2604 0580 43F00103 		orr	r3, r3, #1
 981:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				inv_icm207xx_sleep(2);
 2605              		.loc 1 981 0
 2606 0584 23F00203 		bic	r3, r3, #2
 2607 0588 84F83430 		strb	r3, [r4, #52]
 982:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 2608              		.loc 1 982 0
 2609 058c 0220     		movs	r0, #2
 2610 058e FFF7FEFF 		bl	inv_icm207xx_sleep
 2611              	.LVL383:
 984:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				inv_icm207xx_sleep(50); // gyro startup time
 2612              		.loc 1 984 0
 2613 0592 2046     		mov	r0, r4
 2614 0594 FFF7FEFF 		bl	apply_gyr_fsr_bw
 2615              	.LVL384:
 2616 0598 0543     		orrs	r5, r5, r0
 2617              	.LVL385:
 985:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				break;
 2618              		.loc 1 985 0
 2619 059a 3220     		movs	r0, #50
 2620 059c FFF7FEFF 		bl	inv_icm207xx_sleep
 2621              	.LVL386:
 2622              	.L183:
1044:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= apply_gyr_bias(s);
 2623              		.loc 1 1044 0
 2624 05a0 0523     		movs	r3, #5
 2625 05a2 84F84E30 		strb	r3, [r4, #78]
1045:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		break;
 2626              		.loc 1 1045 0
 2627 05a6 2046     		mov	r0, r4
 2628 05a8 FFF7FEFF 		bl	apply_gyr_bias
 2629              	.LVL387:
 2630 05ac 0543     		orrs	r5, r5, r0
 2631              	.LVL388:
1046:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 2632              		.loc 1 1046 0
 2633 05ae 70E5     		b	.L154
 2634              	.LVL389:
 2635              	.L186:
ARM GAS  /tmp/ccRGbSIg.s 			page 81


 989:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_LP_CONFIG, 1, &s->base_state.lp_config);
 2636              		.loc 1 989 0
 2637 05b0 94F83720 		ldrb	r2, [r4, #55]	@ zero_extendqisi2
 2638 05b4 02F07F02 		and	r2, r2, #127
 2639 05b8 2346     		mov	r3, r4
 2640 05ba 03F8372F 		strb	r2, [r3, #55]!
 990:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 2641              		.loc 1 990 0
 2642 05be 0122     		movs	r2, #1
 2643 05c0 1E21     		movs	r1, #30
 2644 05c2 2046     		mov	r0, r4
 2645              	.LVL390:
 2646 05c4 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 2647              	.LVL391:
 2648 05c8 0546     		mov	r5, r0
 2649              	.LVL392:
 992:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_2 &= ~BIT_PWR_GYRO_STBY;
 2650              		.loc 1 992 0
 2651 05ca 94F83620 		ldrb	r2, [r4, #54]	@ zero_extendqisi2
 2652 05ce 42F03802 		orr	r2, r2, #56
 993:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &s->base_state.pwr_mgmt_2);
 2653              		.loc 1 993 0
 2654 05d2 22F00702 		bic	r2, r2, #7
 2655 05d6 2346     		mov	r3, r4
 2656 05d8 03F8362F 		strb	r2, [r3, #54]!
 994:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 2657              		.loc 1 994 0
 2658 05dc 0122     		movs	r2, #1
 2659 05de 6C21     		movs	r1, #108
 2660 05e0 2046     		mov	r0, r4
 2661              	.LVL393:
 2662 05e2 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 2663              	.LVL394:
 2664 05e6 0543     		orrs	r5, r5, r0
 2665              	.LVL395:
 996:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_1, 1, &s->base_state.pwr_mgmt_1);
 2666              		.loc 1 996 0
 2667 05e8 94F83520 		ldrb	r2, [r4, #53]	@ zero_extendqisi2
 2668 05ec 22F02002 		bic	r2, r2, #32
 2669 05f0 2346     		mov	r3, r4
 2670 05f2 03F8352F 		strb	r2, [r3, #53]!
 997:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.wake_state &= ~CHIP_LP_ENABLE;
 2671              		.loc 1 997 0
 2672 05f6 0122     		movs	r2, #1
 2673 05f8 6B21     		movs	r1, #107
 2674 05fa 2046     		mov	r0, r4
 2675 05fc FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 2676              	.LVL396:
 2677 0600 0543     		orrs	r5, r5, r0
 2678              	.LVL397:
 998:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				inv_icm207xx_sleep(2);
 2679              		.loc 1 998 0
 2680 0602 94F83430 		ldrb	r3, [r4, #52]	@ zero_extendqisi2
 2681 0606 23F00203 		bic	r3, r3, #2
 2682 060a 84F83430 		strb	r3, [r4, #52]
 999:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= apply_gyr_fsr_bw(s);
 2683              		.loc 1 999 0
ARM GAS  /tmp/ccRGbSIg.s 			page 82


 2684 060e 0220     		movs	r0, #2
 2685 0610 FFF7FEFF 		bl	inv_icm207xx_sleep
 2686              	.LVL398:
1000:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				break;
 2687              		.loc 1 1000 0
 2688 0614 2046     		mov	r0, r4
 2689 0616 FFF7FEFF 		bl	apply_gyr_fsr_bw
 2690              	.LVL399:
 2691 061a 0543     		orrs	r5, r5, r0
 2692              	.LVL400:
1001:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			case PowerStateAccLNState:
 2693              		.loc 1 1001 0
 2694 061c C0E7     		b	.L183
 2695              	.LVL401:
 2696              	.L187:
1004:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.lp_config &= ~BIT_GYRO_CYCLE;
 2697              		.loc 1 1004 0
 2698 061e 2046     		mov	r0, r4
 2699              	.LVL402:
 2700 0620 FFF7FEFF 		bl	apply_gyr_fsr_bw
 2701              	.LVL403:
 2702 0624 0546     		mov	r5, r0
 2703              	.LVL404:
1005:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_LP_CONFIG, 1, &s->base_state.lp_config);
 2704              		.loc 1 1005 0
 2705 0626 94F83720 		ldrb	r2, [r4, #55]	@ zero_extendqisi2
 2706 062a 02F07F02 		and	r2, r2, #127
 2707 062e 2346     		mov	r3, r4
 2708 0630 03F8372F 		strb	r2, [r3, #55]!
1006:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_2 |= BIT_PWR_ACCEL_STBY;
 2709              		.loc 1 1006 0
 2710 0634 0122     		movs	r2, #1
 2711 0636 1E21     		movs	r1, #30
 2712 0638 2046     		mov	r0, r4
 2713              	.LVL405:
 2714 063a FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 2715              	.LVL406:
 2716 063e 0543     		orrs	r5, r5, r0
 2717              	.LVL407:
1007:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_2 &= ~BIT_PWR_GYRO_STBY;
 2718              		.loc 1 1007 0
 2719 0640 94F83620 		ldrb	r2, [r4, #54]	@ zero_extendqisi2
 2720 0644 42F03802 		orr	r2, r2, #56
1008:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &s->base_state.pwr_mgmt_2);
 2721              		.loc 1 1008 0
 2722 0648 22F00702 		bic	r2, r2, #7
 2723 064c 2346     		mov	r3, r4
 2724 064e 03F8362F 		strb	r2, [r3, #54]!
1009:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				break;
 2725              		.loc 1 1009 0
 2726 0652 0122     		movs	r2, #1
 2727 0654 6C21     		movs	r1, #108
 2728 0656 2046     		mov	r0, r4
 2729 0658 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 2730              	.LVL408:
 2731 065c 0543     		orrs	r5, r5, r0
 2732              	.LVL409:
ARM GAS  /tmp/ccRGbSIg.s 			page 83


1010:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			case PowerStateGyrLPState:
 2733              		.loc 1 1010 0
 2734 065e 9FE7     		b	.L183
 2735              	.LVL410:
 2736              	.L188:
1015:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 2737              		.loc 1 1015 0
 2738 0660 2046     		mov	r0, r4
 2739              	.LVL411:
 2740 0662 FFF7FEFF 		bl	apply_gyr_fsr_bw
 2741              	.LVL412:
 2742 0666 0546     		mov	r5, r0
 2743              	.LVL413:
1017:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_LP_CONFIG, 1, &s->base_state.lp_config);
 2744              		.loc 1 1017 0
 2745 0668 94F83720 		ldrb	r2, [r4, #55]	@ zero_extendqisi2
 2746 066c 02F07F02 		and	r2, r2, #127
 2747 0670 2346     		mov	r3, r4
 2748 0672 03F8372F 		strb	r2, [r3, #55]!
1018:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				break;
 2749              		.loc 1 1018 0
 2750 0676 0122     		movs	r2, #1
 2751 0678 1E21     		movs	r1, #30
 2752 067a 2046     		mov	r0, r4
 2753              	.LVL414:
 2754 067c FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 2755              	.LVL415:
 2756 0680 0543     		orrs	r5, r5, r0
 2757              	.LVL416:
1019:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			case PowerState6AxisLPState:
 2758              		.loc 1 1019 0
 2759 0682 8DE7     		b	.L183
 2760              	.LVL417:
 2761              	.L189:
1024:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 2762              		.loc 1 1024 0
 2763 0684 2046     		mov	r0, r4
 2764              	.LVL418:
 2765 0686 FFF7FEFF 		bl	apply_gyr_fsr_bw
 2766              	.LVL419:
 2767 068a 0546     		mov	r5, r0
 2768              	.LVL420:
1026:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &s->base_state.pwr_mgmt_2);
 2769              		.loc 1 1026 0
 2770 068c 94F83620 		ldrb	r2, [r4, #54]	@ zero_extendqisi2
 2771 0690 42F03802 		orr	r2, r2, #56
 2772 0694 2346     		mov	r3, r4
 2773 0696 03F8362F 		strb	r2, [r3, #54]!
1027:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 2774              		.loc 1 1027 0
 2775 069a 0122     		movs	r2, #1
 2776 069c 6C21     		movs	r1, #108
 2777 069e 2046     		mov	r0, r4
 2778              	.LVL421:
 2779 06a0 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 2780              	.LVL422:
 2781 06a4 0543     		orrs	r5, r5, r0
ARM GAS  /tmp/ccRGbSIg.s 			page 84


 2782              	.LVL423:
1029:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_LP_CONFIG, 1, &s->base_state.lp_config);
 2783              		.loc 1 1029 0
 2784 06a6 94F83720 		ldrb	r2, [r4, #55]	@ zero_extendqisi2
 2785 06aa 02F07F02 		and	r2, r2, #127
 2786 06ae 2346     		mov	r3, r4
 2787 06b0 03F8372F 		strb	r2, [r3, #55]!
1030:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				break;
 2788              		.loc 1 1030 0
 2789 06b4 0122     		movs	r2, #1
 2790 06b6 1E21     		movs	r1, #30
 2791 06b8 2046     		mov	r0, r4
 2792 06ba FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 2793              	.LVL424:
 2794 06be 0543     		orrs	r5, r5, r0
 2795              	.LVL425:
1031:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			case PowerState6AxisLNState:
 2796              		.loc 1 1031 0
 2797 06c0 6EE7     		b	.L183
 2798              	.LVL426:
 2799              	.L190:
1037:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &s->base_state.pwr_mgmt_2);
 2800              		.loc 1 1037 0
 2801 06c2 94F83620 		ldrb	r2, [r4, #54]	@ zero_extendqisi2
 2802 06c6 42F03802 		orr	r2, r2, #56
 2803 06ca 2346     		mov	r3, r4
 2804 06cc 03F8362F 		strb	r2, [r3, #54]!
1038:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				break;
 2805              		.loc 1 1038 0
 2806 06d0 0122     		movs	r2, #1
 2807 06d2 6C21     		movs	r1, #108
 2808 06d4 2046     		mov	r0, r4
 2809              	.LVL427:
 2810 06d6 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 2811              	.LVL428:
 2812 06da 0546     		mov	r5, r0
 2813              	.LVL429:
1039:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			default:
 2814              		.loc 1 1039 0
 2815 06dc 60E7     		b	.L183
 2816              	.LVL430:
 2817              	.L211:
 613:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 2818              		.loc 1 613 0
 2819 06de 0025     		movs	r5, #0
 2820 06e0 5EE7     		b	.L183
 2821              	.LVL431:
 2822              	.L159:
1051:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		{
 2823              		.loc 1 1051 0
 2824 06e2 94F84E30 		ldrb	r3, [r4, #78]	@ zero_extendqisi2
 2825 06e6 062B     		cmp	r3, #6
 2826 06e8 00F2E980 		bhi	.L212
 2827 06ec DFE803F0 		tbb	[pc, r3]
 2828              	.LVL432:
 2829              	.L193:
 2830 06f0 04       		.byte	(.L192-.L193)/2
ARM GAS  /tmp/ccRGbSIg.s 			page 85


 2831 06f1 44       		.byte	(.L194-.L193)/2
 2832 06f2 79       		.byte	(.L195-.L193)/2
 2833 06f3 98       		.byte	(.L196-.L193)/2
 2834 06f4 E7       		.byte	(.L212-.L193)/2
 2835 06f5 AE       		.byte	(.L197-.L193)/2
 2836 06f6 D5       		.byte	(.L198-.L193)/2
 2837 06f7 00       		.p2align 1
 2838              	.L192:
1058:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 2839              		.loc 1 1058 0
 2840 06f8 94F83720 		ldrb	r2, [r4, #55]	@ zero_extendqisi2
 2841 06fc 62F07F02 		orn	r2, r2, #127
 2842 0700 2346     		mov	r3, r4
 2843 0702 03F8372F 		strb	r2, [r3, #55]!
1060:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 2844              		.loc 1 1060 0
 2845 0706 0122     		movs	r2, #1
 2846 0708 1E21     		movs	r1, #30
 2847 070a 2046     		mov	r0, r4
 2848              	.LVL433:
 2849 070c FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 2850              	.LVL434:
 2851 0710 0546     		mov	r5, r0
 2852              	.LVL435:
1062:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.pwr_mgmt_1 &= ~BIT_CYCLE;
 2853              		.loc 1 1062 0
 2854 0712 94F83520 		ldrb	r2, [r4, #53]	@ zero_extendqisi2
1063:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_1, 1, &s->base_state.pwr_mgmt_1);
 2855              		.loc 1 1063 0
 2856 0716 02F09F02 		and	r2, r2, #159
 2857 071a 2346     		mov	r3, r4
 2858 071c 03F8352F 		strb	r2, [r3, #53]!
1064:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.wake_state |= CHIP_AWAKE;
 2859              		.loc 1 1064 0
 2860 0720 0122     		movs	r2, #1
 2861 0722 6B21     		movs	r1, #107
 2862 0724 2046     		mov	r0, r4
 2863              	.LVL436:
 2864 0726 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 2865              	.LVL437:
 2866 072a 0543     		orrs	r5, r5, r0
 2867              	.LVL438:
1065:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.wake_state &= ~CHIP_LP_ENABLE;
 2868              		.loc 1 1065 0
 2869 072c 94F83430 		ldrb	r3, [r4, #52]	@ zero_extendqisi2
 2870 0730 43F00103 		orr	r3, r3, #1
1066:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 2871              		.loc 1 1066 0
 2872 0734 23F00203 		bic	r3, r3, #2
 2873 0738 84F83430 		strb	r3, [r4, #52]
1068:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 2874              		.loc 1 1068 0
 2875 073c 0220     		movs	r0, #2
 2876 073e FFF7FEFF 		bl	inv_icm207xx_sleep
 2877              	.LVL439:
1070:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= apply_accel_bw(s);
 2878              		.loc 1 1070 0
ARM GAS  /tmp/ccRGbSIg.s 			page 86


 2879 0742 2046     		mov	r0, r4
 2880 0744 FFF7FEFF 		bl	apply_accel_fsr
 2881              	.LVL440:
 2882 0748 0543     		orrs	r5, r5, r0
 2883              	.LVL441:
1071:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= apply_gyr_fsr_bw(s);
 2884              		.loc 1 1071 0
 2885 074a 2046     		mov	r0, r4
 2886 074c FFF7FEFF 		bl	apply_accel_bw
 2887              	.LVL442:
 2888 0750 0543     		orrs	r5, r5, r0
 2889              	.LVL443:
1072:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				inv_icm207xx_sleep(50); // gyro startup time
 2890              		.loc 1 1072 0
 2891 0752 2046     		mov	r0, r4
 2892 0754 FFF7FEFF 		bl	apply_gyr_fsr_bw
 2893              	.LVL444:
 2894 0758 0543     		orrs	r5, r5, r0
 2895              	.LVL445:
1073:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			break;
 2896              		.loc 1 1073 0
 2897 075a 3220     		movs	r0, #50
 2898 075c FFF7FEFF 		bl	inv_icm207xx_sleep
 2899              	.LVL446:
 2900              	.L191:
1155:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 2901              		.loc 1 1155 0
 2902 0760 0423     		movs	r3, #4
 2903 0762 84F84E30 		strb	r3, [r4, #78]
1157:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= apply_gyr_bias(s);
 2904              		.loc 1 1157 0
 2905 0766 2046     		mov	r0, r4
 2906 0768 FFF7FEFF 		bl	apply_accel_bias
 2907              	.LVL447:
 2908 076c 0543     		orrs	r5, r5, r0
 2909              	.LVL448:
1158:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		break;
 2910              		.loc 1 1158 0
 2911 076e 2046     		mov	r0, r4
 2912 0770 FFF7FEFF 		bl	apply_gyr_bias
 2913              	.LVL449:
 2914 0774 0543     		orrs	r5, r5, r0
 2915              	.LVL450:
1159:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 2916              		.loc 1 1159 0
 2917 0776 8CE4     		b	.L154
 2918              	.LVL451:
 2919              	.L194:
1080:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 2920              		.loc 1 1080 0
 2921 0778 94F83720 		ldrb	r2, [r4, #55]	@ zero_extendqisi2
 2922 077c 62F07F02 		orn	r2, r2, #127
 2923 0780 2346     		mov	r3, r4
 2924 0782 03F8372F 		strb	r2, [r3, #55]!
1082:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 2925              		.loc 1 1082 0
 2926 0786 0122     		movs	r2, #1
ARM GAS  /tmp/ccRGbSIg.s 			page 87


 2927 0788 1E21     		movs	r1, #30
 2928 078a 2046     		mov	r0, r4
 2929              	.LVL452:
 2930 078c FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 2931              	.LVL453:
 2932 0790 0546     		mov	r5, r0
 2933              	.LVL454:
1084:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &s->base_state.pwr_mgmt_2);
 2934              		.loc 1 1084 0
 2935 0792 94F83620 		ldrb	r2, [r4, #54]	@ zero_extendqisi2
 2936 0796 22F03F02 		bic	r2, r2, #63
 2937 079a 2346     		mov	r3, r4
 2938 079c 03F8362F 		strb	r2, [r3, #54]!
1085:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 2939              		.loc 1 1085 0
 2940 07a0 0122     		movs	r2, #1
 2941 07a2 6C21     		movs	r1, #108
 2942 07a4 2046     		mov	r0, r4
 2943              	.LVL455:
 2944 07a6 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 2945              	.LVL456:
 2946 07aa 0543     		orrs	r5, r5, r0
 2947              	.LVL457:
1087:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_1, 1, &s->base_state.pwr_mgmt_1);
 2948              		.loc 1 1087 0
 2949 07ac 94F83520 		ldrb	r2, [r4, #53]	@ zero_extendqisi2
 2950 07b0 22F02002 		bic	r2, r2, #32
 2951 07b4 2346     		mov	r3, r4
 2952 07b6 03F8352F 		strb	r2, [r3, #53]!
1088:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				s->base_state.wake_state &= ~CHIP_LP_ENABLE;
 2953              		.loc 1 1088 0
 2954 07ba 0122     		movs	r2, #1
 2955 07bc 6B21     		movs	r1, #107
 2956 07be 2046     		mov	r0, r4
 2957 07c0 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 2958              	.LVL458:
 2959 07c4 0543     		orrs	r5, r5, r0
 2960              	.LVL459:
1089:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 2961              		.loc 1 1089 0
 2962 07c6 94F83430 		ldrb	r3, [r4, #52]	@ zero_extendqisi2
 2963 07ca 23F00203 		bic	r3, r3, #2
 2964 07ce 84F83430 		strb	r3, [r4, #52]
1091:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 2965              		.loc 1 1091 0
 2966 07d2 0220     		movs	r0, #2
 2967 07d4 FFF7FEFF 		bl	inv_icm207xx_sleep
 2968              	.LVL460:
1093:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			break;
 2969              		.loc 1 1093 0
 2970 07d8 2046     		mov	r0, r4
 2971 07da FFF7FEFF 		bl	apply_gyr_fsr_bw
 2972              	.LVL461:
 2973 07de 0543     		orrs	r5, r5, r0
 2974              	.LVL462:
1094:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			case PowerStateAccLNState:
 2975              		.loc 1 1094 0
ARM GAS  /tmp/ccRGbSIg.s 			page 88


 2976 07e0 BEE7     		b	.L191
 2977              	.LVL463:
 2978              	.L195:
1097:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 2979              		.loc 1 1097 0
 2980 07e2 2046     		mov	r0, r4
 2981              	.LVL464:
 2982 07e4 FFF7FEFF 		bl	apply_gyr_fsr_bw
 2983              	.LVL465:
 2984 07e8 0546     		mov	r5, r0
 2985              	.LVL466:
1102:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 2986              		.loc 1 1102 0
 2987 07ea 94F83720 		ldrb	r2, [r4, #55]	@ zero_extendqisi2
 2988 07ee 62F07F02 		orn	r2, r2, #127
 2989 07f2 2346     		mov	r3, r4
 2990 07f4 03F8372F 		strb	r2, [r3, #55]!
1104:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 2991              		.loc 1 1104 0
 2992 07f8 0122     		movs	r2, #1
 2993 07fa 1E21     		movs	r1, #30
 2994 07fc 2046     		mov	r0, r4
 2995              	.LVL467:
 2996 07fe FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 2997              	.LVL468:
 2998 0802 0543     		orrs	r5, r5, r0
 2999              	.LVL469:
1106:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &s->base_state.pwr_mgmt_2);
 3000              		.loc 1 1106 0
 3001 0804 94F83620 		ldrb	r2, [r4, #54]	@ zero_extendqisi2
 3002 0808 22F00702 		bic	r2, r2, #7
 3003 080c 2346     		mov	r3, r4
 3004 080e 03F8362F 		strb	r2, [r3, #54]!
1107:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			break;
 3005              		.loc 1 1107 0
 3006 0812 0122     		movs	r2, #1
 3007 0814 6C21     		movs	r1, #108
 3008 0816 2046     		mov	r0, r4
 3009 0818 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 3010              	.LVL470:
 3011 081c 0543     		orrs	r5, r5, r0
 3012              	.LVL471:
1108:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			case PowerStateGyrLPState:
 3013              		.loc 1 1108 0
 3014 081e 9FE7     		b	.L191
 3015              	.LVL472:
 3016              	.L196:
1111:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= apply_accel_bw(s);
 3017              		.loc 1 1111 0
 3018 0820 2046     		mov	r0, r4
 3019              	.LVL473:
 3020 0822 FFF7FEFF 		bl	apply_accel_fsr
 3021              	.LVL474:
 3022 0826 0546     		mov	r5, r0
 3023              	.LVL475:
1112:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 3024              		.loc 1 1112 0
ARM GAS  /tmp/ccRGbSIg.s 			page 89


 3025 0828 2046     		mov	r0, r4
 3026              	.LVL476:
 3027 082a FFF7FEFF 		bl	apply_accel_bw
 3028              	.LVL477:
 3029 082e 0543     		orrs	r5, r5, r0
 3030              	.LVL478:
1114:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &s->base_state.pwr_mgmt_2);
 3031              		.loc 1 1114 0
 3032 0830 94F83620 		ldrb	r2, [r4, #54]	@ zero_extendqisi2
 3033 0834 22F03802 		bic	r2, r2, #56
 3034 0838 2346     		mov	r3, r4
 3035 083a 03F8362F 		strb	r2, [r3, #54]!
1115:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			break;
 3036              		.loc 1 1115 0
 3037 083e 0122     		movs	r2, #1
 3038 0840 6C21     		movs	r1, #108
 3039 0842 2046     		mov	r0, r4
 3040 0844 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 3041              	.LVL479:
 3042 0848 0543     		orrs	r5, r5, r0
 3043              	.LVL480:
1116:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			case PowerStateGyrLNState:
 3044              		.loc 1 1116 0
 3045 084a 89E7     		b	.L191
 3046              	.LVL481:
 3047              	.L197:
1119:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= apply_accel_bw(s);
 3048              		.loc 1 1119 0
 3049 084c 2046     		mov	r0, r4
 3050              	.LVL482:
 3051 084e FFF7FEFF 		bl	apply_accel_fsr
 3052              	.LVL483:
 3053 0852 0546     		mov	r5, r0
 3054              	.LVL484:
1120:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 3055              		.loc 1 1120 0
 3056 0854 2046     		mov	r0, r4
 3057              	.LVL485:
 3058 0856 FFF7FEFF 		bl	apply_accel_bw
 3059              	.LVL486:
 3060 085a 0543     		orrs	r5, r5, r0
 3061              	.LVL487:
1123:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 3062              		.loc 1 1123 0
 3063 085c 2046     		mov	r0, r4
 3064 085e FFF7FEFF 		bl	apply_gyr_fsr_bw
 3065              	.LVL488:
 3066 0862 0543     		orrs	r5, r5, r0
 3067              	.LVL489:
1125:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &s->base_state.pwr_mgmt_2);
 3068              		.loc 1 1125 0
 3069 0864 94F83620 		ldrb	r2, [r4, #54]	@ zero_extendqisi2
 3070 0868 22F03802 		bic	r2, r2, #56
 3071 086c 2346     		mov	r3, r4
 3072 086e 03F8362F 		strb	r2, [r3, #54]!
1126:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 3073              		.loc 1 1126 0
ARM GAS  /tmp/ccRGbSIg.s 			page 90


 3074 0872 0122     		movs	r2, #1
 3075 0874 6C21     		movs	r1, #108
 3076 0876 2046     		mov	r0, r4
 3077 0878 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 3078              	.LVL490:
 3079 087c 0543     		orrs	r5, r5, r0
 3080              	.LVL491:
1131:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 3081              		.loc 1 1131 0
 3082 087e 94F83720 		ldrb	r2, [r4, #55]	@ zero_extendqisi2
 3083 0882 62F07F02 		orn	r2, r2, #127
 3084 0886 2346     		mov	r3, r4
 3085 0888 03F8372F 		strb	r2, [r3, #55]!
1133:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			break;
 3086              		.loc 1 1133 0
 3087 088c 0122     		movs	r2, #1
 3088 088e 1E21     		movs	r1, #30
 3089 0890 2046     		mov	r0, r4
 3090 0892 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 3091              	.LVL492:
 3092 0896 0543     		orrs	r5, r5, r0
 3093              	.LVL493:
1134:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			case PowerState6AxisLNState:
 3094              		.loc 1 1134 0
 3095 0898 62E7     		b	.L191
 3096              	.LVL494:
 3097              	.L198:
1139:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 3098              		.loc 1 1139 0
 3099 089a 2046     		mov	r0, r4
 3100              	.LVL495:
 3101 089c FFF7FEFF 		bl	apply_gyr_fsr_bw
 3102              	.LVL496:
 3103 08a0 0546     		mov	r5, r0
 3104              	.LVL497:
1144:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
 3105              		.loc 1 1144 0
 3106 08a2 94F83720 		ldrb	r2, [r4, #55]	@ zero_extendqisi2
 3107 08a6 62F07F02 		orn	r2, r2, #127
 3108 08aa 2346     		mov	r3, r4
 3109 08ac 03F8372F 		strb	r2, [r3, #55]!
1146:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			break;
 3110              		.loc 1 1146 0
 3111 08b0 0122     		movs	r2, #1
 3112 08b2 1E21     		movs	r1, #30
 3113 08b4 2046     		mov	r0, r4
 3114              	.LVL498:
 3115 08b6 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 3116              	.LVL499:
 3117 08ba 0543     		orrs	r5, r5, r0
 3118              	.LVL500:
1147:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			default :
 3119              		.loc 1 1147 0
 3120 08bc 50E7     		b	.L191
 3121              	.LVL501:
 3122              	.L212:
 613:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
ARM GAS  /tmp/ccRGbSIg.s 			page 91


 3123              		.loc 1 613 0
 3124 08be 0025     		movs	r5, #0
 3125 08c0 4EE7     		b	.L191
 3126              	.LVL502:
 3127              	.L161:
1167:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		case PowerStateSleepState:
 3128              		.loc 1 1167 0
 3129 08c2 94F84E30 		ldrb	r3, [r4, #78]	@ zero_extendqisi2
 3130 08c6 052B     		cmp	r3, #5
 3131 08c8 00F2E680 		bhi	.L213
 3132 08cc DFE803F0 		tbb	[pc, r3]
 3133              	.LVL503:
 3134              	.L201:
 3135 08d0 03       		.byte	(.L200-.L201)/2
 3136 08d1 41       		.byte	(.L202-.L201)/2
 3137 08d2 76       		.byte	(.L203-.L201)/2
 3138 08d3 95       		.byte	(.L204-.L201)/2
 3139 08d4 D2       		.byte	(.L205-.L201)/2
 3140 08d5 BC       		.byte	(.L206-.L201)/2
 3141              		.p2align 1
 3142              	.L200:
1170:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			result |= inv_icm207xx_mems_write_reg(s, MPUREG_LP_CONFIG, 1, &s->base_state.lp_config);
 3143              		.loc 1 1170 0
 3144 08d6 94F83720 		ldrb	r2, [r4, #55]	@ zero_extendqisi2
 3145 08da 02F07F02 		and	r2, r2, #127
 3146 08de 2346     		mov	r3, r4
 3147 08e0 03F8372F 		strb	r2, [r3, #55]!
1171:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 3148              		.loc 1 1171 0
 3149 08e4 0122     		movs	r2, #1
 3150 08e6 1E21     		movs	r1, #30
 3151 08e8 2046     		mov	r0, r4
 3152              	.LVL504:
 3153 08ea FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 3154              	.LVL505:
 3155 08ee 0546     		mov	r5, r0
 3156              	.LVL506:
1173:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			s->base_state.pwr_mgmt_1 &= ~BIT_CYCLE;
 3157              		.loc 1 1173 0
 3158 08f0 94F83520 		ldrb	r2, [r4, #53]	@ zero_extendqisi2
1174:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_1, 1, &s->base_state.pwr_mgmt_1);
 3159              		.loc 1 1174 0
 3160 08f4 02F09F02 		and	r2, r2, #159
 3161 08f8 2346     		mov	r3, r4
 3162 08fa 03F8352F 		strb	r2, [r3, #53]!
1175:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			s->base_state.wake_state |= CHIP_AWAKE;
 3163              		.loc 1 1175 0
 3164 08fe 0122     		movs	r2, #1
 3165 0900 6B21     		movs	r1, #107
 3166 0902 2046     		mov	r0, r4
 3167              	.LVL507:
 3168 0904 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 3169              	.LVL508:
 3170 0908 0543     		orrs	r5, r5, r0
 3171              	.LVL509:
1176:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			s->base_state.wake_state &= ~CHIP_LP_ENABLE;
 3172              		.loc 1 1176 0
ARM GAS  /tmp/ccRGbSIg.s 			page 92


 3173 090a 94F83430 		ldrb	r3, [r4, #52]	@ zero_extendqisi2
 3174 090e 43F00103 		orr	r3, r3, #1
1177:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			inv_icm207xx_sleep(2);
 3175              		.loc 1 1177 0
 3176 0912 23F00203 		bic	r3, r3, #2
 3177 0916 84F83430 		strb	r3, [r4, #52]
1178:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 3178              		.loc 1 1178 0
 3179 091a 0220     		movs	r0, #2
 3180 091c FFF7FEFF 		bl	inv_icm207xx_sleep
 3181              	.LVL510:
1180:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			apply_accel_bw(s);
 3182              		.loc 1 1180 0
 3183 0920 2046     		mov	r0, r4
 3184 0922 FFF7FEFF 		bl	apply_accel_fsr
 3185              	.LVL511:
1181:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			apply_gyr_fsr_bw(s);
 3186              		.loc 1 1181 0
 3187 0926 2046     		mov	r0, r4
 3188 0928 FFF7FEFF 		bl	apply_accel_bw
 3189              	.LVL512:
1182:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			inv_icm207xx_sleep(50); // gyro startup time
 3190              		.loc 1 1182 0
 3191 092c 2046     		mov	r0, r4
 3192 092e FFF7FEFF 		bl	apply_gyr_fsr_bw
 3193              	.LVL513:
1183:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			break;
 3194              		.loc 1 1183 0
 3195 0932 3220     		movs	r0, #50
 3196 0934 FFF7FEFF 		bl	inv_icm207xx_sleep
 3197              	.LVL514:
 3198              	.L199:
1248:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= apply_accel_bias(s);
 3199              		.loc 1 1248 0
 3200 0938 0623     		movs	r3, #6
 3201 093a 84F84E30 		strb	r3, [r4, #78]
1249:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= apply_gyr_bias(s);
 3202              		.loc 1 1249 0
 3203 093e 2046     		mov	r0, r4
 3204 0940 FFF7FEFF 		bl	apply_accel_bias
 3205              	.LVL515:
 3206 0944 0543     		orrs	r5, r5, r0
 3207              	.LVL516:
1250:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		break;
 3208              		.loc 1 1250 0
 3209 0946 2046     		mov	r0, r4
 3210 0948 FFF7FEFF 		bl	apply_gyr_bias
 3211              	.LVL517:
 3212 094c 0543     		orrs	r5, r5, r0
 3213              	.LVL518:
1251:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 3214              		.loc 1 1251 0
 3215 094e FFF7A0BB 		b	.L154
 3216              	.LVL519:
 3217              	.L202:
1187:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			result |= inv_icm207xx_mems_write_reg(s, MPUREG_LP_CONFIG, 1, &s->base_state.lp_config);
 3218              		.loc 1 1187 0
ARM GAS  /tmp/ccRGbSIg.s 			page 93


 3219 0952 94F83720 		ldrb	r2, [r4, #55]	@ zero_extendqisi2
 3220 0956 02F07F02 		and	r2, r2, #127
 3221 095a 2346     		mov	r3, r4
 3222 095c 03F8372F 		strb	r2, [r3, #55]!
1188:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 3223              		.loc 1 1188 0
 3224 0960 0122     		movs	r2, #1
 3225 0962 1E21     		movs	r1, #30
 3226 0964 2046     		mov	r0, r4
 3227              	.LVL520:
 3228 0966 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 3229              	.LVL521:
 3230 096a 0546     		mov	r5, r0
 3231              	.LVL522:
1190:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			s->base_state.pwr_mgmt_2 &= ~BIT_PWR_GYRO_STBY;
 3232              		.loc 1 1190 0
 3233 096c 94F83620 		ldrb	r2, [r4, #54]	@ zero_extendqisi2
1191:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &s->base_state.pwr_mgmt_2);
 3234              		.loc 1 1191 0
 3235 0970 02F0C002 		and	r2, r2, #192
 3236 0974 2346     		mov	r3, r4
 3237 0976 03F8362F 		strb	r2, [r3, #54]!
1192:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 3238              		.loc 1 1192 0
 3239 097a 0122     		movs	r2, #1
 3240 097c 6C21     		movs	r1, #108
 3241 097e 2046     		mov	r0, r4
 3242              	.LVL523:
 3243 0980 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 3244              	.LVL524:
 3245 0984 0543     		orrs	r5, r5, r0
 3246              	.LVL525:
1194:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_1, 1, &s->base_state.pwr_mgmt_1);
 3247              		.loc 1 1194 0
 3248 0986 94F83520 		ldrb	r2, [r4, #53]	@ zero_extendqisi2
 3249 098a 22F02002 		bic	r2, r2, #32
 3250 098e 2346     		mov	r3, r4
 3251 0990 03F8352F 		strb	r2, [r3, #53]!
1195:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			s->base_state.wake_state &= ~CHIP_LP_ENABLE;
 3252              		.loc 1 1195 0
 3253 0994 0122     		movs	r2, #1
 3254 0996 6B21     		movs	r1, #107
 3255 0998 2046     		mov	r0, r4
 3256 099a FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 3257              	.LVL526:
 3258 099e 0543     		orrs	r5, r5, r0
 3259              	.LVL527:
1196:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			inv_icm207xx_sleep(2);
 3260              		.loc 1 1196 0
 3261 09a0 94F83430 		ldrb	r3, [r4, #52]	@ zero_extendqisi2
 3262 09a4 23F00203 		bic	r3, r3, #2
 3263 09a8 84F83430 		strb	r3, [r4, #52]
1197:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 3264              		.loc 1 1197 0
 3265 09ac 0220     		movs	r0, #2
 3266 09ae FFF7FEFF 		bl	inv_icm207xx_sleep
 3267              	.LVL528:
ARM GAS  /tmp/ccRGbSIg.s 			page 94


1199:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			break;
 3268              		.loc 1 1199 0
 3269 09b2 2046     		mov	r0, r4
 3270 09b4 FFF7FEFF 		bl	apply_gyr_fsr_bw
 3271              	.LVL529:
 3272 09b8 0543     		orrs	r5, r5, r0
 3273              	.LVL530:
1200:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		case PowerStateAccLNState:
 3274              		.loc 1 1200 0
 3275 09ba BDE7     		b	.L199
 3276              	.LVL531:
 3277              	.L203:
1203:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 3278              		.loc 1 1203 0
 3279 09bc 2046     		mov	r0, r4
 3280              	.LVL532:
 3281 09be FFF7FEFF 		bl	apply_gyr_fsr_bw
 3282              	.LVL533:
 3283 09c2 0546     		mov	r5, r0
 3284              	.LVL534:
1205:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			result |= inv_icm207xx_mems_write_reg(s, MPUREG_LP_CONFIG, 1, &s->base_state.lp_config);
 3285              		.loc 1 1205 0
 3286 09c4 94F83720 		ldrb	r2, [r4, #55]	@ zero_extendqisi2
 3287 09c8 02F07F02 		and	r2, r2, #127
 3288 09cc 2346     		mov	r3, r4
 3289 09ce 03F8372F 		strb	r2, [r3, #55]!
1206:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 3290              		.loc 1 1206 0
 3291 09d2 0122     		movs	r2, #1
 3292 09d4 1E21     		movs	r1, #30
 3293 09d6 2046     		mov	r0, r4
 3294              	.LVL535:
 3295 09d8 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 3296              	.LVL536:
 3297 09dc 0543     		orrs	r5, r5, r0
 3298              	.LVL537:
1208:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &s->base_state.pwr_mgmt_2);
 3299              		.loc 1 1208 0
 3300 09de 94F83620 		ldrb	r2, [r4, #54]	@ zero_extendqisi2
 3301 09e2 22F00702 		bic	r2, r2, #7
 3302 09e6 2346     		mov	r3, r4
 3303 09e8 03F8362F 		strb	r2, [r3, #54]!
1209:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			break;
 3304              		.loc 1 1209 0
 3305 09ec 0122     		movs	r2, #1
 3306 09ee 6C21     		movs	r1, #108
 3307 09f0 2046     		mov	r0, r4
 3308 09f2 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 3309              	.LVL538:
 3310 09f6 0543     		orrs	r5, r5, r0
 3311              	.LVL539:
1210:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		case PowerStateGyrLPState:
 3312              		.loc 1 1210 0
 3313 09f8 9EE7     		b	.L199
 3314              	.LVL540:
 3315              	.L204:
1213:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			result |= apply_accel_bw(s);
ARM GAS  /tmp/ccRGbSIg.s 			page 95


 3316              		.loc 1 1213 0
 3317 09fa 2046     		mov	r0, r4
 3318              	.LVL541:
 3319 09fc FFF7FEFF 		bl	apply_accel_fsr
 3320              	.LVL542:
 3321 0a00 0546     		mov	r5, r0
 3322              	.LVL543:
1214:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 3323              		.loc 1 1214 0
 3324 0a02 2046     		mov	r0, r4
 3325              	.LVL544:
 3326 0a04 FFF7FEFF 		bl	apply_accel_bw
 3327              	.LVL545:
 3328 0a08 0543     		orrs	r5, r5, r0
 3329              	.LVL546:
1217:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 3330              		.loc 1 1217 0
 3331 0a0a 2046     		mov	r0, r4
 3332 0a0c FFF7FEFF 		bl	apply_gyr_fsr_bw
 3333              	.LVL547:
 3334 0a10 0543     		orrs	r5, r5, r0
 3335              	.LVL548:
1219:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &s->base_state.pwr_mgmt_2);
 3336              		.loc 1 1219 0
 3337 0a12 94F83620 		ldrb	r2, [r4, #54]	@ zero_extendqisi2
 3338 0a16 22F03802 		bic	r2, r2, #56
 3339 0a1a 2346     		mov	r3, r4
 3340 0a1c 03F8362F 		strb	r2, [r3, #54]!
1220:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 3341              		.loc 1 1220 0
 3342 0a20 0122     		movs	r2, #1
 3343 0a22 6C21     		movs	r1, #108
 3344 0a24 2046     		mov	r0, r4
 3345 0a26 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 3346              	.LVL549:
 3347 0a2a 0543     		orrs	r5, r5, r0
 3348              	.LVL550:
1222:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			result |= inv_icm207xx_mems_write_reg(s, MPUREG_LP_CONFIG, 1, &s->base_state.lp_config);
 3349              		.loc 1 1222 0
 3350 0a2c 94F83720 		ldrb	r2, [r4, #55]	@ zero_extendqisi2
 3351 0a30 02F07F02 		and	r2, r2, #127
 3352 0a34 2346     		mov	r3, r4
 3353 0a36 03F8372F 		strb	r2, [r3, #55]!
1223:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			break;
 3354              		.loc 1 1223 0
 3355 0a3a 0122     		movs	r2, #1
 3356 0a3c 1E21     		movs	r1, #30
 3357 0a3e 2046     		mov	r0, r4
 3358 0a40 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 3359              	.LVL551:
 3360 0a44 0543     		orrs	r5, r5, r0
 3361              	.LVL552:
1224:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		case PowerStateGyrLNState:
 3362              		.loc 1 1224 0
 3363 0a46 77E7     		b	.L199
 3364              	.LVL553:
 3365              	.L206:
ARM GAS  /tmp/ccRGbSIg.s 			page 96


1227:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			result |= apply_accel_bw(s);
 3366              		.loc 1 1227 0
 3367 0a48 2046     		mov	r0, r4
 3368              	.LVL554:
 3369 0a4a FFF7FEFF 		bl	apply_accel_fsr
 3370              	.LVL555:
 3371 0a4e 0546     		mov	r5, r0
 3372              	.LVL556:
1228:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 3373              		.loc 1 1228 0
 3374 0a50 2046     		mov	r0, r4
 3375              	.LVL557:
 3376 0a52 FFF7FEFF 		bl	apply_accel_bw
 3377              	.LVL558:
 3378 0a56 0543     		orrs	r5, r5, r0
 3379              	.LVL559:
1230:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &s->base_state.pwr_mgmt_2);
 3380              		.loc 1 1230 0
 3381 0a58 94F83620 		ldrb	r2, [r4, #54]	@ zero_extendqisi2
 3382 0a5c 22F03802 		bic	r2, r2, #56
 3383 0a60 2346     		mov	r3, r4
 3384 0a62 03F8362F 		strb	r2, [r3, #54]!
1231:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 3385              		.loc 1 1231 0
 3386 0a66 0122     		movs	r2, #1
 3387 0a68 6C21     		movs	r1, #108
 3388 0a6a 2046     		mov	r0, r4
 3389 0a6c FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 3390              	.LVL560:
 3391 0a70 0543     		orrs	r5, r5, r0
 3392              	.LVL561:
1234:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		case PowerState6AxisLPState:
 3393              		.loc 1 1234 0
 3394 0a72 61E7     		b	.L199
 3395              	.LVL562:
 3396              	.L205:
1239:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 3397              		.loc 1 1239 0
 3398 0a74 2046     		mov	r0, r4
 3399              	.LVL563:
 3400 0a76 FFF7FEFF 		bl	apply_gyr_fsr_bw
 3401              	.LVL564:
 3402 0a7a 0546     		mov	r5, r0
 3403              	.LVL565:
1241:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			result |= inv_icm207xx_mems_write_reg(s, MPUREG_LP_CONFIG, 1, &s->base_state.lp_config);
 3404              		.loc 1 1241 0
 3405 0a7c 94F83720 		ldrb	r2, [r4, #55]	@ zero_extendqisi2
 3406 0a80 02F07F02 		and	r2, r2, #127
 3407 0a84 2346     		mov	r3, r4
 3408 0a86 03F8372F 		strb	r2, [r3, #55]!
1242:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			break;
 3409              		.loc 1 1242 0
 3410 0a8a 0122     		movs	r2, #1
 3411 0a8c 1E21     		movs	r1, #30
 3412 0a8e 2046     		mov	r0, r4
 3413              	.LVL566:
 3414 0a90 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
ARM GAS  /tmp/ccRGbSIg.s 			page 97


 3415              	.LVL567:
 3416 0a94 0543     		orrs	r5, r5, r0
 3417              	.LVL568:
1243:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		default:
 3418              		.loc 1 1243 0
 3419 0a96 4FE7     		b	.L199
 3420              	.LVL569:
 3421              	.L213:
 613:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 3422              		.loc 1 613 0
 3423 0a98 0025     		movs	r5, #0
 3424 0a9a 4DE7     		b	.L199
 3425              	.LVL570:
 3426              	.L207:
 3427 0a9c 0025     		movs	r5, #0
 3428 0a9e FFF7F8BA 		b	.L154
 3429              		.cfi_endproc
 3430              	.LFE27:
 3432              		.section	.text.inv_icm207xx_is_sensor_enabled,"ax",%progbits
 3433              		.align	1
 3434              		.global	inv_icm207xx_is_sensor_enabled
 3435              		.syntax unified
 3436              		.thumb
 3437              		.thumb_func
 3438              		.fpu fpv4-sp-d16
 3440              	inv_icm207xx_is_sensor_enabled:
 3441              	.LFB32:
1489:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	const uint8_t androidSensor = sensor_type_2_android_sensor(sensor);
 3442              		.loc 1 1489 0
 3443              		.cfi_startproc
 3444              		@ args = 0, pretend = 0, frame = 0
 3445              		@ frame_needed = 0, uses_anonymous_args = 0
 3446              	.LVL571:
 3447 0000 10B5     		push	{r4, lr}
 3448              	.LCFI40:
 3449              		.cfi_def_cfa_offset 8
 3450              		.cfi_offset 4, -8
 3451              		.cfi_offset 14, -4
 3452 0002 0446     		mov	r4, r0
1490:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 3453              		.loc 1 1490 0
 3454 0004 0846     		mov	r0, r1
 3455              	.LVL572:
 3456 0006 FFF7FEFF 		bl	sensor_type_2_android_sensor
 3457              	.LVL573:
1492:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		return (is_android_sensor_enabled(s, androidSensor) != 0);
 3458              		.loc 1 1492 0
 3459 000a 0528     		cmp	r0, #5
 3460 000c 07D8     		bhi	.L218
1493:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
 3461              		.loc 1 1493 0
 3462 000e 0146     		mov	r1, r0
 3463 0010 2046     		mov	r0, r4
 3464              	.LVL574:
 3465 0012 FFF7FEFF 		bl	is_android_sensor_enabled
 3466              	.LVL575:
 3467 0016 0030     		adds	r0, r0, #0
ARM GAS  /tmp/ccRGbSIg.s 			page 98


 3468 0018 18BF     		it	ne
 3469 001a 0120     		movne	r0, #1
 3470              	.L216:
1497:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 3471              		.loc 1 1497 0
 3472 001c 10BD     		pop	{r4, pc}
 3473              	.LVL576:
 3474              	.L218:
1496:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** }
 3475              		.loc 1 1496 0
 3476 001e 0620     		movs	r0, #6
 3477              	.LVL577:
 3478 0020 FCE7     		b	.L216
 3479              		.cfi_endproc
 3480              	.LFE32:
 3482              		.section	.text.inv_icm207xx_poll_sensor_data_reg,"ax",%progbits
 3483              		.align	1
 3484              		.global	inv_icm207xx_poll_sensor_data_reg
 3485              		.syntax unified
 3486              		.thumb
 3487              		.thumb_func
 3488              		.fpu fpv4-sp-d16
 3490              	inv_icm207xx_poll_sensor_data_reg:
 3491              	.LFB24:
 334:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	int rc;
 3492              		.loc 1 334 0
 3493              		.cfi_startproc
 3494              		@ args = 0, pretend = 0, frame = 16
 3495              		@ frame_needed = 0, uses_anonymous_args = 0
 3496              	.LVL578:
 3497 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 3498              	.LCFI41:
 3499              		.cfi_def_cfa_offset 32
 3500              		.cfi_offset 4, -32
 3501              		.cfi_offset 5, -28
 3502              		.cfi_offset 6, -24
 3503              		.cfi_offset 7, -20
 3504              		.cfi_offset 8, -16
 3505              		.cfi_offset 9, -12
 3506              		.cfi_offset 10, -8
 3507              		.cfi_offset 14, -4
 3508 0004 84B0     		sub	sp, sp, #16
 3509              	.LCFI42:
 3510              		.cfi_def_cfa_offset 48
 3511 0006 0446     		mov	r4, r0
 3512 0008 8946     		mov	r9, r1
 3513 000a 9246     		mov	r10, r2
 3514 000c 9846     		mov	r8, r3
 3515              	.LVL579:
 341:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	const int gyro_on = inv_icm207xx_is_sensor_enabled(s, INV_ICM207XX_SENSOR_GYRO);
 3516              		.loc 1 341 0
 3517 000e 0021     		movs	r1, #0
 3518              	.LVL580:
 3519 0010 FFF7FEFF 		bl	inv_icm207xx_is_sensor_enabled
 3520              	.LVL581:
 3521 0014 0546     		mov	r5, r0
 3522              	.LVL582:
ARM GAS  /tmp/ccRGbSIg.s 			page 99


 342:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	const int temp_on = inv_icm207xx_is_sensor_enabled(s, INV_ICM207XX_SENSOR_TEMPERATURE);
 3523              		.loc 1 342 0
 3524 0016 0121     		movs	r1, #1
 3525 0018 2046     		mov	r0, r4
 3526              	.LVL583:
 3527 001a FFF7FEFF 		bl	inv_icm207xx_is_sensor_enabled
 3528              	.LVL584:
 3529 001e 0646     		mov	r6, r0
 3530              	.LVL585:
 343:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 3531              		.loc 1 343 0
 3532 0020 0521     		movs	r1, #5
 3533 0022 2046     		mov	r0, r4
 3534              	.LVL586:
 3535 0024 FFF7FEFF 		bl	inv_icm207xx_is_sensor_enabled
 3536              	.LVL587:
 3537 0028 0746     		mov	r7, r0
 3538              	.LVL588:
 345:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		reg    = MPUREG_ACCEL_XOUT_H;
 3539              		.loc 1 345 0
 3540 002a 2DB1     		cbz	r5, .L221
 345:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		reg    = MPUREG_ACCEL_XOUT_H;
 3541              		.loc 1 345 0 is_stmt 0 discriminator 1
 3542 002c 26B9     		cbnz	r6, .L221
 3543              	.LVL589:
 349:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			len = 8;
 3544              		.loc 1 349 0 is_stmt 1
 3545 002e 60B9     		cbnz	r0, .L226
 348:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		if(temp_on)
 3546              		.loc 1 348 0
 3547 0030 0022     		movs	r2, #0
 347:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		offset = 0;
 3548              		.loc 1 347 0
 3549 0032 0623     		movs	r3, #6
 346:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		len    = 6;
 3550              		.loc 1 346 0
 3551 0034 3B21     		movs	r1, #59
 3552 0036 0FE0     		b	.L222
 3553              	.LVL590:
 3554              	.L221:
 352:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		if(temp_on) {
 3555              		.loc 1 352 0
 3556 0038 5DB9     		cbnz	r5, .L227
 352:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		if(temp_on) {
 3557              		.loc 1 352 0 is_stmt 0 discriminator 1
 3558 003a 002E     		cmp	r6, #0
 3559 003c 58D0     		beq	.L228
 353:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			reg    = MPUREG_TEMP_XOUT_H;
 3560              		.loc 1 353 0 is_stmt 1
 3561 003e 002F     		cmp	r7, #0
 3562 0040 5AD0     		beq	.L229
 356:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		} else {
 3563              		.loc 1 356 0
 3564 0042 0622     		movs	r2, #6
 355:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			offset = 6;
 3565              		.loc 1 355 0
 3566 0044 0823     		movs	r3, #8
ARM GAS  /tmp/ccRGbSIg.s 			page 100


 354:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			len    = 8;
 3567              		.loc 1 354 0
 3568 0046 4121     		movs	r1, #65
 3569 0048 06E0     		b	.L222
 3570              	.LVL591:
 3571              	.L226:
 348:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		if(temp_on)
 3572              		.loc 1 348 0
 3573 004a 0022     		movs	r2, #0
 350:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
 3574              		.loc 1 350 0
 3575 004c 0823     		movs	r3, #8
 346:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		len    = 6;
 3576              		.loc 1 346 0
 3577 004e 3B21     		movs	r1, #59
 3578 0050 02E0     		b	.L222
 3579              	.LVL592:
 3580              	.L227:
 339:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 3581              		.loc 1 339 0
 3582 0052 0022     		movs	r2, #0
 338:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	uint8_t  offset = 0;
 3583              		.loc 1 338 0
 3584 0054 0E23     		movs	r3, #14
 337:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	uint8_t  len    = 14; /* includes temp reg */
 3585              		.loc 1 337 0
 3586 0056 3B21     		movs	r1, #59
 3587              	.LVL593:
 3588              	.L222:
 364:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		return rc;
 3589              		.loc 1 364 0
 3590 0058 6A44     		add	r2, r2, sp
 3591              	.LVL594:
 3592 005a 2046     		mov	r0, r4
 3593              	.LVL595:
 3594 005c FFF7FEFF 		bl	inv_icm207xx_read_reg
 3595              	.LVL596:
 3596 0060 0346     		mov	r3, r0
 3597 0062 0028     		cmp	r0, #0
 3598 0064 40D1     		bne	.L220
 367:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 3599              		.loc 1 367 0
 3600 0066 CDB1     		cbz	r5, .L224
 370:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		acc_data[1] = (data[2] << 8) | data[3];
 3601              		.loc 1 370 0
 3602 0068 9DF80010 		ldrb	r1, [sp]	@ zero_extendqisi2
 3603 006c 9DF80120 		ldrb	r2, [sp, #1]	@ zero_extendqisi2
 3604 0070 42EA0122 		orr	r2, r2, r1, lsl #8
 3605 0074 A9F80020 		strh	r2, [r9]	@ movhi
 371:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		acc_data[2] = (data[4] << 8) | data[5];
 3606              		.loc 1 371 0
 3607 0078 9DF80210 		ldrb	r1, [sp, #2]	@ zero_extendqisi2
 3608 007c 9DF80320 		ldrb	r2, [sp, #3]	@ zero_extendqisi2
 3609 0080 42EA0122 		orr	r2, r2, r1, lsl #8
 3610 0084 A9F80220 		strh	r2, [r9, #2]	@ movhi
 372:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 3611              		.loc 1 372 0
ARM GAS  /tmp/ccRGbSIg.s 			page 101


 3612 0088 9DF80410 		ldrb	r1, [sp, #4]	@ zero_extendqisi2
 3613 008c 9DF80520 		ldrb	r2, [sp, #5]	@ zero_extendqisi2
 3614 0090 42EA0122 		orr	r2, r2, r1, lsl #8
 3615 0094 A9F80420 		strh	r2, [r9, #4]	@ movhi
 374:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
 3616              		.loc 1 374 0
 3617 0098 40F00103 		orr	r3, r0, #1
 3618              	.LVL597:
 3619              	.L224:
 377:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 3620              		.loc 1 377 0
 3621 009c 4FB1     		cbz	r7, .L225
 379:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 3622              		.loc 1 379 0
 3623 009e 9DF80610 		ldrb	r1, [sp, #6]	@ zero_extendqisi2
 3624 00a2 9DF80720 		ldrb	r2, [sp, #7]	@ zero_extendqisi2
 3625 00a6 42EA0122 		orr	r2, r2, r1, lsl #8
 3626 00aa AAF80020 		strh	r2, [r10]	@ movhi
 381:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
 3627              		.loc 1 381 0
 3628 00ae 43F02003 		orr	r3, r3, #32
 3629              	.LVL598:
 3630              	.L225:
 384:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 3631              		.loc 1 384 0
 3632 00b2 CEB1     		cbz	r6, .L220
 386:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		gyro_data[1] = (data[2+8] << 8) | data[3+8];
 3633              		.loc 1 386 0
 3634 00b4 9DF80810 		ldrb	r1, [sp, #8]	@ zero_extendqisi2
 3635 00b8 9DF80920 		ldrb	r2, [sp, #9]	@ zero_extendqisi2
 3636 00bc 42EA0122 		orr	r2, r2, r1, lsl #8
 3637 00c0 A8F80020 		strh	r2, [r8]	@ movhi
 387:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		gyro_data[2] = (data[4+8] << 8) | data[5+8];
 3638              		.loc 1 387 0
 3639 00c4 9DF80A10 		ldrb	r1, [sp, #10]	@ zero_extendqisi2
 3640 00c8 9DF80B20 		ldrb	r2, [sp, #11]	@ zero_extendqisi2
 3641 00cc 42EA0122 		orr	r2, r2, r1, lsl #8
 3642 00d0 A8F80220 		strh	r2, [r8, #2]	@ movhi
 388:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 3643              		.loc 1 388 0
 3644 00d4 9DF80C10 		ldrb	r1, [sp, #12]	@ zero_extendqisi2
 3645 00d8 9DF80D20 		ldrb	r2, [sp, #13]	@ zero_extendqisi2
 3646 00dc 42EA0122 		orr	r2, r2, r1, lsl #8
 3647 00e0 A8F80420 		strh	r2, [r8, #4]	@ movhi
 390:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
 3648              		.loc 1 390 0
 3649 00e4 43F00203 		orr	r3, r3, #2
 3650              	.LVL599:
 3651              	.L220:
 394:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 3652              		.loc 1 394 0
 3653 00e8 1846     		mov	r0, r3
 3654 00ea 04B0     		add	sp, sp, #16
 3655              	.LCFI43:
 3656              		.cfi_remember_state
 3657              		.cfi_def_cfa_offset 32
 3658              		@ sp needed
ARM GAS  /tmp/ccRGbSIg.s 			page 102


 3659 00ec BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 3660              	.LVL600:
 3661              	.L228:
 3662              	.LCFI44:
 3663              		.cfi_restore_state
 339:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 3664              		.loc 1 339 0
 3665 00f0 0022     		movs	r2, #0
 338:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	uint8_t  offset = 0;
 3666              		.loc 1 338 0
 3667 00f2 0E23     		movs	r3, #14
 337:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	uint8_t  len    = 14; /* includes temp reg */
 3668              		.loc 1 337 0
 3669 00f4 3B21     		movs	r1, #59
 3670 00f6 AFE7     		b	.L222
 3671              	.L229:
 360:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		}
 3672              		.loc 1 360 0
 3673 00f8 0822     		movs	r2, #8
 359:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			offset = 8;
 3674              		.loc 1 359 0
 3675 00fa 0623     		movs	r3, #6
 358:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			len    = 6;
 3676              		.loc 1 358 0
 3677 00fc 4321     		movs	r1, #67
 3678 00fe ABE7     		b	.L222
 3679              		.cfi_endproc
 3680              	.LFE24:
 3682              		.section	.text.inv_icm207xx_disable_fifo,"ax",%progbits
 3683              		.align	1
 3684              		.global	inv_icm207xx_disable_fifo
 3685              		.syntax unified
 3686              		.thumb
 3687              		.thumb_func
 3688              		.fpu fpv4-sp-d16
 3690              	inv_icm207xx_disable_fifo:
 3691              	.LFB37:
1545:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1546:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** int inv_icm207xx_enable_sensor(struct inv_icm207xx * s, enum inv_icm207xx_sensor sensor, uint8_t en
1547:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** {
1548:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	int result = 0;
1549:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	uint16_t data_rdy_status = 0;
1550:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	uint16_t resulting_divider = 0;
1551:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	uint16_t sensor_control = 0;
1552:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1553:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	static const int16_t android_sensor_2_control_bits[ANDROID_SENSOR_NUM_MAX]= {
1554:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		// Unsupported Sensors are -1
1555:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		0x8008, // Accelerometer
1556:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		0x0048, // Gyroscope
1557:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		0x0048, // OIS
1558:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		0x8008, // Temperature
1559:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		0x0048, // FSYNC
1560:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	};
1561:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1562:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	const uint8_t androidSensor = sensor_type_2_android_sensor(sensor);
1563:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1564:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	convert_android_sensor_to_control(s, androidSensor, enable,
ARM GAS  /tmp/ccRGbSIg.s 			page 103


1565:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			android_sensor_2_control_bits, &sensor_control);
1566:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1567:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if (s->android_sensor_mask & INV_NEEDS_GYRO_MASK)
1568:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data_rdy_status |= GYRO_AVAILABLE;
1569:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if (s->android_sensor_mask & INV_NEEDS_ACCEL_MASK)
1570:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data_rdy_status |= ACCEL_AVAILABLE;
1571:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if (s->android_sensor_mask & INV_NEEDS_COMPASS_MASK)
1572:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data_rdy_status |= COMPASS_AVAILABLE;
1573:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if (s->android_sensor_mask & INV_NEEDS_TEMP_MASK)
1574:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data_rdy_status |= TEMP_AVAILABLE;
1575:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if (s->android_sensor_mask & INV_NEEDS_OIS_MASK)
1576:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data_rdy_status |= OIS_AVAILABLE;
1577:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if (s->android_sensor_mask & INV_NEEDS_FSYNC_MASK) {
1578:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		inv_icm207xx_set_fsync_bit_location(s, enable);
1579:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
1580:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1581:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	// Configure interrupt
1582:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	result |= enable_interrupt(s, (int)data_rdy_status);
1583:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1584:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	// turn on gyro cal only if gyro is available
1585:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	result |= inv_icm207xx_disable_fifo(s);
1586:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	result |= set_hw_smplrt_dmp_odrs(s, &resulting_divider);
1587:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	result |= inv_icm207xx_enable_mems(s, (int)data_rdy_status, resulting_divider);
1588:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	// need to reset and restart FIFO with new configurations
1589:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	result |= inv_icm207xx_enable_fifo(s, (int)data_rdy_status);
1590:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	// drop the first data in the FIFO
1591:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	s->dropped_data[sensor] = 1;
1592:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if(s->dropped_data[INV_ICM207XX_SENSOR_ACCEL] && s->dropped_data[INV_ICM207XX_SENSOR_GYRO]) {
1593:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		s->dropped_data[INV_ICM207XX_SENSOR_ACCEL] = 2;
1594:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		s->dropped_data[INV_ICM207XX_SENSOR_GYRO] = 2;
1595:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
1596:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1597:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	return result;
1598:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** }
1599:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1600:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** int inv_icm207xx_configure_accel_wom(struct inv_icm207xx * s, uint8_t wom_threshold)
1601:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** {
1602:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	int result = 0;
1603:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	uint8_t data;
1604:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1605:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if(wom_threshold) {
1606:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		// Set threshold
1607:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		// wom_threshold = 0x0F;
1608:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_mems_write_reg(s, MPUREG_ACCEL_WOM_THR,   1, &wom_threshold);
1609:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_mems_write_reg(s, MPUREG_ACCEL_WOM_X_THR, 1, &wom_threshold);
1610:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_mems_write_reg(s, MPUREG_ACCEL_WOM_Y_THR, 1, &wom_threshold);
1611:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_mems_write_reg(s, MPUREG_ACCEL_WOM_Z_THR, 1, &wom_threshold);
1612:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1613:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		// Enable wake on motion interrupt on all 3 axes
1614:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_mems_read_reg(s, MPUREG_INT_ENABLE, 1, &data);
1615:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data |= 0xE0;
1616:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data &= ~BIT_DATA_RDY_INT_EN; // clear data ready interrupt
1617:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_mems_write_reg(s, MPUREG_INT_ENABLE, 1, &data);
1618:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1619:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		// Enable WOM logic and set WOM interrupt mode
1620:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		// bit 7: Enable the WOM logic
1621:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		// bit 6: 1: compare the current sample with the previous sample.
ARM GAS  /tmp/ccRGbSIg.s 			page 104


1622:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		//        0: initial sample is stored, all future samples are compared to the initial sample.
1623:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		// bit 0: 0 – Set WoM interrupt on OR of x,y or z axis interrupt
1624:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		//        1 – Set WoM interrupt on AND of x, y and z axes interrupts
1625:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_mems_read_reg(s, MPUREG_ACCEL_INTEL_CTRL, 1, &data);
1626:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data |= 0xC0; // Compare current sample with the previous sample.
1627:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		              // Set WoM interrupt on OR of xyz axes interrupt.
1628:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_mems_write_reg(s, MPUREG_ACCEL_INTEL_CTRL, 1, &data);
1629:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1630:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		// Wake up chip and set to LP mode
1631:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_mems_read_reg(s, MPUREG_PWR_MGMT_1, 1, &data);
1632:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data &= ~BIT_SLEEP; // Clear sleep bit
1633:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data |= BIT_CYCLE; // Enable accel cycling mode.
1634:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_1, 1, &data);
1635:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1636:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		// Enable accel
1637:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_mems_read_reg(s, MPUREG_PWR_MGMT_2, 1, &data);
1638:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data &= ~BIT_PWR_ACCEL_STBY; // Enable accel
1639:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data |= BIT_PWR_GYRO_STBY; // Disable gyro.
1640:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &data);
1641:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1642:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		s->wom_enabled = 1;
1643:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
1644:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	else {
1645:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		uint16_t resulting_divider = 0;
1646:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		uint16_t data_rdy_status = 0;
1647:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1648:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		// Disable wake on motion interrupt on all 3 axes
1649:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_mems_read_reg(s, MPUREG_INT_ENABLE, 1, &data);
1650:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data &= ~0xE0;
1651:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data |= BIT_DATA_RDY_INT_EN; // Set data ready interrupt
1652:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_mems_write_reg(s, MPUREG_INT_ENABLE, 1, &data);
1653:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1654:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		// Disable WOM logic and set WOM interrupt mode
1655:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_mems_read_reg(s, MPUREG_ACCEL_INTEL_CTRL, 1, &data);
1656:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data &= ~0x80; // Disable WoM logic
1657:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_mems_write_reg(s, MPUREG_ACCEL_INTEL_CTRL, 1, &data);
1658:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1659:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		// Disable accel
1660:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_mems_read_reg(s, MPUREG_PWR_MGMT_2, 1, &data);
1661:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data |= BIT_PWR_ACCEL_STBY; // Disable accel
1662:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &data);
1663:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1664:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		// Put chip to sleep
1665:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_mems_read_reg(s, MPUREG_PWR_MGMT_1, 1, &data);
1666:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data |= BIT_SLEEP; // Set sleep bit
1667:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_1, 1, &data);
1668:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		s->power_state = PowerStateSleepState;
1669:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1670:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		// Re-enable sensors with data ready interrupt configuration
1671:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		if (s->android_sensor_mask & INV_NEEDS_GYRO_MASK) 
1672:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			data_rdy_status |= GYRO_AVAILABLE;
1673:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		if (s->android_sensor_mask & INV_NEEDS_ACCEL_MASK)
1674:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			data_rdy_status |= ACCEL_AVAILABLE;
1675:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		if (s->android_sensor_mask & INV_NEEDS_COMPASS_MASK)
1676:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			data_rdy_status |= COMPASS_AVAILABLE;
1677:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		if (s->android_sensor_mask & INV_NEEDS_TEMP_MASK)
1678:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			data_rdy_status |= TEMP_AVAILABLE;
ARM GAS  /tmp/ccRGbSIg.s 			page 105


1679:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1680:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_disable_fifo(s);
1681:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= set_hw_smplrt_dmp_odrs(s, &resulting_divider);
1682:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_enable_mems(s, (int)data_rdy_status, resulting_divider);
1683:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		// need to reset and restart FIFO with data ready interrupt configuration
1684:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_enable_fifo(s, (int)data_rdy_status);
1685:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1686:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		s->wom_enabled = 0;
1687:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
1688:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1689:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	return result;
1690:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** }
1691:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1692:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1693:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** int inv_icm207xx_disable_fifo(struct inv_icm207xx * s)
1694:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** {
 3692              		.loc 1 1694 0
 3693              		.cfi_startproc
 3694              		@ args = 0, pretend = 0, frame = 8
 3695              		@ frame_needed = 0, uses_anonymous_args = 0
 3696              	.LVL601:
 3697 0000 30B5     		push	{r4, r5, lr}
 3698              	.LCFI45:
 3699              		.cfi_def_cfa_offset 12
 3700              		.cfi_offset 4, -12
 3701              		.cfi_offset 5, -8
 3702              		.cfi_offset 14, -4
 3703 0002 83B0     		sub	sp, sp, #12
 3704              	.LCFI46:
 3705              		.cfi_def_cfa_offset 24
 3706 0004 0546     		mov	r5, r0
 3707              	.LVL602:
1695:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if ((MEMS_CHIP == HW_ICM20602)||(MEMS_CHIP == HW_ICM20690)||(MEMS_CHIP == HW_ICM20603)||(MEMS_CHIP
1696:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	int result = 0;
1697:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	uint8_t reg;
1698:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1699:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	/* disable FIFO */
1700:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	result |= inv_icm207xx_mems_read_reg(s, MPUREG_USER_CTRL, 1, &reg);
 3708              		.loc 1 1700 0
 3709 0006 0DF10703 		add	r3, sp, #7
 3710 000a 0122     		movs	r2, #1
 3711 000c 6A21     		movs	r1, #106
 3712 000e FFF7FEFF 		bl	inv_icm207xx_mems_read_reg
 3713              	.LVL603:
 3714 0012 0446     		mov	r4, r0
 3715              	.LVL604:
1701:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	reg &= ~BIT_FIFO_EN;
 3716              		.loc 1 1701 0
 3717 0014 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 3718 0018 23F04003 		bic	r3, r3, #64
 3719 001c 8DF80730 		strb	r3, [sp, #7]
1702:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	result |= inv_icm207xx_mems_write_reg(s, MPUREG_USER_CTRL, 1, &reg);
 3720              		.loc 1 1702 0
 3721 0020 0DF10703 		add	r3, sp, #7
 3722 0024 0122     		movs	r2, #1
 3723 0026 6A21     		movs	r1, #106
 3724 0028 2846     		mov	r0, r5
ARM GAS  /tmp/ccRGbSIg.s 			page 106


 3725              	.LVL605:
 3726 002a FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 3727              	.LVL606:
 3728 002e 0443     		orrs	r4, r4, r0
 3729              	.LVL607:
1703:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1704:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	/* reset FIFO_EN as well */
1705:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	reg = 0;
 3730              		.loc 1 1705 0
 3731 0030 0023     		movs	r3, #0
 3732 0032 8DF80730 		strb	r3, [sp, #7]
1706:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	result |= inv_icm207xx_mems_write_reg(s, MPUREG_FIFO_EN, 1, &reg);
 3733              		.loc 1 1706 0
 3734 0036 0DF10703 		add	r3, sp, #7
 3735 003a 0122     		movs	r2, #1
 3736 003c 2321     		movs	r1, #35
 3737 003e 2846     		mov	r0, r5
 3738 0040 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 3739              	.LVL608:
1707:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1708:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	return result;
1709:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #else
1710:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	(void)s;
1711:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1712:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	return 0;
1713:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
1714:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** }
 3740              		.loc 1 1714 0
 3741 0044 2043     		orrs	r0, r0, r4
 3742              	.LVL609:
 3743 0046 03B0     		add	sp, sp, #12
 3744              	.LCFI47:
 3745              		.cfi_def_cfa_offset 12
 3746              		@ sp needed
 3747 0048 30BD     		pop	{r4, r5, pc}
 3748              		.cfi_endproc
 3749              	.LFE37:
 3751              		.section	.text.inv_icm207xx_enable_fifo,"ax",%progbits
 3752              		.align	1
 3753              		.global	inv_icm207xx_enable_fifo
 3754              		.syntax unified
 3755              		.thumb
 3756              		.thumb_func
 3757              		.fpu fpv4-sp-d16
 3759              	inv_icm207xx_enable_fifo:
 3760              	.LFB38:
1715:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1716:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** int inv_icm207xx_enable_fifo(struct inv_icm207xx * s, int bit_mask)
1717:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** {
 3761              		.loc 1 1717 0
 3762              		.cfi_startproc
 3763              		@ args = 0, pretend = 0, frame = 8
 3764              		@ frame_needed = 0, uses_anonymous_args = 0
 3765              	.LVL610:
 3766 0000 70B5     		push	{r4, r5, r6, lr}
 3767              	.LCFI48:
 3768              		.cfi_def_cfa_offset 16
ARM GAS  /tmp/ccRGbSIg.s 			page 107


 3769              		.cfi_offset 4, -16
 3770              		.cfi_offset 5, -12
 3771              		.cfi_offset 6, -8
 3772              		.cfi_offset 14, -4
 3773 0002 82B0     		sub	sp, sp, #8
 3774              	.LCFI49:
 3775              		.cfi_def_cfa_offset 24
 3776 0004 0546     		mov	r5, r0
 3777              	.LVL611:
1718:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if ((MEMS_CHIP == HW_ICM20602)||(MEMS_CHIP == HW_ICM20690)||(MEMS_CHIP == HW_ICM20603)||(MEMS_CHIP
1719:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	int result = 0;
1720:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	uint8_t reg;
1721:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	uint8_t user_ctrl;
1722:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1723:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	/* no need to enable FIFO as no data to push */
1724:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if (bit_mask == 0) {
 3778              		.loc 1 1724 0
 3779 0006 0C46     		mov	r4, r1
 3780 0008 0029     		cmp	r1, #0
 3781 000a 48D0     		beq	.L240
1725:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		inv_icm207xx_disable_fifo(s);
1726:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		return 0;
1727:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
1728:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1729:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	/* stop and reset FIFO */
1730:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	result |= inv_icm207xx_mems_read_reg(s, MPUREG_USER_CTRL, 1, &user_ctrl);
 3782              		.loc 1 1730 0
 3783 000c 0DF10603 		add	r3, sp, #6
 3784 0010 0122     		movs	r2, #1
 3785 0012 6A21     		movs	r1, #106
 3786              	.LVL612:
 3787 0014 FFF7FEFF 		bl	inv_icm207xx_mems_read_reg
 3788              	.LVL613:
 3789 0018 0646     		mov	r6, r0
 3790              	.LVL614:
1731:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	reg = user_ctrl | BIT_FIFO_RST;
 3791              		.loc 1 1731 0
 3792 001a 9DF80620 		ldrb	r2, [sp, #6]	@ zero_extendqisi2
 3793 001e 42F00402 		orr	r2, r2, #4
1732:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	reg &= ~BIT_FIFO_EN;
 3794              		.loc 1 1732 0
 3795 0022 22F04002 		bic	r2, r2, #64
 3796 0026 02AB     		add	r3, sp, #8
 3797 0028 03F8012D 		strb	r2, [r3, #-1]!
1733:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	result |= inv_icm207xx_mems_write_reg(s, MPUREG_USER_CTRL, 1, &reg);
 3798              		.loc 1 1733 0
 3799 002c 0122     		movs	r2, #1
 3800 002e 6A21     		movs	r1, #106
 3801 0030 2846     		mov	r0, r5
 3802              	.LVL615:
 3803 0032 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 3804              	.LVL616:
 3805 0036 0643     		orrs	r6, r6, r0
 3806              	.LVL617:
1734:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1735:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	/* push required sensor data to FIFO */
1736:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	reg = 0;
ARM GAS  /tmp/ccRGbSIg.s 			page 108


 3807              		.loc 1 1736 0
 3808 0038 0023     		movs	r3, #0
 3809 003a 8DF80730 		strb	r3, [sp, #7]
1737:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if ((MEMS_CHIP == HW_ICM207XX) || (MEMS_CHIP == HW_ICM20609))
1738:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if (bit_mask & GYRO_AVAILABLE)
 3810              		.loc 1 1738 0
 3811 003e 14F0010F 		tst	r4, #1
 3812 0042 02D0     		beq	.L236
1739:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		reg |= BIT_XGYRO_OUT|BIT_YGYRO_OUT|BIT_ZGYRO_OUT;
 3813              		.loc 1 1739 0
 3814 0044 7023     		movs	r3, #112
 3815 0046 8DF80730 		strb	r3, [sp, #7]
 3816              	.L236:
1740:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #else
1741:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if (bit_mask & GYRO_AVAILABLE)
1742:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		reg |= BIT_GYRO_OUT;
1743:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
1744:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if (bit_mask & ACCEL_AVAILABLE)
 3817              		.loc 1 1744 0
 3818 004a 14F0020F 		tst	r4, #2
 3819 004e 05D0     		beq	.L237
1745:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		reg |= BIT_ACCEL_OUT;
 3820              		.loc 1 1745 0
 3821 0050 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 3822 0054 43F00803 		orr	r3, r3, #8
 3823 0058 8DF80730 		strb	r3, [sp, #7]
 3824              	.L237:
1746:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if ((MEMS_CHIP == HW_ICM20690)||(MEMS_CHIP == HW_ICM207XX)||(MEMS_CHIP == HW_ICM20609))
1747:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if (bit_mask & TEMP_AVAILABLE)
 3825              		.loc 1 1747 0
 3826 005c 14F0200F 		tst	r4, #32
 3827 0060 05D0     		beq	.L238
1748:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		reg |= BIT_TEMP_OUT;
 3828              		.loc 1 1748 0
 3829 0062 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 3830 0066 63F07F03 		orn	r3, r3, #127
 3831 006a 8DF80730 		strb	r3, [sp, #7]
 3832              	.L238:
1749:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
1750:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if (MEMS_CHIP == HW_ICM20690)
1751:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if (bit_mask & COMPASS_AVAILABLE) {
1752:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		switch (s->secondary_state.compass_aux_ch) {
1753:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			case 0:
1754:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				reg |= BIT_SLV0_OUT;
1755:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				break;
1756:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			case 1:
1757:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				reg |= BIT_SLV1_OUT;
1758:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				break;
1759:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			case 2:
1760:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				reg |= BIT_SLV2_OUT;
1761:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				break;
1762:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			default:
1763:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				reg |= BIT_SLV0_OUT;
1764:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				break;
1765:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		}
1766:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
1767:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
ARM GAS  /tmp/ccRGbSIg.s 			page 109


1768:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1769:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	result |= inv_icm207xx_mems_write_reg(s, MPUREG_FIFO_EN, 1, &reg);
 3833              		.loc 1 1769 0
 3834 006e 0DF10703 		add	r3, sp, #7
 3835 0072 0122     		movs	r2, #1
 3836 0074 2321     		movs	r1, #35
 3837 0076 2846     		mov	r0, r5
 3838 0078 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 3839              	.LVL618:
 3840 007c 0643     		orrs	r6, r6, r0
 3841              	.LVL619:
1770:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1771:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	/* restart FIFO */
1772:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	reg = user_ctrl | BIT_FIFO_EN;
 3842              		.loc 1 1772 0
 3843 007e 9DF80630 		ldrb	r3, [sp, #6]	@ zero_extendqisi2
 3844 0082 43F04003 		orr	r3, r3, #64
 3845 0086 8DF80730 		strb	r3, [sp, #7]
1773:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	result |= inv_icm207xx_mems_write_reg(s, MPUREG_USER_CTRL, 1, &reg);
 3846              		.loc 1 1773 0
 3847 008a 0DF10703 		add	r3, sp, #7
 3848 008e 0122     		movs	r2, #1
 3849 0090 6A21     		movs	r1, #106
 3850 0092 2846     		mov	r0, r5
 3851 0094 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 3852              	.LVL620:
 3853 0098 3043     		orrs	r0, r0, r6
 3854              	.LVL621:
 3855              	.L233:
1774:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1775:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	return result;
1776:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #else
1777:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1778:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	(void)s, (void)bit_mask;
1779:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1780:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	return 0;
1781:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
1782:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** }
 3856              		.loc 1 1782 0
 3857 009a 02B0     		add	sp, sp, #8
 3858              	.LCFI50:
 3859              		.cfi_remember_state
 3860              		.cfi_def_cfa_offset 16
 3861              		@ sp needed
 3862 009c 70BD     		pop	{r4, r5, r6, pc}
 3863              	.LVL622:
 3864              	.L240:
 3865              	.LCFI51:
 3866              		.cfi_restore_state
1725:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		return 0;
 3867              		.loc 1 1725 0
 3868 009e FFF7FEFF 		bl	inv_icm207xx_disable_fifo
 3869              	.LVL623:
1726:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
 3870              		.loc 1 1726 0
 3871 00a2 2046     		mov	r0, r4
 3872 00a4 F9E7     		b	.L233
ARM GAS  /tmp/ccRGbSIg.s 			page 110


 3873              		.cfi_endproc
 3874              	.LFE38:
 3876              		.section	.text.inv_icm207xx_set_sensor_period,"ax",%progbits
 3877              		.align	1
 3878              		.global	inv_icm207xx_set_sensor_period
 3879              		.syntax unified
 3880              		.thumb
 3881              		.thumb_func
 3882              		.fpu fpv4-sp-d16
 3884              	inv_icm207xx_set_sensor_period:
 3885              	.LFB31:
1439:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	int result = 0;
 3886              		.loc 1 1439 0
 3887              		.cfi_startproc
 3888              		@ args = 0, pretend = 0, frame = 8
 3889              		@ frame_needed = 0, uses_anonymous_args = 0
 3890              	.LVL624:
 3891 0000 70B5     		push	{r4, r5, r6, lr}
 3892              	.LCFI52:
 3893              		.cfi_def_cfa_offset 16
 3894              		.cfi_offset 4, -16
 3895              		.cfi_offset 5, -12
 3896              		.cfi_offset 6, -8
 3897              		.cfi_offset 14, -4
 3898 0002 82B0     		sub	sp, sp, #8
 3899              	.LCFI53:
 3900              		.cfi_def_cfa_offset 24
 3901 0004 0546     		mov	r5, r0
 3902 0006 1446     		mov	r4, r2
 3903              	.LVL625:
1441:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	uint16_t data_rdy_status = 0;
 3904              		.loc 1 1441 0
 3905 0008 0023     		movs	r3, #0
 3906 000a ADF80630 		strh	r3, [sp, #6]	@ movhi
 3907              	.LVL626:
1444:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 3908              		.loc 1 1444 0
 3909 000e 0846     		mov	r0, r1
 3910              	.LVL627:
 3911 0010 FFF7FEFF 		bl	sensor_type_2_android_sensor
 3912              	.LVL628:
1446:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if(delayInMs > ODR_MAX_DELAY) delayInMs = ODR_MAX_DELAY;
 3913              		.loc 1 1446 0
 3914 0014 1CB1     		cbz	r4, .L252
 3915              	.LVL629:
1447:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 3916              		.loc 1 1447 0
 3917 0016 FA2C     		cmp	r4, #250
 3918 0018 02D9     		bls	.L242
 3919 001a FA24     		movs	r4, #250
 3920              	.LVL630:
 3921 001c 00E0     		b	.L242
 3922              	.LVL631:
 3923              	.L252:
1446:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if(delayInMs > ODR_MAX_DELAY) delayInMs = ODR_MAX_DELAY;
 3924              		.loc 1 1446 0
 3925 001e 0124     		movs	r4, #1
ARM GAS  /tmp/ccRGbSIg.s 			page 111


 3926              	.LVL632:
 3927              	.L242:
1449:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case ANDROID_SENSOR_ACCELEROMETER:
 3928              		.loc 1 1449 0
 3929 0020 0128     		cmp	r0, #1
 3930 0022 36D0     		beq	.L244
 3931 0024 90B3     		cbz	r0, .L245
 3932 0026 0228     		cmp	r0, #2
 3933 0028 36D0     		beq	.L246
 3934              	.L243:
1465:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	result |= set_hw_smplrt_dmp_odrs(s, &resulting_divider);
 3935              		.loc 1 1465 0
 3936 002a 2846     		mov	r0, r5
 3937              	.LVL633:
 3938 002c FFF7FEFF 		bl	inv_icm207xx_disable_fifo
 3939              	.LVL634:
 3940 0030 0646     		mov	r6, r0
 3941              	.LVL635:
1466:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 3942              		.loc 1 1466 0
 3943 0032 0DF10601 		add	r1, sp, #6
 3944 0036 2846     		mov	r0, r5
 3945              	.LVL636:
 3946 0038 FFF7FEFF 		bl	set_hw_smplrt_dmp_odrs
 3947              	.LVL637:
 3948 003c 0643     		orrs	r6, r6, r0
 3949              	.LVL638:
1468:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data_rdy_status |= GYRO_AVAILABLE;
 3950              		.loc 1 1468 0
 3951 003e 2B6D     		ldr	r3, [r5, #80]
 3952 0040 13F0020F 		tst	r3, #2
 3953 0044 2BD1     		bne	.L254
1442:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 3954              		.loc 1 1442 0
 3955 0046 0024     		movs	r4, #0
 3956              	.LVL639:
 3957              	.L247:
1470:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data_rdy_status |= ACCEL_AVAILABLE;
 3958              		.loc 1 1470 0
 3959 0048 13F0010F 		tst	r3, #1
 3960 004c 01D0     		beq	.L248
1471:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if (s->android_sensor_mask & INV_NEEDS_COMPASS_MASK)
 3961              		.loc 1 1471 0
 3962 004e 44F00204 		orr	r4, r4, #2
 3963              	.LVL640:
 3964              	.L248:
1472:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data_rdy_status |= COMPASS_AVAILABLE;
 3965              		.loc 1 1472 0
 3966 0052 13F0040F 		tst	r3, #4
 3967 0056 01D0     		beq	.L249
1473:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if (s->android_sensor_mask & INV_NEEDS_TEMP_MASK)
 3968              		.loc 1 1473 0
 3969 0058 44F04004 		orr	r4, r4, #64
 3970              	.LVL641:
 3971              	.L249:
1474:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data_rdy_status |= TEMP_AVAILABLE;
 3972              		.loc 1 1474 0
ARM GAS  /tmp/ccRGbSIg.s 			page 112


 3973 005c 13F0100F 		tst	r3, #16
 3974 0060 01D0     		beq	.L250
1475:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if (s->android_sensor_mask & INV_NEEDS_OIS_MASK)
 3975              		.loc 1 1475 0
 3976 0062 44F02004 		orr	r4, r4, #32
 3977              	.LVL642:
 3978              	.L250:
1476:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data_rdy_status |= (OIS_AVAILABLE | GYRO_AVAILABLE);
 3979              		.loc 1 1476 0
 3980 0066 13F0080F 		tst	r3, #8
 3981 006a 01D0     		beq	.L251
1477:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 3982              		.loc 1 1477 0
 3983 006c 44F00504 		orr	r4, r4, #5
 3984              	.LVL643:
 3985              	.L251:
1480:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 3986              		.loc 1 1480 0
 3987 0070 BDF80620 		ldrh	r2, [sp, #6]
 3988 0074 2146     		mov	r1, r4
 3989 0076 2846     		mov	r0, r5
 3990 0078 FFF7FEFF 		bl	inv_icm207xx_enable_mems
 3991              	.LVL644:
 3992 007c 0643     		orrs	r6, r6, r0
 3993              	.LVL645:
1483:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 3994              		.loc 1 1483 0
 3995 007e 2146     		mov	r1, r4
 3996 0080 2846     		mov	r0, r5
 3997 0082 FFF7FEFF 		bl	inv_icm207xx_enable_fifo
 3998              	.LVL646:
1486:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 3999              		.loc 1 1486 0
 4000 0086 3043     		orrs	r0, r0, r6
 4001              	.LVL647:
 4002 0088 02B0     		add	sp, sp, #8
 4003              	.LCFI54:
 4004              		.cfi_remember_state
 4005              		.cfi_def_cfa_offset 16
 4006              		@ sp needed
 4007 008a 70BD     		pop	{r4, r5, r6, pc}
 4008              	.LVL648:
 4009              	.L245:
 4010              	.LCFI55:
 4011              		.cfi_restore_state
1451:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		break;
 4012              		.loc 1 1451 0
 4013 008c A5F85440 		strh	r4, [r5, #84]	@ movhi
1452:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case ANDROID_SENSOR_GYROSCOPE:
 4014              		.loc 1 1452 0
 4015 0090 CBE7     		b	.L243
 4016              	.L244:
1454:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		break;
 4017              		.loc 1 1454 0
 4018 0092 A5F85640 		strh	r4, [r5, #86]	@ movhi
1455:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	case ANDROID_SENSOR_MAGNETOMETER:
 4019              		.loc 1 1455 0
ARM GAS  /tmp/ccRGbSIg.s 			page 113


 4020 0096 C8E7     		b	.L243
 4021              	.L246:
1457:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		break;
 4022              		.loc 1 1457 0
 4023 0098 A5F85840 		strh	r4, [r5, #88]	@ movhi
1458:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		// not support yet
 4024              		.loc 1 1458 0
 4025 009c C5E7     		b	.L243
 4026              	.LVL649:
 4027              	.L254:
1469:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if (s->android_sensor_mask & INV_NEEDS_ACCEL_MASK)
 4028              		.loc 1 1469 0
 4029 009e 0124     		movs	r4, #1
 4030              	.LVL650:
 4031 00a0 D2E7     		b	.L247
 4032              		.cfi_endproc
 4033              	.LFE31:
 4035              		.section	.text.inv_icm207xx_enable_sensor,"ax",%progbits
 4036              		.align	1
 4037              		.global	inv_icm207xx_enable_sensor
 4038              		.syntax unified
 4039              		.thumb
 4040              		.thumb_func
 4041              		.fpu fpv4-sp-d16
 4043              	inv_icm207xx_enable_sensor:
 4044              	.LFB35:
1547:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	int result = 0;
 4045              		.loc 1 1547 0
 4046              		.cfi_startproc
 4047              		@ args = 0, pretend = 0, frame = 8
 4048              		@ frame_needed = 0, uses_anonymous_args = 0
 4049              	.LVL651:
 4050 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 4051              	.LCFI56:
 4052              		.cfi_def_cfa_offset 24
 4053              		.cfi_offset 4, -24
 4054              		.cfi_offset 5, -20
 4055              		.cfi_offset 6, -16
 4056              		.cfi_offset 7, -12
 4057              		.cfi_offset 8, -8
 4058              		.cfi_offset 14, -4
 4059 0004 84B0     		sub	sp, sp, #16
 4060              	.LCFI57:
 4061              		.cfi_def_cfa_offset 40
 4062 0006 0446     		mov	r4, r0
 4063 0008 0F46     		mov	r7, r1
 4064 000a 9046     		mov	r8, r2
 4065              	.LVL652:
1550:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	uint16_t sensor_control = 0;
 4066              		.loc 1 1550 0
 4067 000c 0023     		movs	r3, #0
 4068 000e ADF80E30 		strh	r3, [sp, #14]	@ movhi
1551:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 4069              		.loc 1 1551 0
 4070 0012 04AD     		add	r5, sp, #16
 4071 0014 25F8043D 		strh	r3, [r5, #-4]!	@ movhi
1562:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
ARM GAS  /tmp/ccRGbSIg.s 			page 114


 4072              		.loc 1 1562 0
 4073 0018 0846     		mov	r0, r1
 4074              	.LVL653:
 4075 001a FFF7FEFF 		bl	sensor_type_2_android_sensor
 4076              	.LVL654:
1564:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			android_sensor_2_control_bits, &sensor_control);
 4077              		.loc 1 1564 0
 4078 001e 0095     		str	r5, [sp]
 4079 0020 2A4B     		ldr	r3, .L267
 4080 0022 4246     		mov	r2, r8
 4081 0024 0146     		mov	r1, r0
 4082 0026 2046     		mov	r0, r4
 4083              	.LVL655:
 4084 0028 FFF7FEFF 		bl	convert_android_sensor_to_control
 4085              	.LVL656:
1567:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data_rdy_status |= GYRO_AVAILABLE;
 4086              		.loc 1 1567 0
 4087 002c 236D     		ldr	r3, [r4, #80]
 4088 002e 13F0020F 		tst	r3, #2
 4089 0032 44D1     		bne	.L264
1549:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	uint16_t resulting_divider = 0;
 4090              		.loc 1 1549 0
 4091 0034 0026     		movs	r6, #0
 4092              	.L257:
 4093              	.LVL657:
1569:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data_rdy_status |= ACCEL_AVAILABLE;
 4094              		.loc 1 1569 0
 4095 0036 13F0010F 		tst	r3, #1
 4096 003a 01D0     		beq	.L258
1570:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if (s->android_sensor_mask & INV_NEEDS_COMPASS_MASK)
 4097              		.loc 1 1570 0
 4098 003c 46F00206 		orr	r6, r6, #2
 4099              	.LVL658:
 4100              	.L258:
1571:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data_rdy_status |= COMPASS_AVAILABLE;
 4101              		.loc 1 1571 0
 4102 0040 13F0040F 		tst	r3, #4
 4103 0044 01D0     		beq	.L259
1572:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if (s->android_sensor_mask & INV_NEEDS_TEMP_MASK)
 4104              		.loc 1 1572 0
 4105 0046 46F04006 		orr	r6, r6, #64
 4106              	.LVL659:
 4107              	.L259:
1573:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data_rdy_status |= TEMP_AVAILABLE;
 4108              		.loc 1 1573 0
 4109 004a 13F0100F 		tst	r3, #16
 4110 004e 01D0     		beq	.L260
1574:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if (s->android_sensor_mask & INV_NEEDS_OIS_MASK)
 4111              		.loc 1 1574 0
 4112 0050 46F02006 		orr	r6, r6, #32
 4113              	.LVL660:
 4114              	.L260:
1575:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data_rdy_status |= OIS_AVAILABLE;
 4115              		.loc 1 1575 0
 4116 0054 13F0080F 		tst	r3, #8
 4117 0058 01D0     		beq	.L261
1576:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if (s->android_sensor_mask & INV_NEEDS_FSYNC_MASK) {
ARM GAS  /tmp/ccRGbSIg.s 			page 115


 4118              		.loc 1 1576 0
 4119 005a 46F00406 		orr	r6, r6, #4
 4120              	.LVL661:
 4121              	.L261:
1577:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		inv_icm207xx_set_fsync_bit_location(s, enable);
 4122              		.loc 1 1577 0
 4123 005e 13F0200F 		tst	r3, #32
 4124 0062 2ED1     		bne	.L266
 4125              	.L262:
1582:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 4126              		.loc 1 1582 0
 4127 0064 3146     		mov	r1, r6
 4128 0066 2046     		mov	r0, r4
 4129 0068 FFF7FEFF 		bl	enable_interrupt
 4130              	.LVL662:
 4131 006c 0546     		mov	r5, r0
 4132              	.LVL663:
1585:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	result |= set_hw_smplrt_dmp_odrs(s, &resulting_divider);
 4133              		.loc 1 1585 0
 4134 006e 2046     		mov	r0, r4
 4135              	.LVL664:
 4136 0070 FFF7FEFF 		bl	inv_icm207xx_disable_fifo
 4137              	.LVL665:
 4138 0074 0543     		orrs	r5, r5, r0
 4139              	.LVL666:
1586:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	result |= inv_icm207xx_enable_mems(s, (int)data_rdy_status, resulting_divider);
 4140              		.loc 1 1586 0
 4141 0076 0DF10E01 		add	r1, sp, #14
 4142 007a 2046     		mov	r0, r4
 4143 007c FFF7FEFF 		bl	set_hw_smplrt_dmp_odrs
 4144              	.LVL667:
 4145 0080 0543     		orrs	r5, r5, r0
 4146              	.LVL668:
1587:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	// need to reset and restart FIFO with new configurations
 4147              		.loc 1 1587 0
 4148 0082 BDF80E20 		ldrh	r2, [sp, #14]
 4149 0086 3146     		mov	r1, r6
 4150 0088 2046     		mov	r0, r4
 4151 008a FFF7FEFF 		bl	inv_icm207xx_enable_mems
 4152              	.LVL669:
 4153 008e 0543     		orrs	r5, r5, r0
 4154              	.LVL670:
1589:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	// drop the first data in the FIFO
 4155              		.loc 1 1589 0
 4156 0090 3146     		mov	r1, r6
 4157 0092 2046     		mov	r0, r4
 4158 0094 FFF7FEFF 		bl	inv_icm207xx_enable_fifo
 4159              	.LVL671:
 4160 0098 2843     		orrs	r0, r0, r5
 4161              	.LVL672:
1591:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if(s->dropped_data[INV_ICM207XX_SENSOR_ACCEL] && s->dropped_data[INV_ICM207XX_SENSOR_GYRO]) {
 4162              		.loc 1 1591 0
 4163 009a 2744     		add	r7, r7, r4
 4164 009c 0123     		movs	r3, #1
 4165 009e 87F86030 		strb	r3, [r7, #96]
1592:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		s->dropped_data[INV_ICM207XX_SENSOR_ACCEL] = 2;
 4166              		.loc 1 1592 0
ARM GAS  /tmp/ccRGbSIg.s 			page 116


 4167 00a2 94F86030 		ldrb	r3, [r4, #96]	@ zero_extendqisi2
 4168 00a6 3BB1     		cbz	r3, .L256
1592:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		s->dropped_data[INV_ICM207XX_SENSOR_ACCEL] = 2;
 4169              		.loc 1 1592 0 is_stmt 0 discriminator 1
 4170 00a8 94F86130 		ldrb	r3, [r4, #97]	@ zero_extendqisi2
 4171 00ac 23B1     		cbz	r3, .L256
1593:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		s->dropped_data[INV_ICM207XX_SENSOR_GYRO] = 2;
 4172              		.loc 1 1593 0 is_stmt 1
 4173 00ae 0223     		movs	r3, #2
 4174 00b0 84F86030 		strb	r3, [r4, #96]
1594:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
 4175              		.loc 1 1594 0
 4176 00b4 84F86130 		strb	r3, [r4, #97]
 4177              	.L256:
1598:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 4178              		.loc 1 1598 0
 4179 00b8 04B0     		add	sp, sp, #16
 4180              	.LCFI58:
 4181              		.cfi_remember_state
 4182              		.cfi_def_cfa_offset 24
 4183              		@ sp needed
 4184 00ba BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 4185              	.LVL673:
 4186              	.L264:
 4187              	.LCFI59:
 4188              		.cfi_restore_state
1568:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if (s->android_sensor_mask & INV_NEEDS_ACCEL_MASK)
 4189              		.loc 1 1568 0
 4190 00be 0126     		movs	r6, #1
 4191 00c0 B9E7     		b	.L257
 4192              	.LVL674:
 4193              	.L266:
1578:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
 4194              		.loc 1 1578 0
 4195 00c2 4146     		mov	r1, r8
 4196 00c4 2046     		mov	r0, r4
 4197 00c6 FFF7FEFF 		bl	inv_icm207xx_set_fsync_bit_location
 4198              	.LVL675:
 4199 00ca CBE7     		b	.L262
 4200              	.L268:
 4201              		.align	2
 4202              	.L267:
 4203 00cc 00000000 		.word	.LANCHOR3
 4204              		.cfi_endproc
 4205              	.LFE35:
 4207              		.section	.text.inv_icm207xx_poll_fifo_data_setup,"ax",%progbits
 4208              		.align	1
 4209              		.global	inv_icm207xx_poll_fifo_data_setup
 4210              		.syntax unified
 4211              		.thumb
 4212              		.thumb_func
 4213              		.fpu fpv4-sp-d16
 4215              	inv_icm207xx_poll_fifo_data_setup:
 4216              	.LFB25:
 398:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if ((MEMS_CHIP == HW_ICM20602)||(MEMS_CHIP == HW_ICM20690)||(MEMS_CHIP == HW_ICM20603)||(MEMS_CHIP
 4217              		.loc 1 398 0
 4218              		.cfi_startproc
ARM GAS  /tmp/ccRGbSIg.s 			page 117


 4219              		@ args = 0, pretend = 0, frame = 8
 4220              		@ frame_needed = 0, uses_anonymous_args = 0
 4221              	.LVL676:
 4222 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 4223              	.LCFI60:
 4224              		.cfi_def_cfa_offset 20
 4225              		.cfi_offset 4, -20
 4226              		.cfi_offset 5, -16
 4227              		.cfi_offset 6, -12
 4228              		.cfi_offset 7, -8
 4229              		.cfi_offset 14, -4
 4230 0002 83B0     		sub	sp, sp, #12
 4231              	.LCFI61:
 4232              		.cfi_def_cfa_offset 32
 4233 0004 0746     		mov	r7, r0
 4234 0006 0C46     		mov	r4, r1
 4235 0008 1546     		mov	r5, r2
 403:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	states->overflow       = 0;
 4236              		.loc 1 403 0
 4237 000a 0021     		movs	r1, #0
 4238              	.LVL677:
 4239 000c 6180     		strh	r1, [r4, #2]	@ movhi
 404:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	states->packet_count_i = 0;
 4240              		.loc 1 404 0
 4241 000e 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 4242 0010 61F30003 		bfi	r3, r1, #0, #1
 4243 0014 2370     		strb	r3, [r4]
 405:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	states->packet_count   = 0;
 4244              		.loc 1 405 0
 4245 0016 A180     		strh	r1, [r4, #4]	@ movhi
 406:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	states->packet_size    = 0;
 4246              		.loc 1 406 0
 4247 0018 E180     		strh	r1, [r4, #6]	@ movhi
 407:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 4248              		.loc 1 407 0
 4249 001a 2181     		strh	r1, [r4, #8]	@ movhi
 409:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		states->sensor_on_mask |= (1 << INV_ICM207XX_SENSOR_ACCEL);
 4250              		.loc 1 409 0
 4251 001c FFF7FEFF 		bl	inv_icm207xx_is_sensor_enabled
 4252              	.LVL678:
 4253 0020 18B1     		cbz	r0, .L270
 410:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		states->packet_size += ACCEL_DATA_SIZE;
 4254              		.loc 1 410 0
 4255 0022 0123     		movs	r3, #1
 4256 0024 6380     		strh	r3, [r4, #2]	@ movhi
 411:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
 4257              		.loc 1 411 0
 4258 0026 0623     		movs	r3, #6
 4259 0028 2381     		strh	r3, [r4, #8]	@ movhi
 4260              	.L270:
 414:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		states->sensor_on_mask |= (1 << INV_ICM207XX_SENSOR_GYRO);
 4261              		.loc 1 414 0
 4262 002a 0121     		movs	r1, #1
 4263 002c 3846     		mov	r0, r7
 4264 002e FFF7FEFF 		bl	inv_icm207xx_is_sensor_enabled
 4265              	.LVL679:
 4266 0032 30B1     		cbz	r0, .L271
ARM GAS  /tmp/ccRGbSIg.s 			page 118


 415:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		states->packet_size += GYRO_DATA_SIZE;
 4267              		.loc 1 415 0
 4268 0034 6388     		ldrh	r3, [r4, #2]
 4269 0036 43F00203 		orr	r3, r3, #2
 4270 003a 6380     		strh	r3, [r4, #2]	@ movhi
 416:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
 4271              		.loc 1 416 0
 4272 003c 2389     		ldrh	r3, [r4, #8]
 4273 003e 0633     		adds	r3, r3, #6
 4274 0040 2381     		strh	r3, [r4, #8]	@ movhi
 4275              	.L271:
 430:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		states->sensor_on_mask |= (1 << INV_ICM207XX_SENSOR_TEMPERATURE);
 4276              		.loc 1 430 0
 4277 0042 0521     		movs	r1, #5
 4278 0044 3846     		mov	r0, r7
 4279 0046 FFF7FEFF 		bl	inv_icm207xx_is_sensor_enabled
 4280              	.LVL680:
 4281 004a 30B1     		cbz	r0, .L272
 431:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		states->packet_size += TEMP_DATA_SIZE;
 4282              		.loc 1 431 0
 4283 004c 6388     		ldrh	r3, [r4, #2]
 4284 004e 43F02003 		orr	r3, r3, #32
 4285 0052 6380     		strh	r3, [r4, #2]	@ movhi
 432:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
 4286              		.loc 1 432 0
 4287 0054 2389     		ldrh	r3, [r4, #8]
 4288 0056 0233     		adds	r3, r3, #2
 4289 0058 2381     		strh	r3, [r4, #8]	@ movhi
 4290              	.L272:
 442:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		uint16_t i, sensor_on_mask = states->sensor_on_mask;
 4291              		.loc 1 442 0
 4292 005a 15F0100F 		tst	r5, #16
 4293 005e 1DD0     		beq	.L273
 4294              	.LBB13:
 443:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		states->overflow = 1;
 4295              		.loc 1 443 0
 4296 0060 6588     		ldrh	r5, [r4, #2]
 4297              	.LVL681:
 444:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		/* restart all sensors active sensor */
 4298              		.loc 1 444 0
 4299 0062 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 4300 0064 43F00103 		orr	r3, r3, #1
 4301 0068 2370     		strb	r3, [r4]
 4302              	.LVL682:
 446:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			if(sensor_on_mask & 1) {
 4303              		.loc 1 446 0
 4304 006a 0024     		movs	r4, #0
 4305              	.LVL683:
 4306 006c 02E0     		b	.L274
 4307              	.LVL684:
 4308              	.L275:
 451:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		}
 4309              		.loc 1 451 0 discriminator 2
 4310 006e 6D08     		lsrs	r5, r5, #1
 4311              	.LVL685:
 446:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			if(sensor_on_mask & 1) {
 4312              		.loc 1 446 0 discriminator 2
ARM GAS  /tmp/ccRGbSIg.s 			page 119


 4313 0070 0134     		adds	r4, r4, #1
 4314              	.LVL686:
 4315 0072 A4B2     		uxth	r4, r4
 4316              	.LVL687:
 4317              	.L274:
 446:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			if(sensor_on_mask & 1) {
 4318              		.loc 1 446 0 is_stmt 0 discriminator 1
 4319 0074 75B1     		cbz	r5, .L279
 447:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				inv_icm207xx_enable_sensor(s, (enum inv_icm207xx_sensor)i, 0);
 4320              		.loc 1 447 0 is_stmt 1
 4321 0076 15F0010F 		tst	r5, #1
 4322 007a F8D0     		beq	.L275
 448:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				inv_icm207xx_enable_sensor(s, (enum inv_icm207xx_sensor)i, 1);
 4323              		.loc 1 448 0
 4324 007c E6B2     		uxtb	r6, r4
 4325 007e 0022     		movs	r2, #0
 4326 0080 3146     		mov	r1, r6
 4327 0082 3846     		mov	r0, r7
 4328 0084 FFF7FEFF 		bl	inv_icm207xx_enable_sensor
 4329              	.LVL688:
 449:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			}
 4330              		.loc 1 449 0
 4331 0088 0122     		movs	r2, #1
 4332 008a 3146     		mov	r1, r6
 4333 008c 3846     		mov	r0, r7
 4334 008e FFF7FEFF 		bl	inv_icm207xx_enable_sensor
 4335              	.LVL689:
 4336 0092 ECE7     		b	.L275
 4337              	.L279:
 454:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
 4338              		.loc 1 454 0
 4339 0094 0123     		movs	r3, #1
 4340              	.LVL690:
 4341              	.L269:
 4342              	.LBE13:
 480:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 4343              		.loc 1 480 0
 4344 0096 1846     		mov	r0, r3
 4345 0098 03B0     		add	sp, sp, #12
 4346              	.LCFI62:
 4347              		.cfi_remember_state
 4348              		.cfi_def_cfa_offset 20
 4349              		@ sp needed
 4350 009a F0BD     		pop	{r4, r5, r6, r7, pc}
 4351              	.LVL691:
 4352              	.L273:
 4353              	.LCFI63:
 4354              		.cfi_restore_state
 457:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		return rc;
 4355              		.loc 1 457 0
 4356 009c 0223     		movs	r3, #2
 4357 009e 01AA     		add	r2, sp, #4
 4358 00a0 7221     		movs	r1, #114
 4359 00a2 3846     		mov	r0, r7
 4360 00a4 FFF7FEFF 		bl	inv_icm207xx_read_reg
 4361              	.LVL692:
 4362 00a8 0346     		mov	r3, r0
ARM GAS  /tmp/ccRGbSIg.s 			page 120


 4363 00aa 0028     		cmp	r0, #0
 4364 00ac F3D1     		bne	.L269
 460:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 4365              		.loc 1 460 0
 4366 00ae 9DF80410 		ldrb	r1, [sp, #4]	@ zero_extendqisi2
 4367 00b2 9DF80520 		ldrb	r2, [sp, #5]	@ zero_extendqisi2
 4368 00b6 42EA0122 		orr	r2, r2, r1, lsl #8
 4369 00ba E280     		strh	r2, [r4, #6]	@ movhi
 462:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #else
 4370              		.loc 1 462 0
 4371 00bc EBE7     		b	.L269
 4372              		.cfi_endproc
 4373              	.LFE25:
 4375              		.section	.text.inv_icm207xx_configure_accel_wom,"ax",%progbits
 4376              		.align	1
 4377              		.global	inv_icm207xx_configure_accel_wom
 4378              		.syntax unified
 4379              		.thumb
 4380              		.thumb_func
 4381              		.fpu fpv4-sp-d16
 4383              	inv_icm207xx_configure_accel_wom:
 4384              	.LFB36:
1601:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	int result = 0;
 4385              		.loc 1 1601 0
 4386              		.cfi_startproc
 4387              		@ args = 0, pretend = 0, frame = 16
 4388              		@ frame_needed = 0, uses_anonymous_args = 0
 4389              	.LVL693:
 4390 0000 70B5     		push	{r4, r5, r6, lr}
 4391              	.LCFI64:
 4392              		.cfi_def_cfa_offset 16
 4393              		.cfi_offset 4, -16
 4394              		.cfi_offset 5, -12
 4395              		.cfi_offset 6, -8
 4396              		.cfi_offset 14, -4
 4397 0002 84B0     		sub	sp, sp, #16
 4398              	.LCFI65:
 4399              		.cfi_def_cfa_offset 32
 4400 0004 0546     		mov	r5, r0
 4401 0006 8DF80710 		strb	r1, [sp, #7]
 4402              	.LVL694:
1605:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		// Set threshold
 4403              		.loc 1 1605 0
 4404 000a 0029     		cmp	r1, #0
 4405 000c 40F08C80 		bne	.L289
 4406              	.LBB14:
1645:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		uint16_t data_rdy_status = 0;
 4407              		.loc 1 1645 0
 4408 0010 0026     		movs	r6, #0
 4409 0012 ADF80C60 		strh	r6, [sp, #12]	@ movhi
 4410              	.LVL695:
1649:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data &= ~0xE0;
 4411              		.loc 1 1649 0
 4412 0016 0DF10F03 		add	r3, sp, #15
 4413 001a 0122     		movs	r2, #1
 4414 001c 3821     		movs	r1, #56
 4415              	.LVL696:
ARM GAS  /tmp/ccRGbSIg.s 			page 121


 4416 001e FFF7FEFF 		bl	inv_icm207xx_mems_read_reg
 4417              	.LVL697:
 4418 0022 0446     		mov	r4, r0
 4419              	.LVL698:
1650:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data |= BIT_DATA_RDY_INT_EN; // Set data ready interrupt
 4420              		.loc 1 1650 0
 4421 0024 9DF80F30 		ldrb	r3, [sp, #15]	@ zero_extendqisi2
 4422 0028 03F01F03 		and	r3, r3, #31
1651:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_mems_write_reg(s, MPUREG_INT_ENABLE, 1, &data);
 4423              		.loc 1 1651 0
 4424 002c 43F00103 		orr	r3, r3, #1
 4425 0030 8DF80F30 		strb	r3, [sp, #15]
1652:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 4426              		.loc 1 1652 0
 4427 0034 0DF10F03 		add	r3, sp, #15
 4428 0038 0122     		movs	r2, #1
 4429 003a 3821     		movs	r1, #56
 4430 003c 2846     		mov	r0, r5
 4431              	.LVL699:
 4432 003e FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 4433              	.LVL700:
 4434 0042 0443     		orrs	r4, r4, r0
 4435              	.LVL701:
1655:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data &= ~0x80; // Disable WoM logic
 4436              		.loc 1 1655 0
 4437 0044 0DF10F03 		add	r3, sp, #15
 4438 0048 0122     		movs	r2, #1
 4439 004a 6921     		movs	r1, #105
 4440 004c 2846     		mov	r0, r5
 4441 004e FFF7FEFF 		bl	inv_icm207xx_mems_read_reg
 4442              	.LVL702:
 4443 0052 0443     		orrs	r4, r4, r0
 4444              	.LVL703:
1656:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_mems_write_reg(s, MPUREG_ACCEL_INTEL_CTRL, 1, &data);
 4445              		.loc 1 1656 0
 4446 0054 9DF80F30 		ldrb	r3, [sp, #15]	@ zero_extendqisi2
 4447 0058 03F07F03 		and	r3, r3, #127
 4448 005c 8DF80F30 		strb	r3, [sp, #15]
1657:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 4449              		.loc 1 1657 0
 4450 0060 0DF10F03 		add	r3, sp, #15
 4451 0064 0122     		movs	r2, #1
 4452 0066 6921     		movs	r1, #105
 4453 0068 2846     		mov	r0, r5
 4454 006a FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 4455              	.LVL704:
 4456 006e 0443     		orrs	r4, r4, r0
 4457              	.LVL705:
1660:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data |= BIT_PWR_ACCEL_STBY; // Disable accel
 4458              		.loc 1 1660 0
 4459 0070 0DF10F03 		add	r3, sp, #15
 4460 0074 0122     		movs	r2, #1
 4461 0076 6C21     		movs	r1, #108
 4462 0078 2846     		mov	r0, r5
 4463 007a FFF7FEFF 		bl	inv_icm207xx_mems_read_reg
 4464              	.LVL706:
 4465 007e 0443     		orrs	r4, r4, r0
ARM GAS  /tmp/ccRGbSIg.s 			page 122


 4466              	.LVL707:
1661:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &data);
 4467              		.loc 1 1661 0
 4468 0080 9DF80F30 		ldrb	r3, [sp, #15]	@ zero_extendqisi2
 4469 0084 43F03803 		orr	r3, r3, #56
 4470 0088 8DF80F30 		strb	r3, [sp, #15]
1662:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 4471              		.loc 1 1662 0
 4472 008c 0DF10F03 		add	r3, sp, #15
 4473 0090 0122     		movs	r2, #1
 4474 0092 6C21     		movs	r1, #108
 4475 0094 2846     		mov	r0, r5
 4476 0096 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 4477              	.LVL708:
 4478 009a 0443     		orrs	r4, r4, r0
 4479              	.LVL709:
1665:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data |= BIT_SLEEP; // Set sleep bit
 4480              		.loc 1 1665 0
 4481 009c 0DF10F03 		add	r3, sp, #15
 4482 00a0 0122     		movs	r2, #1
 4483 00a2 6B21     		movs	r1, #107
 4484 00a4 2846     		mov	r0, r5
 4485 00a6 FFF7FEFF 		bl	inv_icm207xx_mems_read_reg
 4486              	.LVL710:
 4487 00aa 0443     		orrs	r4, r4, r0
 4488              	.LVL711:
1666:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_1, 1, &data);
 4489              		.loc 1 1666 0
 4490 00ac 9DF80F30 		ldrb	r3, [sp, #15]	@ zero_extendqisi2
 4491 00b0 43F04003 		orr	r3, r3, #64
 4492 00b4 8DF80F30 		strb	r3, [sp, #15]
1667:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		s->power_state = PowerStateSleepState;
 4493              		.loc 1 1667 0
 4494 00b8 0DF10F03 		add	r3, sp, #15
 4495 00bc 0122     		movs	r2, #1
 4496 00be 6B21     		movs	r1, #107
 4497 00c0 2846     		mov	r0, r5
 4498 00c2 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 4499              	.LVL712:
 4500 00c6 0443     		orrs	r4, r4, r0
 4501              	.LVL713:
1668:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 4502              		.loc 1 1668 0
 4503 00c8 85F84E60 		strb	r6, [r5, #78]
1671:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			data_rdy_status |= GYRO_AVAILABLE;
 4504              		.loc 1 1671 0
 4505 00cc 2B6D     		ldr	r3, [r5, #80]
 4506 00ce 13F0020F 		tst	r3, #2
 4507 00d2 00D0     		beq	.L283
1672:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		if (s->android_sensor_mask & INV_NEEDS_ACCEL_MASK)
 4508              		.loc 1 1672 0
 4509 00d4 0126     		movs	r6, #1
 4510              	.L283:
 4511              	.LVL714:
1673:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			data_rdy_status |= ACCEL_AVAILABLE;
 4512              		.loc 1 1673 0
 4513 00d6 13F0010F 		tst	r3, #1
ARM GAS  /tmp/ccRGbSIg.s 			page 123


 4514 00da 01D0     		beq	.L284
1674:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		if (s->android_sensor_mask & INV_NEEDS_COMPASS_MASK)
 4515              		.loc 1 1674 0
 4516 00dc 46F00206 		orr	r6, r6, #2
 4517              	.LVL715:
 4518              	.L284:
1675:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			data_rdy_status |= COMPASS_AVAILABLE;
 4519              		.loc 1 1675 0
 4520 00e0 13F0040F 		tst	r3, #4
 4521 00e4 01D0     		beq	.L285
1676:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		if (s->android_sensor_mask & INV_NEEDS_TEMP_MASK)
 4522              		.loc 1 1676 0
 4523 00e6 46F04006 		orr	r6, r6, #64
 4524              	.LVL716:
 4525              	.L285:
1677:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			data_rdy_status |= TEMP_AVAILABLE;
 4526              		.loc 1 1677 0
 4527 00ea 13F0100F 		tst	r3, #16
 4528 00ee 01D0     		beq	.L286
1678:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 4529              		.loc 1 1678 0
 4530 00f0 46F02006 		orr	r6, r6, #32
 4531              	.LVL717:
 4532              	.L286:
1680:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= set_hw_smplrt_dmp_odrs(s, &resulting_divider);
 4533              		.loc 1 1680 0
 4534 00f4 2846     		mov	r0, r5
 4535 00f6 FFF7FEFF 		bl	inv_icm207xx_disable_fifo
 4536              	.LVL718:
 4537 00fa 0443     		orrs	r4, r4, r0
 4538              	.LVL719:
1681:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_enable_mems(s, (int)data_rdy_status, resulting_divider);
 4539              		.loc 1 1681 0
 4540 00fc 03A9     		add	r1, sp, #12
 4541 00fe 2846     		mov	r0, r5
 4542 0100 FFF7FEFF 		bl	set_hw_smplrt_dmp_odrs
 4543              	.LVL720:
 4544 0104 0443     		orrs	r4, r4, r0
 4545              	.LVL721:
1682:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		// need to reset and restart FIFO with data ready interrupt configuration
 4546              		.loc 1 1682 0
 4547 0106 BDF80C20 		ldrh	r2, [sp, #12]
 4548 010a 3146     		mov	r1, r6
 4549 010c 2846     		mov	r0, r5
 4550 010e FFF7FEFF 		bl	inv_icm207xx_enable_mems
 4551              	.LVL722:
 4552 0112 0443     		orrs	r4, r4, r0
 4553              	.LVL723:
1684:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 4554              		.loc 1 1684 0
 4555 0114 3146     		mov	r1, r6
 4556 0116 2846     		mov	r0, r5
 4557 0118 FFF7FEFF 		bl	inv_icm207xx_enable_fifo
 4558              	.LVL724:
 4559 011c 2043     		orrs	r0, r0, r4
 4560              	.LVL725:
1686:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
ARM GAS  /tmp/ccRGbSIg.s 			page 124


 4561              		.loc 1 1686 0
 4562 011e 0023     		movs	r3, #0
 4563 0120 85F86730 		strb	r3, [r5, #103]
 4564              	.LVL726:
 4565              	.L280:
 4566              	.LBE14:
1690:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 4567              		.loc 1 1690 0
 4568 0124 04B0     		add	sp, sp, #16
 4569              	.LCFI66:
 4570              		.cfi_remember_state
 4571              		.cfi_def_cfa_offset 16
 4572              		@ sp needed
 4573 0126 70BD     		pop	{r4, r5, r6, pc}
 4574              	.LVL727:
 4575              	.L289:
 4576              	.LCFI67:
 4577              		.cfi_restore_state
1608:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_mems_write_reg(s, MPUREG_ACCEL_WOM_X_THR, 1, &wom_threshold);
 4578              		.loc 1 1608 0
 4579 0128 0DF10703 		add	r3, sp, #7
 4580 012c 0122     		movs	r2, #1
 4581 012e 1F21     		movs	r1, #31
 4582              	.LVL728:
 4583 0130 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 4584              	.LVL729:
 4585 0134 0446     		mov	r4, r0
 4586              	.LVL730:
1609:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_mems_write_reg(s, MPUREG_ACCEL_WOM_Y_THR, 1, &wom_threshold);
 4587              		.loc 1 1609 0
 4588 0136 0DF10703 		add	r3, sp, #7
 4589 013a 0122     		movs	r2, #1
 4590 013c 2021     		movs	r1, #32
 4591 013e 2846     		mov	r0, r5
 4592              	.LVL731:
 4593 0140 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 4594              	.LVL732:
 4595 0144 0443     		orrs	r4, r4, r0
 4596              	.LVL733:
1610:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_mems_write_reg(s, MPUREG_ACCEL_WOM_Z_THR, 1, &wom_threshold);
 4597              		.loc 1 1610 0
 4598 0146 0DF10703 		add	r3, sp, #7
 4599 014a 0122     		movs	r2, #1
 4600 014c 2121     		movs	r1, #33
 4601 014e 2846     		mov	r0, r5
 4602 0150 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 4603              	.LVL734:
 4604 0154 0443     		orrs	r4, r4, r0
 4605              	.LVL735:
1611:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 4606              		.loc 1 1611 0
 4607 0156 0DF10703 		add	r3, sp, #7
 4608 015a 0122     		movs	r2, #1
 4609 015c 2221     		movs	r1, #34
 4610 015e 2846     		mov	r0, r5
 4611 0160 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 4612              	.LVL736:
ARM GAS  /tmp/ccRGbSIg.s 			page 125


 4613 0164 0443     		orrs	r4, r4, r0
 4614              	.LVL737:
1614:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data |= 0xE0;
 4615              		.loc 1 1614 0
 4616 0166 0DF10F03 		add	r3, sp, #15
 4617 016a 0122     		movs	r2, #1
 4618 016c 3821     		movs	r1, #56
 4619 016e 2846     		mov	r0, r5
 4620 0170 FFF7FEFF 		bl	inv_icm207xx_mems_read_reg
 4621              	.LVL738:
 4622 0174 0443     		orrs	r4, r4, r0
 4623              	.LVL739:
1615:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data &= ~BIT_DATA_RDY_INT_EN; // clear data ready interrupt
 4624              		.loc 1 1615 0
 4625 0176 9DF80F30 		ldrb	r3, [sp, #15]	@ zero_extendqisi2
 4626 017a 43F0E003 		orr	r3, r3, #224
1616:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_mems_write_reg(s, MPUREG_INT_ENABLE, 1, &data);
 4627              		.loc 1 1616 0
 4628 017e 23F00103 		bic	r3, r3, #1
 4629 0182 8DF80F30 		strb	r3, [sp, #15]
1617:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 4630              		.loc 1 1617 0
 4631 0186 0DF10F03 		add	r3, sp, #15
 4632 018a 0122     		movs	r2, #1
 4633 018c 3821     		movs	r1, #56
 4634 018e 2846     		mov	r0, r5
 4635 0190 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 4636              	.LVL740:
 4637 0194 0443     		orrs	r4, r4, r0
 4638              	.LVL741:
1625:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data |= 0xC0; // Compare current sample with the previous sample.
 4639              		.loc 1 1625 0
 4640 0196 0DF10F03 		add	r3, sp, #15
 4641 019a 0122     		movs	r2, #1
 4642 019c 6921     		movs	r1, #105
 4643 019e 2846     		mov	r0, r5
 4644 01a0 FFF7FEFF 		bl	inv_icm207xx_mems_read_reg
 4645              	.LVL742:
 4646 01a4 0443     		orrs	r4, r4, r0
 4647              	.LVL743:
1626:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		              // Set WoM interrupt on OR of xyz axes interrupt.
 4648              		.loc 1 1626 0
 4649 01a6 9DF80F30 		ldrb	r3, [sp, #15]	@ zero_extendqisi2
 4650 01aa 63F03F03 		orn	r3, r3, #63
 4651 01ae 8DF80F30 		strb	r3, [sp, #15]
1628:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 4652              		.loc 1 1628 0
 4653 01b2 0DF10F03 		add	r3, sp, #15
 4654 01b6 0122     		movs	r2, #1
 4655 01b8 6921     		movs	r1, #105
 4656 01ba 2846     		mov	r0, r5
 4657 01bc FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 4658              	.LVL744:
 4659 01c0 0443     		orrs	r4, r4, r0
 4660              	.LVL745:
1631:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data &= ~BIT_SLEEP; // Clear sleep bit
 4661              		.loc 1 1631 0
ARM GAS  /tmp/ccRGbSIg.s 			page 126


 4662 01c2 0DF10F03 		add	r3, sp, #15
 4663 01c6 0122     		movs	r2, #1
 4664 01c8 6B21     		movs	r1, #107
 4665 01ca 2846     		mov	r0, r5
 4666 01cc FFF7FEFF 		bl	inv_icm207xx_mems_read_reg
 4667              	.LVL746:
 4668 01d0 0443     		orrs	r4, r4, r0
 4669              	.LVL747:
1632:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data |= BIT_CYCLE; // Enable accel cycling mode.
 4670              		.loc 1 1632 0
 4671 01d2 9DF80F30 		ldrb	r3, [sp, #15]	@ zero_extendqisi2
 4672 01d6 03F0BF03 		and	r3, r3, #191
1633:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_1, 1, &data);
 4673              		.loc 1 1633 0
 4674 01da 43F02003 		orr	r3, r3, #32
 4675 01de 8DF80F30 		strb	r3, [sp, #15]
1634:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 4676              		.loc 1 1634 0
 4677 01e2 0DF10F03 		add	r3, sp, #15
 4678 01e6 0122     		movs	r2, #1
 4679 01e8 6B21     		movs	r1, #107
 4680 01ea 2846     		mov	r0, r5
 4681 01ec FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 4682              	.LVL748:
 4683 01f0 0443     		orrs	r4, r4, r0
 4684              	.LVL749:
1637:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data &= ~BIT_PWR_ACCEL_STBY; // Enable accel
 4685              		.loc 1 1637 0
 4686 01f2 0DF10F03 		add	r3, sp, #15
 4687 01f6 0122     		movs	r2, #1
 4688 01f8 6C21     		movs	r1, #108
 4689 01fa 2846     		mov	r0, r5
 4690 01fc FFF7FEFF 		bl	inv_icm207xx_mems_read_reg
 4691              	.LVL750:
 4692 0200 0443     		orrs	r4, r4, r0
 4693              	.LVL751:
1638:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		data |= BIT_PWR_GYRO_STBY; // Disable gyro.
 4694              		.loc 1 1638 0
 4695 0202 9DF80F30 		ldrb	r3, [sp, #15]	@ zero_extendqisi2
 4696 0206 03F0C703 		and	r3, r3, #199
1639:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		result |= inv_icm207xx_mems_write_reg(s, MPUREG_PWR_MGMT_2, 1, &data);
 4697              		.loc 1 1639 0
 4698 020a 43F00703 		orr	r3, r3, #7
 4699 020e 8DF80F30 		strb	r3, [sp, #15]
1640:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 4700              		.loc 1 1640 0
 4701 0212 0DF10F03 		add	r3, sp, #15
 4702 0216 0122     		movs	r2, #1
 4703 0218 6C21     		movs	r1, #108
 4704 021a 2846     		mov	r0, r5
 4705 021c FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 4706              	.LVL752:
 4707 0220 2043     		orrs	r0, r0, r4
 4708              	.LVL753:
1642:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
 4709              		.loc 1 1642 0
 4710 0222 0123     		movs	r3, #1
ARM GAS  /tmp/ccRGbSIg.s 			page 127


 4711 0224 85F86730 		strb	r3, [r5, #103]
 4712 0228 7CE7     		b	.L280
 4713              		.cfi_endproc
 4714              	.LFE36:
 4716              		.section	.text.inv_icm207xx_reset_fifo,"ax",%progbits
 4717              		.align	1
 4718              		.global	inv_icm207xx_reset_fifo
 4719              		.syntax unified
 4720              		.thumb
 4721              		.thumb_func
 4722              		.fpu fpv4-sp-d16
 4724              	inv_icm207xx_reset_fifo:
 4725              	.LFB39:
1783:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1784:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** int inv_icm207xx_reset_fifo(struct inv_icm207xx * s)
1785:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** {
 4726              		.loc 1 1785 0
 4727              		.cfi_startproc
 4728              		@ args = 0, pretend = 0, frame = 8
 4729              		@ frame_needed = 0, uses_anonymous_args = 0
 4730              	.LVL754:
 4731 0000 30B5     		push	{r4, r5, lr}
 4732              	.LCFI68:
 4733              		.cfi_def_cfa_offset 12
 4734              		.cfi_offset 4, -12
 4735              		.cfi_offset 5, -8
 4736              		.cfi_offset 14, -4
 4737 0002 83B0     		sub	sp, sp, #12
 4738              	.LCFI69:
 4739              		.cfi_def_cfa_offset 24
 4740 0004 0546     		mov	r5, r0
 4741              	.LVL755:
1786:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if ((MEMS_CHIP == HW_ICM20602)||(MEMS_CHIP == HW_ICM20690)||(MEMS_CHIP == HW_ICM20603)||(MEMS_CHIP
1787:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	int result = 0;
1788:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	uint8_t reg;
1789:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1790:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	result |= inv_icm207xx_mems_read_reg(s, MPUREG_USER_CTRL, 1, &reg);
 4742              		.loc 1 1790 0
 4743 0006 0DF10703 		add	r3, sp, #7
 4744 000a 0122     		movs	r2, #1
 4745 000c 6A21     		movs	r1, #106
 4746 000e FFF7FEFF 		bl	inv_icm207xx_mems_read_reg
 4747              	.LVL756:
 4748 0012 0446     		mov	r4, r0
 4749              	.LVL757:
1791:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	reg |= BIT_FIFO_RST;
 4750              		.loc 1 1791 0
 4751 0014 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 4752 0018 43F00403 		orr	r3, r3, #4
 4753 001c 8DF80730 		strb	r3, [sp, #7]
1792:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	result |= inv_icm207xx_mems_write_reg(s, MPUREG_USER_CTRL, 1, &reg);
 4754              		.loc 1 1792 0
 4755 0020 0DF10703 		add	r3, sp, #7
 4756 0024 0122     		movs	r2, #1
 4757 0026 6A21     		movs	r1, #106
 4758 0028 2846     		mov	r0, r5
 4759              	.LVL758:
ARM GAS  /tmp/ccRGbSIg.s 			page 128


 4760 002a FFF7FEFF 		bl	inv_icm207xx_mems_write_reg
 4761              	.LVL759:
1793:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1794:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	return result;
1795:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #else
1796:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	(void)s;
1797:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1798:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	return 0;
1799:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
1800:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** }
 4762              		.loc 1 1800 0
 4763 002e 2043     		orrs	r0, r0, r4
 4764              	.LVL760:
 4765 0030 03B0     		add	sp, sp, #12
 4766              	.LCFI70:
 4767              		.cfi_def_cfa_offset 12
 4768              		@ sp needed
 4769 0032 30BD     		pop	{r4, r5, pc}
 4770              		.cfi_endproc
 4771              	.LFE39:
 4773              		.section	.text.inv_icm207xx_poll_fifo_data,"ax",%progbits
 4774              		.align	1
 4775              		.global	inv_icm207xx_poll_fifo_data
 4776              		.syntax unified
 4777              		.thumb
 4778              		.thumb_func
 4779              		.fpu fpv4-sp-d16
 4781              	inv_icm207xx_poll_fifo_data:
 4782              	.LFB26:
 486:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if ((MEMS_CHIP == HW_ICM20602)||(MEMS_CHIP == HW_ICM20690)||(MEMS_CHIP == HW_ICM20603)||(MEMS_CHIP
 4783              		.loc 1 486 0
 4784              		.cfi_startproc
 4785              		@ args = 8, pretend = 0, frame = 24
 4786              		@ frame_needed = 0, uses_anonymous_args = 0
 4787              	.LVL761:
 4788 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 4789              	.LCFI71:
 4790              		.cfi_def_cfa_offset 24
 4791              		.cfi_offset 4, -24
 4792              		.cfi_offset 5, -20
 4793              		.cfi_offset 6, -16
 4794              		.cfi_offset 7, -12
 4795              		.cfi_offset 8, -8
 4796              		.cfi_offset 14, -4
 4797 0004 86B0     		sub	sp, sp, #24
 4798              	.LCFI72:
 4799              		.cfi_def_cfa_offset 48
 488:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		static int repeated_mems_data = 0;
 4800              		.loc 1 488 0
 4801 0006 8E88     		ldrh	r6, [r1, #4]
 4802 0008 CC88     		ldrh	r4, [r1, #6]
 4803 000a A642     		cmp	r6, r4
 4804 000c 04D3     		bcc	.L308
 595:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
 4805              		.loc 1 595 0
 4806 000e 0026     		movs	r6, #0
 4807              	.LVL762:
ARM GAS  /tmp/ccRGbSIg.s 			page 129


 4808              	.L292:
 609:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 4809              		.loc 1 609 0
 4810 0010 3046     		mov	r0, r6
 4811 0012 06B0     		add	sp, sp, #24
 4812              	.LCFI73:
 4813              		.cfi_remember_state
 4814              		.cfi_def_cfa_offset 24
 4815              		@ sp needed
 4816 0014 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 4817              	.LVL763:
 4818              	.L308:
 4819              	.LCFI74:
 4820              		.cfi_restore_state
 4821 0018 9846     		mov	r8, r3
 4822 001a 1746     		mov	r7, r2
 4823 001c 0C46     		mov	r4, r1
 4824 001e 0546     		mov	r5, r0
 4825              	.LVL764:
 4826              	.LBB15:
 501:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			/* sensor data is in FIFO according to FIFO_COUNT but failed to read FIFO,
 4827              		.loc 1 501 0
 4828 0020 0B89     		ldrh	r3, [r1, #8]
 4829              	.LVL765:
 4830 0022 6A46     		mov	r2, sp
 4831              	.LVL766:
 4832 0024 7421     		movs	r1, #116
 4833              	.LVL767:
 4834 0026 FFF7FEFF 		bl	inv_icm207xx_read_reg
 4835              	.LVL768:
 4836 002a 0646     		mov	r6, r0
 4837 002c 18BB     		cbnz	r0, .L309
 508:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			if(!s->dropped_data[INV_ICM207XX_SENSOR_ACCEL]) {
 4838              		.loc 1 508 0
 4839 002e 6388     		ldrh	r3, [r4, #2]
 4840 0030 13F0010F 		tst	r3, #1
 4841 0034 28D0     		beq	.L305
 509:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				if(!repeated_mems_data) {
 4842              		.loc 1 509 0
 4843 0036 95F86030 		ldrb	r3, [r5, #96]	@ zero_extendqisi2
 4844 003a 03BB     		cbnz	r3, .L297
 510:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 					/* raw sensor data output is in big endian */
 4845              		.loc 1 510 0
 4846 003c 474B     		ldr	r3, .L310
 4847 003e 1B68     		ldr	r3, [r3]
 4848 0040 002B     		cmp	r3, #0
 4849 0042 74D1     		bne	.L306
 512:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 					acc_data[1] = (data[2] << 8) | data[3];
 4850              		.loc 1 512 0
 4851 0044 9DF80020 		ldrb	r2, [sp]	@ zero_extendqisi2
 4852 0048 9DF80130 		ldrb	r3, [sp, #1]	@ zero_extendqisi2
 4853 004c 43EA0223 		orr	r3, r3, r2, lsl #8
 4854 0050 3B80     		strh	r3, [r7]	@ movhi
 513:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 					acc_data[2] = (data[4] << 8) | data[5];
 4855              		.loc 1 513 0
 4856 0052 9DF80220 		ldrb	r2, [sp, #2]	@ zero_extendqisi2
 4857 0056 9DF80330 		ldrb	r3, [sp, #3]	@ zero_extendqisi2
ARM GAS  /tmp/ccRGbSIg.s 			page 130


 4858 005a 43EA0223 		orr	r3, r3, r2, lsl #8
 4859 005e 7B80     		strh	r3, [r7, #2]	@ movhi
 514:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 4860              		.loc 1 514 0
 4861 0060 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
 4862 0064 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 4863 0068 43EA0223 		orr	r3, r3, r2, lsl #8
 4864 006c BB80     		strh	r3, [r7, #4]	@ movhi
 516:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				}
 4865              		.loc 1 516 0
 4866 006e 40F00106 		orr	r6, r0, #1
 4867              	.LVL769:
 522:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		}
 4868              		.loc 1 522 0
 4869 0072 0623     		movs	r3, #6
 4870 0074 09E0     		b	.L296
 4871              	.LVL770:
 4872              	.L309:
 504:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			return rc;
 4873              		.loc 1 504 0
 4874 0076 2846     		mov	r0, r5
 4875              	.LVL771:
 4876 0078 FFF7FEFF 		bl	inv_icm207xx_reset_fifo
 4877              	.LVL772:
 505:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		}
 4878              		.loc 1 505 0
 4879 007c C8E7     		b	.L292
 4880              	.LVL773:
 4881              	.L297:
 520:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 4882              		.loc 1 520 0
 4883 007e 013B     		subs	r3, r3, #1
 4884 0080 85F86030 		strb	r3, [r5, #96]
 522:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		}
 4885              		.loc 1 522 0
 4886 0084 0623     		movs	r3, #6
 4887 0086 00E0     		b	.L296
 4888              	.L305:
 492:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if (MEMS_CHIP == HW_ICM20690)
 4889              		.loc 1 492 0
 4890 0088 0023     		movs	r3, #0
 4891              	.LVL774:
 4892              	.L296:
 542:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			if(!repeated_mems_data) {
 4893              		.loc 1 542 0
 4894 008a 6288     		ldrh	r2, [r4, #2]
 4895 008c 12F0200F 		tst	r2, #32
 4896 0090 17D0     		beq	.L298
 543:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				if(!s->dropped_data[INV_ICM207XX_SENSOR_TEMPERATURE]) {
 4897              		.loc 1 543 0
 4898 0092 324A     		ldr	r2, .L310
 4899 0094 1268     		ldr	r2, [r2]
 4900 0096 92B9     		cbnz	r2, .L299
 544:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 					/* raw sensor data output is in big endian */
 4901              		.loc 1 544 0
 4902 0098 95F86520 		ldrb	r2, [r5, #101]	@ zero_extendqisi2
 4903 009c 002A     		cmp	r2, #0
ARM GAS  /tmp/ccRGbSIg.s 			page 131


 4904 009e 48D1     		bne	.L300
 546:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 4905              		.loc 1 546 0
 4906 00a0 06AA     		add	r2, sp, #24
 4907 00a2 1A44     		add	r2, r2, r3
 4908 00a4 12F8180C 		ldrb	r0, [r2, #-24]	@ zero_extendqisi2
 4909 00a8 591C     		adds	r1, r3, #1
 4910 00aa 06AA     		add	r2, sp, #24
 4911 00ac 1144     		add	r1, r1, r2
 4912 00ae 11F8182C 		ldrb	r2, [r1, #-24]	@ zero_extendqisi2
 4913 00b2 42EA0022 		orr	r2, r2, r0, lsl #8
 4914 00b6 A8F80020 		strh	r2, [r8]	@ movhi
 548:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				} else {
 4915              		.loc 1 548 0
 4916 00ba 46F02006 		orr	r6, r6, #32
 4917              	.LVL775:
 4918              	.L299:
 553:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		}
 4919              		.loc 1 553 0
 4920 00be 0233     		adds	r3, r3, #2
 4921              	.LVL776:
 4922 00c0 DBB2     		uxtb	r3, r3
 4923              	.LVL777:
 4924              	.L298:
 557:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			if(!s->dropped_data[INV_ICM207XX_SENSOR_GYRO]) {
 4925              		.loc 1 557 0
 4926 00c2 6288     		ldrh	r2, [r4, #2]
 4927 00c4 12F0020F 		tst	r2, #2
 4928 00c8 3AD0     		beq	.L301
 558:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				if(!repeated_mems_data) {
 4929              		.loc 1 558 0
 4930 00ca 95F86120 		ldrb	r2, [r5, #97]	@ zero_extendqisi2
 4931 00ce 002A     		cmp	r2, #0
 4932 00d0 33D1     		bne	.L302
 559:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 					gyro_data[0] = (data[0+idx] << 8) | data[1+idx];
 4933              		.loc 1 559 0
 4934 00d2 224A     		ldr	r2, .L310
 4935 00d4 1268     		ldr	r2, [r2]
 4936 00d6 9ABB     		cbnz	r2, .L301
 560:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 					gyro_data[1] = (data[2+idx] << 8) | data[3+idx];
 4937              		.loc 1 560 0
 4938 00d8 06AA     		add	r2, sp, #24
 4939 00da 1A44     		add	r2, r2, r3
 4940 00dc 12F8180C 		ldrb	r0, [r2, #-24]	@ zero_extendqisi2
 4941 00e0 591C     		adds	r1, r3, #1
 4942 00e2 06AA     		add	r2, sp, #24
 4943 00e4 1144     		add	r1, r1, r2
 4944 00e6 11F8182C 		ldrb	r2, [r1, #-24]	@ zero_extendqisi2
 4945 00ea 42EA0022 		orr	r2, r2, r0, lsl #8
 4946 00ee 0C99     		ldr	r1, [sp, #48]
 4947 00f0 0A80     		strh	r2, [r1]	@ movhi
 561:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 					gyro_data[2] = (data[4+idx] << 8) | data[5+idx];
 4948              		.loc 1 561 0
 4949 00f2 9A1C     		adds	r2, r3, #2
 4950 00f4 06A9     		add	r1, sp, #24
 4951 00f6 0A44     		add	r2, r2, r1
 4952 00f8 12F8180C 		ldrb	r0, [r2, #-24]	@ zero_extendqisi2
ARM GAS  /tmp/ccRGbSIg.s 			page 132


 4953 00fc D91C     		adds	r1, r3, #3
 4954 00fe 06AA     		add	r2, sp, #24
 4955 0100 1144     		add	r1, r1, r2
 4956 0102 11F8182C 		ldrb	r2, [r1, #-24]	@ zero_extendqisi2
 4957 0106 42EA0022 		orr	r2, r2, r0, lsl #8
 4958 010a 0C99     		ldr	r1, [sp, #48]
 4959 010c 4A80     		strh	r2, [r1, #2]	@ movhi
 562:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 4960              		.loc 1 562 0
 4961 010e 1A1D     		adds	r2, r3, #4
 4962 0110 06A9     		add	r1, sp, #24
 4963 0112 0A44     		add	r2, r2, r1
 4964 0114 12F8182C 		ldrb	r2, [r2, #-24]	@ zero_extendqisi2
 4965 0118 0533     		adds	r3, r3, #5
 4966 011a 0B44     		add	r3, r3, r1
 4967 011c 13F8183C 		ldrb	r3, [r3, #-24]	@ zero_extendqisi2
 4968 0120 43EA0223 		orr	r3, r3, r2, lsl #8
 4969 0124 0C9A     		ldr	r2, [sp, #48]
 4970 0126 9380     		strh	r3, [r2, #4]	@ movhi
 564:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				}
 4971              		.loc 1 564 0
 4972 0128 46F00206 		orr	r6, r6, #2
 4973              	.LVL778:
 4974 012c 08E0     		b	.L301
 4975              	.LVL779:
 4976              	.L306:
 522:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		}
 4977              		.loc 1 522 0
 4978 012e 0623     		movs	r3, #6
 4979 0130 ABE7     		b	.L296
 4980              	.LVL780:
 4981              	.L300:
 550:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 				}
 4982              		.loc 1 550 0
 4983 0132 013A     		subs	r2, r2, #1
 4984 0134 85F86520 		strb	r2, [r5, #101]
 4985 0138 C1E7     		b	.L299
 4986              	.L302:
 568:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 4987              		.loc 1 568 0
 4988 013a 013A     		subs	r2, r2, #1
 4989 013c 85F86120 		strb	r2, [r5, #97]
 4990              	.L301:
 589:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		states->packet_count_i += 1;
 4991              		.loc 1 589 0
 4992 0140 0649     		ldr	r1, .L310
 4993 0142 0B68     		ldr	r3, [r1]
 4994 0144 0133     		adds	r3, r3, #1
 4995 0146 95F84C00 		ldrb	r0, [r5, #76]	@ zero_extendqisi2
 4996 014a 93FBF0F2 		sdiv	r2, r3, r0
 4997 014e 00FB1233 		mls	r3, r0, r2, r3
 4998 0152 0B60     		str	r3, [r1]
 590:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
 4999              		.loc 1 590 0
 5000 0154 A388     		ldrh	r3, [r4, #4]
 5001 0156 0133     		adds	r3, r3, #1
 5002 0158 A380     		strh	r3, [r4, #4]	@ movhi
ARM GAS  /tmp/ccRGbSIg.s 			page 133


 592:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
 5003              		.loc 1 592 0
 5004 015a 59E7     		b	.L292
 5005              	.L311:
 5006              		.align	2
 5007              	.L310:
 5008 015c 00000000 		.word	.LANCHOR4
 5009              	.LBE15:
 5010              		.cfi_endproc
 5011              	.LFE26:
 5013              		.section	.text.inv_icm207xx_set_slave_compass_id,"ax",%progbits
 5014              		.align	1
 5015              		.global	inv_icm207xx_set_slave_compass_id
 5016              		.syntax unified
 5017              		.thumb
 5018              		.thumb_func
 5019              		.fpu fpv4-sp-d16
 5021              	inv_icm207xx_set_slave_compass_id:
 5022              	.LFB40:
1801:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1802:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** int inv_icm207xx_set_slave_compass_id(struct inv_icm207xx * s)
1803:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** {
 5023              		.loc 1 1803 0
 5024              		.cfi_startproc
 5025              		@ args = 0, pretend = 0, frame = 0
 5026              		@ frame_needed = 0, uses_anonymous_args = 0
 5027              		@ link register save eliminated.
 5028              	.LVL781:
1804:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	int result = 0;
1805:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1806:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if (MEMS_CHIP == HW_ICM20690)
1807:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	/* initialize aux i2c */
1808:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	inv_icm207xx_init_secondary(s);
1809:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	/* initialize akm compass */
1810:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	result |= inv_icm207xx_setup_compass_akm(s);
1811:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #else
1812:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	(void)s;
1813:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
1814:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1815:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	return result;
1816:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** }
 5029              		.loc 1 1816 0
 5030 0000 0020     		movs	r0, #0
 5031              	.LVL782:
 5032 0002 7047     		bx	lr
 5033              		.cfi_endproc
 5034              	.LFE40:
 5036              		.section	.text.inv_icm207xx_poll_ois_gyro_data,"ax",%progbits
 5037              		.align	1
 5038              		.global	inv_icm207xx_poll_ois_gyro_data
 5039              		.syntax unified
 5040              		.thumb
 5041              		.thumb_func
 5042              		.fpu fpv4-sp-d16
 5044              	inv_icm207xx_poll_ois_gyro_data:
 5045              	.LFB41:
1817:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
ARM GAS  /tmp/ccRGbSIg.s 			page 134


1818:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** // only read gyro data for now
1819:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** int inv_icm207xx_poll_ois_gyro_data(struct inv_icm207xx * s, int16_t gyro_data[3])
1820:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** {
 5046              		.loc 1 1820 0
 5047              		.cfi_startproc
 5048              		@ args = 0, pretend = 0, frame = 0
 5049              		@ frame_needed = 0, uses_anonymous_args = 0
 5050              		@ link register save eliminated.
 5051              	.LVL783:
1821:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if (MEMS_CHIP == HW_ICM20690)
1822:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	uint8_t data[6];
1823:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	int rc = 0;
1824:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1825:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if ((s->android_sensor_mask & INV_NEEDS_OIS_MASK && s->use_serif_ois))
1826:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	{
1827:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		if(inv_icm207xx_read_reg_ois(s, 8, data, 6)==0) {
1828:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			/* raw sensor data output is in big endian */
1829:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			gyro_data[0] = (data[0] << 8) | data[1];
1830:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			gyro_data[1] = (data[2] << 8) | data[3];
1831:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			gyro_data[2] = (data[4] << 8) | data[5];
1832:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1833:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			rc |= (1 << INV_ICM207XX_SENSOR_OIS);
1834:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		}
1835:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
1836:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	return rc;
1837:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #else
1838:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	(void)s, (void)gyro_data;
1839:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	return 0;
1840:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
1841:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** }
 5052              		.loc 1 1841 0
 5053 0000 0020     		movs	r0, #0
 5054              	.LVL784:
 5055 0002 7047     		bx	lr
 5056              		.cfi_endproc
 5057              	.LFE41:
 5059              		.section	.text.inv_icm207xx_poll_delay_count,"ax",%progbits
 5060              		.align	1
 5061              		.global	inv_icm207xx_poll_delay_count
 5062              		.syntax unified
 5063              		.thumb
 5064              		.thumb_func
 5065              		.fpu fpv4-sp-d16
 5067              	inv_icm207xx_poll_delay_count:
 5068              	.LFB42:
1842:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1843:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** int inv_icm207xx_poll_delay_count(struct inv_icm207xx * s, int16_t * delay_count)
1844:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** {
 5069              		.loc 1 1844 0
 5070              		.cfi_startproc
 5071              		@ args = 0, pretend = 0, frame = 0
 5072              		@ frame_needed = 0, uses_anonymous_args = 0
 5073              		@ link register save eliminated.
 5074              	.LVL785:
1845:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #if (MEMS_CHIP == HW_ICM20690)
1846:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	uint8_t data[2];
1847:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	int rc = 0;
ARM GAS  /tmp/ccRGbSIg.s 			page 135


1848:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if (inv_icm207xx_read_reg(s, MPUREG_TEMP_XOUT_L, data, 1) == 0) {
1849:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		if (data[0] & 0x1 /* keep the eis flag (bit 0) */) {
1850:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1851:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			rc |= inv_icm207xx_read_reg(s, MPUREG_ODR_DLY_CNT_HI, data, 2);
1852:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			*delay_count = (data[0] << 8) | data[1];
1853:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1854:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 			rc |= (1 << INV_ICM207XX_SENSOR_FSYNC_EVENT);
1855:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		}
1856:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	}
1857:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	
1858:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	return rc;
1859:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #else
1860:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	(void)s, 
 5075              		.loc 1 1860 0
 5076 0000 0023     		movs	r3, #0
 5077 0002 0B80     		strh	r3, [r1]	@ movhi
1861:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	*delay_count = 0;
1862:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1863:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	return INV_ERROR_NIMPL;
1864:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** #endif
1865:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** }
 5078              		.loc 1 1865 0
 5079 0004 6FF00100 		mvn	r0, #1
 5080              	.LVL786:
 5081 0008 7047     		bx	lr
 5082              		.cfi_endproc
 5083              	.LFE42:
 5085              		.section	.text.inv_icm207xx_all_sensors_off,"ax",%progbits
 5086              		.align	1
 5087              		.global	inv_icm207xx_all_sensors_off
 5088              		.syntax unified
 5089              		.thumb
 5090              		.thumb_func
 5091              		.fpu fpv4-sp-d16
 5093              	inv_icm207xx_all_sensors_off:
 5094              	.LFB43:
1866:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 
1867:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** // get if all sensors are off
1868:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** int inv_icm207xx_all_sensors_off(struct inv_icm207xx * s)
1869:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** {
 5095              		.loc 1 1869 0
 5096              		.cfi_startproc
 5097              		@ args = 0, pretend = 0, frame = 0
 5098              		@ frame_needed = 0, uses_anonymous_args = 0
 5099              		@ link register save eliminated.
 5100              	.LVL787:
1870:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	if( (s->android_sensor_mask == 0) && (s->wom_enabled == 0) )
 5101              		.loc 1 1870 0
 5102 0000 036D     		ldr	r3, [r0, #80]
 5103 0002 23B9     		cbnz	r3, .L317
 5104              		.loc 1 1870 0 is_stmt 0 discriminator 1
 5105 0004 90F86730 		ldrb	r3, [r0, #103]	@ zero_extendqisi2
 5106 0008 1BB1     		cbz	r3, .L318
1871:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		return 1;
1872:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 	return 0;
 5107              		.loc 1 1872 0 is_stmt 1
 5108 000a 0020     		movs	r0, #0
ARM GAS  /tmp/ccRGbSIg.s 			page 136


 5109              	.LVL788:
 5110 000c 7047     		bx	lr
 5111              	.LVL789:
 5112              	.L317:
 5113 000e 0020     		movs	r0, #0
 5114              	.LVL790:
 5115 0010 7047     		bx	lr
 5116              	.LVL791:
 5117              	.L318:
1871:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** 		return 1;
 5118              		.loc 1 1871 0
 5119 0012 0120     		movs	r0, #1
 5120              	.LVL792:
1873:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.c **** }
 5121              		.loc 1 1873 0
 5122 0014 7047     		bx	lr
 5123              		.cfi_endproc
 5124              	.LFE43:
 5126              		.section	.bss.repeated_mems_data.6471,"aw",%nobits
 5127              		.align	2
 5128              		.set	.LANCHOR4,. + 0
 5131              	repeated_mems_data.6471:
 5132 0000 00000000 		.space	4
 5133              		.section	.rodata.MinDelayGenAccelList,"a",%progbits
 5134              		.align	2
 5135              		.set	.LANCHOR0,. + 0
 5138              	MinDelayGenAccelList:
 5139 0000 0000     		.space	2
 5140              		.section	.rodata.MinDelayGenCompassList,"a",%progbits
 5141              		.align	2
 5142              		.set	.LANCHOR2,. + 0
 5145              	MinDelayGenCompassList:
 5146 0000 02       		.byte	2
 5147 0001 02       		.byte	2
 5148              		.section	.rodata.MinDelayGenGyroList,"a",%progbits
 5149              		.align	2
 5150              		.set	.LANCHOR1,. + 0
 5153              	MinDelayGenGyroList:
 5154 0000 01       		.byte	1
 5155 0001 01       		.byte	1
 5156              		.section	.rodata.android_sensor_2_control_bits.6629,"a",%progbits
 5157              		.align	2
 5158              		.set	.LANCHOR3,. + 0
 5161              	android_sensor_2_control_bits.6629:
 5162 0000 0880     		.short	-32760
 5163 0002 4800     		.short	72
 5164 0004 4800     		.short	72
 5165 0006 0880     		.short	-32760
 5166 0008 4800     		.short	72
 5167 000a 0000     		.space	2
 5168              		.text
 5169              	.Letext0:
 5170              		.file 3 "/mnt/NData/Softwares/gcc-arm-none-eabi-7-2018-q2-update/arm-none-eabi/include/machine/_de
 5171              		.file 4 "/mnt/NData/Softwares/gcc-arm-none-eabi-7-2018-q2-update/arm-none-eabi/include/sys/_stdint
 5172              		.file 5 "Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.h"
 5173              		.file 6 "Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxDefs.h"
 5174              		.file 7 "Drivers/Invn/InvBool.h"
ARM GAS  /tmp/ccRGbSIg.s 			page 137


 5175              		.file 8 "Drivers/Invn/InvError.h"
 5176              		.file 9 "Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSerif.h"
 5177              		.file 10 "/mnt/NData/Softwares/gcc-arm-none-eabi-7-2018-q2-update/arm-none-eabi/include/sys/lock.h
 5178              		.file 11 "/mnt/NData/Softwares/gcc-arm-none-eabi-7-2018-q2-update/arm-none-eabi/include/sys/_types
 5179              		.file 12 "/mnt/NData/Softwares/gcc-arm-none-eabi-7-2018-q2-update/lib/gcc/arm-none-eabi/7.3.1/incl
 5180              		.file 13 "/mnt/NData/Softwares/gcc-arm-none-eabi-7-2018-q2-update/arm-none-eabi/include/sys/reent.
 5181              		.file 14 "Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xx.h"
 5182              		.file 15 "Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSetup.h"
ARM GAS  /tmp/ccRGbSIg.s 			page 138


DEFINED SYMBOLS
                            *ABS*:0000000000000000 Icm207xxCtrl.c
     /tmp/ccRGbSIg.s:18     .text.sensor_type_2_android_sensor:0000000000000000 $t
     /tmp/ccRGbSIg.s:24     .text.sensor_type_2_android_sensor:0000000000000000 sensor_type_2_android_sensor
     /tmp/ccRGbSIg.s:38     .text.sensor_type_2_android_sensor:0000000000000008 $d
     /tmp/ccRGbSIg.s:44     .text.sensor_type_2_android_sensor:000000000000000e $t
     /tmp/ccRGbSIg.s:91     .text.is_android_sensor_enabled:0000000000000000 $t
     /tmp/ccRGbSIg.s:97     .text.is_android_sensor_enabled:0000000000000000 is_android_sensor_enabled
     /tmp/ccRGbSIg.s:119    .text.MinDelayGenActual:0000000000000000 $t
     /tmp/ccRGbSIg.s:125    .text.MinDelayGenActual:0000000000000000 MinDelayGenActual
     /tmp/ccRGbSIg.s:191    .text.regenerate_sensor_control:0000000000000000 $t
     /tmp/ccRGbSIg.s:197    .text.regenerate_sensor_control:0000000000000000 regenerate_sensor_control
     /tmp/ccRGbSIg.s:261    .text.convert_android_sensor_to_control:0000000000000000 $t
     /tmp/ccRGbSIg.s:267    .text.convert_android_sensor_to_control:0000000000000000 convert_android_sensor_to_control
     /tmp/ccRGbSIg.s:341    .text.apply_gyr_bias:0000000000000000 $t
     /tmp/ccRGbSIg.s:347    .text.apply_gyr_bias:0000000000000000 apply_gyr_bias
     /tmp/ccRGbSIg.s:503    .text.apply_accel_fsr:0000000000000000 $t
     /tmp/ccRGbSIg.s:509    .text.apply_accel_fsr:0000000000000000 apply_accel_fsr
     /tmp/ccRGbSIg.s:562    .text.apply_accel_bias:0000000000000000 $t
     /tmp/ccRGbSIg.s:568    .text.apply_accel_bias:0000000000000000 apply_accel_bias
     /tmp/ccRGbSIg.s:890    .text.enable_interrupt:0000000000000000 $t
     /tmp/ccRGbSIg.s:896    .text.enable_interrupt:0000000000000000 enable_interrupt
     /tmp/ccRGbSIg.s:961    .text.apply_accel_bw:0000000000000000 $t
     /tmp/ccRGbSIg.s:967    .text.apply_accel_bw:0000000000000000 apply_accel_bw
     /tmp/ccRGbSIg.s:1084   .text.apply_gyr_fsr_bw:0000000000000000 $t
     /tmp/ccRGbSIg.s:1090   .text.apply_gyr_fsr_bw:0000000000000000 apply_gyr_fsr_bw
     /tmp/ccRGbSIg.s:1263   .text.SampleRateDividerGet:0000000000000000 $t
     /tmp/ccRGbSIg.s:1269   .text.SampleRateDividerGet:0000000000000000 SampleRateDividerGet
     /tmp/ccRGbSIg.s:1296   .text.SampleRateDividerGet:000000000000001c $d
     /tmp/ccRGbSIg.s:1301   .text.set_hw_smplrt_dmp_odrs:0000000000000000 $t
     /tmp/ccRGbSIg.s:1307   .text.set_hw_smplrt_dmp_odrs:0000000000000000 set_hw_smplrt_dmp_odrs
     /tmp/ccRGbSIg.s:1547   .text.set_hw_smplrt_dmp_odrs:0000000000000150 $d
     /tmp/ccRGbSIg.s:1554   .text.inv_icm207xx_has_data_ready:0000000000000000 $t
     /tmp/ccRGbSIg.s:1561   .text.inv_icm207xx_has_data_ready:0000000000000000 inv_icm207xx_has_data_ready
     /tmp/ccRGbSIg.s:1614   .text.inv_icm207xx_get_int_status:0000000000000000 $t
     /tmp/ccRGbSIg.s:1621   .text.inv_icm207xx_get_int_status:0000000000000000 inv_icm207xx_get_int_status
     /tmp/ccRGbSIg.s:1651   .text.inv_icm207xx_check_drdy:0000000000000000 $t
     /tmp/ccRGbSIg.s:1658   .text.inv_icm207xx_check_drdy:0000000000000000 inv_icm207xx_check_drdy
     /tmp/ccRGbSIg.s:1684   .text.inv_icm207xx_check_wom_status:0000000000000000 $t
     /tmp/ccRGbSIg.s:1691   .text.inv_icm207xx_check_wom_status:0000000000000000 inv_icm207xx_check_wom_status
     /tmp/ccRGbSIg.s:1732   .text.inv_icm207xx_enable_mems:0000000000000000 $t
     /tmp/ccRGbSIg.s:1739   .text.inv_icm207xx_enable_mems:0000000000000000 inv_icm207xx_enable_mems
     /tmp/ccRGbSIg.s:1766   .text.inv_icm207xx_enable_mems:0000000000000016 $d
     /tmp/ccRGbSIg.s:1791   .text.inv_icm207xx_enable_mems:0000000000000046 $t
     /tmp/ccRGbSIg.s:1861   .text.inv_icm207xx_enable_mems:00000000000000bc $d
     /tmp/ccRGbSIg.s:2096   .text.inv_icm207xx_enable_mems:0000000000000248 $d
     /tmp/ccRGbSIg.s:2268   .text.inv_icm207xx_enable_mems:0000000000000354 $d
     /tmp/ccRGbSIg.s:2549   .text.inv_icm207xx_enable_mems:0000000000000522 $d
     /tmp/ccRGbSIg.s:2830   .text.inv_icm207xx_enable_mems:00000000000006f0 $d
     /tmp/ccRGbSIg.s:3135   .text.inv_icm207xx_enable_mems:00000000000008d0 $d
     /tmp/ccRGbSIg.s:3141   .text.inv_icm207xx_enable_mems:00000000000008d6 $t
     /tmp/ccRGbSIg.s:3433   .text.inv_icm207xx_is_sensor_enabled:0000000000000000 $t
     /tmp/ccRGbSIg.s:3440   .text.inv_icm207xx_is_sensor_enabled:0000000000000000 inv_icm207xx_is_sensor_enabled
     /tmp/ccRGbSIg.s:3483   .text.inv_icm207xx_poll_sensor_data_reg:0000000000000000 $t
     /tmp/ccRGbSIg.s:3490   .text.inv_icm207xx_poll_sensor_data_reg:0000000000000000 inv_icm207xx_poll_sensor_data_reg
     /tmp/ccRGbSIg.s:3683   .text.inv_icm207xx_disable_fifo:0000000000000000 $t
     /tmp/ccRGbSIg.s:3690   .text.inv_icm207xx_disable_fifo:0000000000000000 inv_icm207xx_disable_fifo
ARM GAS  /tmp/ccRGbSIg.s 			page 139


     /tmp/ccRGbSIg.s:3752   .text.inv_icm207xx_enable_fifo:0000000000000000 $t
     /tmp/ccRGbSIg.s:3759   .text.inv_icm207xx_enable_fifo:0000000000000000 inv_icm207xx_enable_fifo
     /tmp/ccRGbSIg.s:3877   .text.inv_icm207xx_set_sensor_period:0000000000000000 $t
     /tmp/ccRGbSIg.s:3884   .text.inv_icm207xx_set_sensor_period:0000000000000000 inv_icm207xx_set_sensor_period
     /tmp/ccRGbSIg.s:4036   .text.inv_icm207xx_enable_sensor:0000000000000000 $t
     /tmp/ccRGbSIg.s:4043   .text.inv_icm207xx_enable_sensor:0000000000000000 inv_icm207xx_enable_sensor
     /tmp/ccRGbSIg.s:4203   .text.inv_icm207xx_enable_sensor:00000000000000cc $d
     /tmp/ccRGbSIg.s:4208   .text.inv_icm207xx_poll_fifo_data_setup:0000000000000000 $t
     /tmp/ccRGbSIg.s:4215   .text.inv_icm207xx_poll_fifo_data_setup:0000000000000000 inv_icm207xx_poll_fifo_data_setup
     /tmp/ccRGbSIg.s:4376   .text.inv_icm207xx_configure_accel_wom:0000000000000000 $t
     /tmp/ccRGbSIg.s:4383   .text.inv_icm207xx_configure_accel_wom:0000000000000000 inv_icm207xx_configure_accel_wom
     /tmp/ccRGbSIg.s:4717   .text.inv_icm207xx_reset_fifo:0000000000000000 $t
     /tmp/ccRGbSIg.s:4724   .text.inv_icm207xx_reset_fifo:0000000000000000 inv_icm207xx_reset_fifo
     /tmp/ccRGbSIg.s:4774   .text.inv_icm207xx_poll_fifo_data:0000000000000000 $t
     /tmp/ccRGbSIg.s:4781   .text.inv_icm207xx_poll_fifo_data:0000000000000000 inv_icm207xx_poll_fifo_data
     /tmp/ccRGbSIg.s:5008   .text.inv_icm207xx_poll_fifo_data:000000000000015c $d
     /tmp/ccRGbSIg.s:5014   .text.inv_icm207xx_set_slave_compass_id:0000000000000000 $t
     /tmp/ccRGbSIg.s:5021   .text.inv_icm207xx_set_slave_compass_id:0000000000000000 inv_icm207xx_set_slave_compass_id
     /tmp/ccRGbSIg.s:5037   .text.inv_icm207xx_poll_ois_gyro_data:0000000000000000 $t
     /tmp/ccRGbSIg.s:5044   .text.inv_icm207xx_poll_ois_gyro_data:0000000000000000 inv_icm207xx_poll_ois_gyro_data
     /tmp/ccRGbSIg.s:5060   .text.inv_icm207xx_poll_delay_count:0000000000000000 $t
     /tmp/ccRGbSIg.s:5067   .text.inv_icm207xx_poll_delay_count:0000000000000000 inv_icm207xx_poll_delay_count
     /tmp/ccRGbSIg.s:5086   .text.inv_icm207xx_all_sensors_off:0000000000000000 $t
     /tmp/ccRGbSIg.s:5093   .text.inv_icm207xx_all_sensors_off:0000000000000000 inv_icm207xx_all_sensors_off
     /tmp/ccRGbSIg.s:5127   .bss.repeated_mems_data.6471:0000000000000000 $d
     /tmp/ccRGbSIg.s:5131   .bss.repeated_mems_data.6471:0000000000000000 repeated_mems_data.6471
     /tmp/ccRGbSIg.s:5134   .rodata.MinDelayGenAccelList:0000000000000000 $d
     /tmp/ccRGbSIg.s:5138   .rodata.MinDelayGenAccelList:0000000000000000 MinDelayGenAccelList
     /tmp/ccRGbSIg.s:5141   .rodata.MinDelayGenCompassList:0000000000000000 $d
     /tmp/ccRGbSIg.s:5145   .rodata.MinDelayGenCompassList:0000000000000000 MinDelayGenCompassList
     /tmp/ccRGbSIg.s:5149   .rodata.MinDelayGenGyroList:0000000000000000 $d
     /tmp/ccRGbSIg.s:5153   .rodata.MinDelayGenGyroList:0000000000000000 MinDelayGenGyroList
     /tmp/ccRGbSIg.s:5157   .rodata.android_sensor_2_control_bits.6629:0000000000000000 $d
     /tmp/ccRGbSIg.s:5161   .rodata.android_sensor_2_control_bits.6629:0000000000000000 android_sensor_2_control_bits.6629
     /tmp/ccRGbSIg.s:1868   .text.inv_icm207xx_enable_mems:00000000000000c3 $d
     /tmp/ccRGbSIg.s:1868   .text.inv_icm207xx_enable_mems:00000000000000c4 $t
     /tmp/ccRGbSIg.s:2103   .text.inv_icm207xx_enable_mems:000000000000024f $d
     /tmp/ccRGbSIg.s:2103   .text.inv_icm207xx_enable_mems:0000000000000250 $t
     /tmp/ccRGbSIg.s:2275   .text.inv_icm207xx_enable_mems:000000000000035b $d
     /tmp/ccRGbSIg.s:2275   .text.inv_icm207xx_enable_mems:000000000000035c $t
     /tmp/ccRGbSIg.s:2556   .text.inv_icm207xx_enable_mems:0000000000000529 $d
     /tmp/ccRGbSIg.s:2556   .text.inv_icm207xx_enable_mems:000000000000052a $t
     /tmp/ccRGbSIg.s:2837   .text.inv_icm207xx_enable_mems:00000000000006f7 $d
     /tmp/ccRGbSIg.s:2837   .text.inv_icm207xx_enable_mems:00000000000006f8 $t

UNDEFINED SYMBOLS
inv_icm207xx_mems_write_reg
inv_icm207xx_mems_read_reg
inv_icm207xx_get_chip_power_state
inv_icm207xx_get_gyro_fullscale
inv_icm207xx_get_gyro_bandwidth
inv_icm207xx_get_chip_base_sample_rate
inv_icm207xx_set_divider
inv_icm207xx_set_i2c_mst_dly
inv_icm207xx_read_reg
inv_icm207xx_sleep
inv_icm207xx_set_fsync_bit_location
ARM GAS  /tmp/ccRGbSIg.s 			page 140


