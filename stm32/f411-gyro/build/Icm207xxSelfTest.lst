ARM GAS  /tmp/ccZtroRg.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"Icm207xxSelfTest.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.recover_settings,"ax",%progbits
  18              		.align	1
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu fpv4-sp-d16
  24              	recover_settings:
  25              	.LFB13:
  26              		.file 1 "Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c"
   1:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** /*
   2:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c ****  * ________________________________________________________________________________________________
   3:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c ****  * Copyright (c) 2015-2015 InvenSense Inc. All rights reserved.
   4:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c ****  *
   5:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c ****  * This software, related documentation and any modifications thereto (collectively “Software”)
   6:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c ****  * to InvenSense and its licensors' intellectual property rights under U.S. and international copyr
   7:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c ****  * and other intellectual property rights laws.
   8:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c ****  *
   9:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c ****  * InvenSense and its licensors retain all intellectual property and proprietary rights in and to t
  10:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c ****  * and any use, reproduction, disclosure or distribution of the Software without an express license
  11:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c ****  * from InvenSense is strictly prohibited.
  12:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c ****  *
  13:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c ****  * EXCEPT AS OTHERWISE PROVIDED IN A LICENSE AGREEMENT BETWEEN THE PARTIES, THE SOFTWARE IS
  14:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c ****  * PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED
  15:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c ****  * TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT.
  16:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c ****  * EXCEPT AS OTHERWISE PROVIDED IN A LICENSE AGREEMENT BETWEEN THE PARTIES, IN NO EVENT SHALL
  17:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c ****  * INVENSENSE BE LIABLE FOR ANY DIRECT, SPECIAL, INDIRECT, INCIDENTAL, OR CONSEQUENTIAL DAMAGES, OR
  18:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c ****  * DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT
  19:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c ****  * NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE
  20:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c ****  * OF THE SOFTWARE.
  21:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c ****  * ________________________________________________________________________________________________
  22:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c ****  */
  23:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
  24:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #include "Icm207xxSelfTest.h"
  25:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #include "Icm207xxDefs.h"
  26:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #include "Icm207xx.h"
  27:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
  28:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #define DEF_ST_PRECISION				1000
  29:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #define DEF_ST_ACCEL_FS_MG				2000
  30:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #define DEF_ST_TRY_TIMES				2
  31:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #define DEF_ST_SAMPLES					200
  32:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #define DEF_GYRO_CT_SHIFT_DELTA			500
ARM GAS  /tmp/ccZtroRg.s 			page 2


  33:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #define DEF_ACCEL_ST_SHIFT_DELTA		500
  34:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #define ACCEL_ST_AL_MIN ((DEF_ACCEL_ST_AL_MIN * DEF_ST_SCALE \
  35:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 				 / DEF_ST_ACCEL_FS_MG) * DEF_ST_PRECISION)
  36:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #define ACCEL_ST_AL_MAX ((DEF_ACCEL_ST_AL_MAX * DEF_ST_SCALE \
  37:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 				 / DEF_ST_ACCEL_FS_MG) * DEF_ST_PRECISION)
  38:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #define DEF_ST_ACCEL_LPF				2
  39:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #define DEF_ST_GYRO_LPF					2
  40:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #define DEF_SELFTEST_SAMPLE_RATE		0 /* 1000Hz */
  41:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #define DEF_SELFTEST_SAMPLE_RATE_LP		4 /*  200Hz */
  42:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #define DEF_SELFTEST_ACCEL_FS			(0 << 3) /* 2g */
  43:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #define DEF_SELFTEST_GYRO_FS			(0 << 3) /* 250dps */
  44:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #define DEF_ST_STABLE_TIME				20
  45:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #if ((MEMS_CHIP != HW_ICM20602)&&(MEMS_CHIP != HW_ICM20603))
  46:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #define DEF_GYRO_WAIT_TIME				60
  47:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #define DEF_GYRO_WAIT_TIME_LP			300
  48:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #else
  49:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #define DEF_GYRO_WAIT_TIME				5
  50:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #define DEF_GYRO_WAIT_TIME_LP			50
  51:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #endif
  52:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
  53:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** /* Gyro Offset Max Value (dps) */
  54:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #define DEF_GYRO_OFFSET_MAX				20
  55:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** /* Gyro Self Test Absolute Limits ST_AL (dps) */
  56:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #define DEF_GYRO_ST_AL					60
  57:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** /* Accel Self Test Absolute Limits ST_AL (mg) */
  58:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #define DEF_ACCEL_ST_AL_MIN				225
  59:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #define DEF_ACCEL_ST_AL_MAX				675
  60:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
  61:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** enum {
  62:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	ST_NORMAL_MODE = 0,
  63:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	ST_GYRO_LP_MODE = 1,
  64:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	ST_ACCEL_LP_MODE = 2
  65:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** };
  66:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
  67:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** struct recover_regs {
  68:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	uint8_t int_enable;		/* REG_INT_ENABLE 		*/
  69:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	uint8_t fifo_en;		/* REG_FIFO_EN 			*/
  70:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	uint8_t user_ctrl;		/* REG_USER_CTRL 		*/
  71:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	uint8_t config;			/* REG_CONFIG 			*/
  72:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	uint8_t gyro_config;	/* REG_GYRO_CONFIG 		*/
  73:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	uint8_t accel_config;	/* REG_ACCEL_CONFIG		*/
  74:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	uint8_t accel_config_2;	/* REG_ACCEL_CONFIG_2	*/
  75:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	uint8_t smplrt_div;		/* REG_SAMPLE_RATE_DIV	*/
  76:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	uint8_t lp_mode;		/* REG_LP_MODE_CTRL		*/
  77:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	uint8_t pwr_mgmt_1;		/* REG_PWR_MGMT_1		*/
  78:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	uint8_t pwr_mgmt_2;		/* REG_PWR_MGMT_2		*/
  79:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** };
  80:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
  81:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #if (MEMS_CHIP != HW_ICM20609)
  82:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** static const uint16_t sSelfTestEquation[256] = {
  83:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	2620, 2646, 2672, 2699, 2726, 2753, 2781, 2808,
  84:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	2837, 2865, 2894, 2923, 2952, 2981, 3011, 3041,
  85:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	3072, 3102, 3133, 3165, 3196, 3228, 3261, 3293,
  86:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	3326, 3359, 3393, 3427, 3461, 3496, 3531, 3566,
  87:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	3602, 3638, 3674, 3711, 3748, 3786, 3823, 3862,
  88:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	3900, 3939, 3979, 4019, 4059, 4099, 4140, 4182,
  89:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	4224, 4266, 4308, 4352, 4395, 4439, 4483, 4528,
ARM GAS  /tmp/ccZtroRg.s 			page 3


  90:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	4574, 4619, 4665, 4712, 4759, 4807, 4855, 4903,
  91:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	4953, 5002, 5052, 5103, 5154, 5205, 5257, 5310,
  92:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	5363, 5417, 5471, 5525, 5581, 5636, 5693, 5750,
  93:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	5807, 5865, 5924, 5983, 6043, 6104, 6165, 6226,
  94:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	6289, 6351, 6415, 6479, 6544, 6609, 6675, 6742,
  95:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	6810, 6878, 6946, 7016, 7086, 7157, 7229, 7301,
  96:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	7374, 7448, 7522, 7597, 7673, 7750, 7828, 7906,
  97:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	7985, 8065, 8145, 8227, 8309, 8392, 8476, 8561,
  98:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	8647, 8733, 8820, 8909, 8998, 9088, 9178, 9270,
  99:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	9363, 9457, 9551, 9647, 9743, 9841, 9939, 10038,
 100:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	10139, 10240, 10343, 10446, 10550, 10656, 10763, 10870,
 101:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	10979, 11089, 11200, 11312, 11425, 11539, 11654, 11771,
 102:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	11889, 12008, 12128, 12249, 12371, 12495, 12620, 12746,
 103:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	12874, 13002, 13132, 13264, 13396, 13530, 13666, 13802,
 104:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	13940, 14080, 14221, 14363, 14506, 14652, 14798, 14946,
 105:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	15096, 15247, 15399, 15553, 15709, 15866, 16024, 16184,
 106:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	16346, 16510, 16675, 16842, 17010, 17180, 17352, 17526,
 107:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	17701, 17878, 18057, 18237, 18420, 18604, 18790, 18978,
 108:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	19167, 19359, 19553, 19748, 19946, 20145, 20347, 20550,
 109:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	20756, 20963, 21173, 21385, 21598, 21814, 22033, 22253,
 110:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	22475, 22700, 22927, 23156, 23388, 23622, 23858, 24097,
 111:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	24338, 24581, 24827, 25075, 25326, 25579, 25835, 26093,
 112:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	26354, 26618, 26884, 27153, 27424, 27699, 27976, 28255,
 113:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	28538, 28823, 29112, 29403, 29697, 29994, 30294, 30597,
 114:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	30903, 31212, 31524, 31839, 32157, 32479, 32804
 115:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** };
 116:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #endif
 117:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 118:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #if (MEMS_CHIP != HW_ICM20609)
 119:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** static int save_settings(struct inv_icm207xx * s, struct recover_regs * saved_regs)
 120:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** {
 121:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	int result = 0;
 122:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 123:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	result |= inv_icm207xx_mems_read_reg(s, MPUREG_PWR_MGMT_1, 1, &saved_regs->pwr_mgmt_1);
 124:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 125:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	/* wake up */
 126:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	result |= inv_icm207xx_mems_write_reg_one(s, MPUREG_PWR_MGMT_1, CLK_SEL);
 127:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 128:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	result |= inv_icm207xx_mems_read_reg(s, MPUREG_INT_ENABLE, 1, &saved_regs->int_enable);
 129:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	result |= inv_icm207xx_mems_read_reg(s, MPUREG_FIFO_EN, 1, &saved_regs->fifo_en);
 130:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	result |= inv_icm207xx_mems_read_reg(s, MPUREG_USER_CTRL, 1, &saved_regs->user_ctrl);
 131:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	result |= inv_icm207xx_mems_read_reg(s, MPUREG_CONFIG, 1, &saved_regs->config);
 132:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	result |= inv_icm207xx_mems_read_reg(s, MPUREG_GYRO_CONFIG, 1, &saved_regs->gyro_config);
 133:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	result |= inv_icm207xx_mems_read_reg(s, MPUREG_ACCEL_CONFIG, 1, &saved_regs->accel_config);
 134:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	result |= inv_icm207xx_mems_read_reg(s, MPUREG_ACCEL_CONFIG_2, 1, &saved_regs->accel_config_2);
 135:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	result |= inv_icm207xx_mems_read_reg(s, MPUREG_SMPLRT_DIV, 1, &saved_regs->smplrt_div);
 136:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	result |= inv_icm207xx_mems_read_reg(s, MPUREG_LP_CONFIG, 1, &saved_regs->lp_mode);
 137:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	result |= inv_icm207xx_mems_read_reg(s, MPUREG_PWR_MGMT_2, 1, &saved_regs->pwr_mgmt_2);
 138:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 139:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	return result;
 140:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** }
 141:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #endif
 142:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #if (MEMS_CHIP != HW_ICM20609)
 143:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 144:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** static int recover_settings(struct inv_icm207xx * s, const struct recover_regs * saved_regs)
 145:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** {
  27              		.loc 1 145 0
ARM GAS  /tmp/ccZtroRg.s 			page 4


  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              	.LVL0:
  32 0000 70B5     		push	{r4, r5, r6, lr}
  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 16
  35              		.cfi_offset 4, -16
  36              		.cfi_offset 5, -12
  37              		.cfi_offset 6, -8
  38              		.cfi_offset 14, -4
  39 0002 0546     		mov	r5, r0
  40 0004 0E46     		mov	r6, r1
  41              	.LVL1:
 146:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	int result = 0;
 147:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 148:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	// Stop sensors
 149:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	result |= inv_icm207xx_mems_write_reg_one(s, MPUREG_PWR_MGMT_2, BIT_PWR_ALL_OFF);
  42              		.loc 1 149 0
  43 0006 3F22     		movs	r2, #63
  44 0008 6C21     		movs	r1, #108
  45              	.LVL2:
  46 000a FFF7FEFF 		bl	inv_icm207xx_mems_write_reg_one
  47              	.LVL3:
  48 000e 0446     		mov	r4, r0
  49              	.LVL4:
 150:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 151:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	// Restore sensor configurations
 152:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	result |= inv_icm207xx_mems_write_reg_one(s, MPUREG_INT_ENABLE, saved_regs->int_enable);
  50              		.loc 1 152 0
  51 0010 3278     		ldrb	r2, [r6]	@ zero_extendqisi2
  52 0012 3821     		movs	r1, #56
  53 0014 2846     		mov	r0, r5
  54              	.LVL5:
  55 0016 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg_one
  56              	.LVL6:
  57 001a 0443     		orrs	r4, r4, r0
  58              	.LVL7:
 153:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	result |= inv_icm207xx_mems_write_reg_one(s, MPUREG_FIFO_EN, saved_regs->fifo_en);
  59              		.loc 1 153 0
  60 001c 7278     		ldrb	r2, [r6, #1]	@ zero_extendqisi2
  61 001e 2321     		movs	r1, #35
  62 0020 2846     		mov	r0, r5
  63 0022 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg_one
  64              	.LVL8:
  65 0026 0443     		orrs	r4, r4, r0
  66              	.LVL9:
 154:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	result |= inv_icm207xx_mems_write_reg_one(s, MPUREG_USER_CTRL, saved_regs->user_ctrl);
  67              		.loc 1 154 0
  68 0028 B278     		ldrb	r2, [r6, #2]	@ zero_extendqisi2
  69 002a 6A21     		movs	r1, #106
  70 002c 2846     		mov	r0, r5
  71 002e FFF7FEFF 		bl	inv_icm207xx_mems_write_reg_one
  72              	.LVL10:
  73 0032 0443     		orrs	r4, r4, r0
  74              	.LVL11:
 155:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	result |= inv_icm207xx_mems_write_reg_one(s, MPUREG_CONFIG, saved_regs->config);
ARM GAS  /tmp/ccZtroRg.s 			page 5


  75              		.loc 1 155 0
  76 0034 F278     		ldrb	r2, [r6, #3]	@ zero_extendqisi2
  77 0036 1A21     		movs	r1, #26
  78 0038 2846     		mov	r0, r5
  79 003a FFF7FEFF 		bl	inv_icm207xx_mems_write_reg_one
  80              	.LVL12:
  81 003e 0443     		orrs	r4, r4, r0
  82              	.LVL13:
 156:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	result |= inv_icm207xx_mems_write_reg_one(s, MPUREG_GYRO_CONFIG, saved_regs->gyro_config);
  83              		.loc 1 156 0
  84 0040 3279     		ldrb	r2, [r6, #4]	@ zero_extendqisi2
  85 0042 1B21     		movs	r1, #27
  86 0044 2846     		mov	r0, r5
  87 0046 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg_one
  88              	.LVL14:
  89 004a 0443     		orrs	r4, r4, r0
  90              	.LVL15:
 157:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	result |= inv_icm207xx_mems_write_reg_one(s, MPUREG_ACCEL_CONFIG, saved_regs->accel_config);
  91              		.loc 1 157 0
  92 004c 7279     		ldrb	r2, [r6, #5]	@ zero_extendqisi2
  93 004e 1C21     		movs	r1, #28
  94 0050 2846     		mov	r0, r5
  95 0052 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg_one
  96              	.LVL16:
  97 0056 0443     		orrs	r4, r4, r0
  98              	.LVL17:
 158:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	result |= inv_icm207xx_mems_write_reg_one(s, MPUREG_ACCEL_CONFIG_2, saved_regs->accel_config_2);
  99              		.loc 1 158 0
 100 0058 B279     		ldrb	r2, [r6, #6]	@ zero_extendqisi2
 101 005a 1D21     		movs	r1, #29
 102 005c 2846     		mov	r0, r5
 103 005e FFF7FEFF 		bl	inv_icm207xx_mems_write_reg_one
 104              	.LVL18:
 105 0062 0443     		orrs	r4, r4, r0
 106              	.LVL19:
 159:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	result |= inv_icm207xx_mems_write_reg_one(s, MPUREG_SMPLRT_DIV, saved_regs->smplrt_div);
 107              		.loc 1 159 0
 108 0064 F279     		ldrb	r2, [r6, #7]	@ zero_extendqisi2
 109 0066 1921     		movs	r1, #25
 110 0068 2846     		mov	r0, r5
 111 006a FFF7FEFF 		bl	inv_icm207xx_mems_write_reg_one
 112              	.LVL20:
 113 006e 0443     		orrs	r4, r4, r0
 114              	.LVL21:
 160:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	result |= inv_icm207xx_mems_write_reg_one(s, MPUREG_LP_CONFIG, saved_regs->lp_mode);
 115              		.loc 1 160 0
 116 0070 327A     		ldrb	r2, [r6, #8]	@ zero_extendqisi2
 117 0072 1E21     		movs	r1, #30
 118 0074 2846     		mov	r0, r5
 119 0076 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg_one
 120              	.LVL22:
 121 007a 0443     		orrs	r4, r4, r0
 122              	.LVL23:
 161:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	result |= inv_icm207xx_mems_write_reg_one(s, MPUREG_PWR_MGMT_1, saved_regs->pwr_mgmt_1);
 123              		.loc 1 161 0
 124 007c 727A     		ldrb	r2, [r6, #9]	@ zero_extendqisi2
 125 007e 6B21     		movs	r1, #107
ARM GAS  /tmp/ccZtroRg.s 			page 6


 126 0080 2846     		mov	r0, r5
 127 0082 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg_one
 128              	.LVL24:
 129 0086 0443     		orrs	r4, r4, r0
 130              	.LVL25:
 162:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	result |= inv_icm207xx_mems_write_reg_one(s, MPUREG_PWR_MGMT_2, saved_regs->pwr_mgmt_2);
 131              		.loc 1 162 0
 132 0088 B27A     		ldrb	r2, [r6, #10]	@ zero_extendqisi2
 133 008a 6C21     		movs	r1, #108
 134 008c 2846     		mov	r0, r5
 135 008e FFF7FEFF 		bl	inv_icm207xx_mems_write_reg_one
 136              	.LVL26:
 163:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 164:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	return result;
 165:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** }
 137              		.loc 1 165 0
 138 0092 2043     		orrs	r0, r0, r4
 139              	.LVL27:
 140 0094 70BD     		pop	{r4, r5, r6, pc}
 141              		.cfi_endproc
 142              	.LFE13:
 144              		.section	.text.save_settings,"ax",%progbits
 145              		.align	1
 146              		.syntax unified
 147              		.thumb
 148              		.thumb_func
 149              		.fpu fpv4-sp-d16
 151              	save_settings:
 152              	.LFB12:
 120:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	int result = 0;
 153              		.loc 1 120 0
 154              		.cfi_startproc
 155              		@ args = 0, pretend = 0, frame = 0
 156              		@ frame_needed = 0, uses_anonymous_args = 0
 157              	.LVL28:
 158 0000 70B5     		push	{r4, r5, r6, lr}
 159              	.LCFI1:
 160              		.cfi_def_cfa_offset 16
 161              		.cfi_offset 4, -16
 162              		.cfi_offset 5, -12
 163              		.cfi_offset 6, -8
 164              		.cfi_offset 14, -4
 165 0002 0546     		mov	r5, r0
 166 0004 0E46     		mov	r6, r1
 167              	.LVL29:
 123:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 168              		.loc 1 123 0
 169 0006 01F10903 		add	r3, r1, #9
 170 000a 0122     		movs	r2, #1
 171 000c 6B21     		movs	r1, #107
 172              	.LVL30:
 173 000e FFF7FEFF 		bl	inv_icm207xx_mems_read_reg
 174              	.LVL31:
 175 0012 0446     		mov	r4, r0
 176              	.LVL32:
 126:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 177              		.loc 1 126 0
ARM GAS  /tmp/ccZtroRg.s 			page 7


 178 0014 0122     		movs	r2, #1
 179 0016 6B21     		movs	r1, #107
 180 0018 2846     		mov	r0, r5
 181              	.LVL33:
 182 001a FFF7FEFF 		bl	inv_icm207xx_mems_write_reg_one
 183              	.LVL34:
 184 001e 0443     		orrs	r4, r4, r0
 185              	.LVL35:
 128:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	result |= inv_icm207xx_mems_read_reg(s, MPUREG_FIFO_EN, 1, &saved_regs->fifo_en);
 186              		.loc 1 128 0
 187 0020 3346     		mov	r3, r6
 188 0022 0122     		movs	r2, #1
 189 0024 3821     		movs	r1, #56
 190 0026 2846     		mov	r0, r5
 191 0028 FFF7FEFF 		bl	inv_icm207xx_mems_read_reg
 192              	.LVL36:
 193 002c 0443     		orrs	r4, r4, r0
 194              	.LVL37:
 129:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	result |= inv_icm207xx_mems_read_reg(s, MPUREG_USER_CTRL, 1, &saved_regs->user_ctrl);
 195              		.loc 1 129 0
 196 002e 731C     		adds	r3, r6, #1
 197 0030 0122     		movs	r2, #1
 198 0032 2321     		movs	r1, #35
 199 0034 2846     		mov	r0, r5
 200 0036 FFF7FEFF 		bl	inv_icm207xx_mems_read_reg
 201              	.LVL38:
 202 003a 0443     		orrs	r4, r4, r0
 203              	.LVL39:
 130:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	result |= inv_icm207xx_mems_read_reg(s, MPUREG_CONFIG, 1, &saved_regs->config);
 204              		.loc 1 130 0
 205 003c B31C     		adds	r3, r6, #2
 206 003e 0122     		movs	r2, #1
 207 0040 6A21     		movs	r1, #106
 208 0042 2846     		mov	r0, r5
 209 0044 FFF7FEFF 		bl	inv_icm207xx_mems_read_reg
 210              	.LVL40:
 211 0048 0443     		orrs	r4, r4, r0
 212              	.LVL41:
 131:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	result |= inv_icm207xx_mems_read_reg(s, MPUREG_GYRO_CONFIG, 1, &saved_regs->gyro_config);
 213              		.loc 1 131 0
 214 004a F31C     		adds	r3, r6, #3
 215 004c 0122     		movs	r2, #1
 216 004e 1A21     		movs	r1, #26
 217 0050 2846     		mov	r0, r5
 218 0052 FFF7FEFF 		bl	inv_icm207xx_mems_read_reg
 219              	.LVL42:
 220 0056 0443     		orrs	r4, r4, r0
 221              	.LVL43:
 132:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	result |= inv_icm207xx_mems_read_reg(s, MPUREG_ACCEL_CONFIG, 1, &saved_regs->accel_config);
 222              		.loc 1 132 0
 223 0058 331D     		adds	r3, r6, #4
 224 005a 0122     		movs	r2, #1
 225 005c 1B21     		movs	r1, #27
 226 005e 2846     		mov	r0, r5
 227 0060 FFF7FEFF 		bl	inv_icm207xx_mems_read_reg
 228              	.LVL44:
 229 0064 0443     		orrs	r4, r4, r0
ARM GAS  /tmp/ccZtroRg.s 			page 8


 230              	.LVL45:
 133:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	result |= inv_icm207xx_mems_read_reg(s, MPUREG_ACCEL_CONFIG_2, 1, &saved_regs->accel_config_2);
 231              		.loc 1 133 0
 232 0066 731D     		adds	r3, r6, #5
 233 0068 0122     		movs	r2, #1
 234 006a 1C21     		movs	r1, #28
 235 006c 2846     		mov	r0, r5
 236 006e FFF7FEFF 		bl	inv_icm207xx_mems_read_reg
 237              	.LVL46:
 238 0072 0443     		orrs	r4, r4, r0
 239              	.LVL47:
 134:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	result |= inv_icm207xx_mems_read_reg(s, MPUREG_SMPLRT_DIV, 1, &saved_regs->smplrt_div);
 240              		.loc 1 134 0
 241 0074 B31D     		adds	r3, r6, #6
 242 0076 0122     		movs	r2, #1
 243 0078 1D21     		movs	r1, #29
 244 007a 2846     		mov	r0, r5
 245 007c FFF7FEFF 		bl	inv_icm207xx_mems_read_reg
 246              	.LVL48:
 247 0080 0443     		orrs	r4, r4, r0
 248              	.LVL49:
 135:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	result |= inv_icm207xx_mems_read_reg(s, MPUREG_LP_CONFIG, 1, &saved_regs->lp_mode);
 249              		.loc 1 135 0
 250 0082 F31D     		adds	r3, r6, #7
 251 0084 0122     		movs	r2, #1
 252 0086 1921     		movs	r1, #25
 253 0088 2846     		mov	r0, r5
 254 008a FFF7FEFF 		bl	inv_icm207xx_mems_read_reg
 255              	.LVL50:
 256 008e 0443     		orrs	r4, r4, r0
 257              	.LVL51:
 136:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	result |= inv_icm207xx_mems_read_reg(s, MPUREG_PWR_MGMT_2, 1, &saved_regs->pwr_mgmt_2);
 258              		.loc 1 136 0
 259 0090 06F10803 		add	r3, r6, #8
 260 0094 0122     		movs	r2, #1
 261 0096 1E21     		movs	r1, #30
 262 0098 2846     		mov	r0, r5
 263 009a FFF7FEFF 		bl	inv_icm207xx_mems_read_reg
 264              	.LVL52:
 265 009e 0443     		orrs	r4, r4, r0
 266              	.LVL53:
 137:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 267              		.loc 1 137 0
 268 00a0 06F10A03 		add	r3, r6, #10
 269 00a4 0122     		movs	r2, #1
 270 00a6 6C21     		movs	r1, #108
 271 00a8 2846     		mov	r0, r5
 272 00aa FFF7FEFF 		bl	inv_icm207xx_mems_read_reg
 273              	.LVL54:
 140:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #endif
 274              		.loc 1 140 0
 275 00ae 2043     		orrs	r0, r0, r4
 276              	.LVL55:
 277 00b0 70BD     		pop	{r4, r5, r6, pc}
 278              		.cfi_endproc
 279              	.LFE12:
 281              		.section	.text.do_test,"ax",%progbits
ARM GAS  /tmp/ccZtroRg.s 			page 9


 282              		.align	1
 283              		.syntax unified
 284              		.thumb
 285              		.thumb_func
 286              		.fpu fpv4-sp-d16
 288              	do_test:
 289              	.LFB16:
 166:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #endif
 167:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 168:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #if (MEMS_CHIP != HW_ICM20609)
 169:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** /**
 170:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** *  @brief check gyro self test
 171:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** *  @param[in] meanNormalTestValues average value of normal test.
 172:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** *  @param[in] meanSelfTestValues   average value of self test
 173:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** *  @return zero as success. A non-zero return value indicates failure in self test.
 174:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** */
 175:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** static int check_gyro_self_test(struct inv_icm207xx * s, int *meanNormalTestValues, int *meanSelfTe
 176:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** {
 177:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	int ret_val = 0;
 178:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 179:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #if ((MEMS_CHIP != HW_ICM20690) && (MEMS_CHIP != HW_ICM20602) && (MEMS_CHIP != HW_ICM20603) && (MEM
 180:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 181:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	(void)s, (void)meanNormalTestValues, (void)meanSelfTestValues;
 182:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 183:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	return ret_val;
 184:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #else
 185:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	uint8_t regs[3];
 186:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	int otp_value_zero = 0;
 187:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	int st_shift_prod[3], st_shift_cust[3], i;
 188:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	int result;
 189:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 190:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	result = inv_icm207xx_mems_read_reg(s, MPUREG_SELF_TEST_X_GYRO, 3, regs);
 191:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	if (result)
 192:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		return result;
 193:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 194:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	for (i = 0; i < 3; i++) {
 195:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		if (regs[i] != 0) {
 196:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			st_shift_prod[i] = sSelfTestEquation[regs[i] - 1];
 197:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		} else {
 198:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			st_shift_prod[i] = 0;
 199:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			otp_value_zero = 1;
 200:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		}
 201:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	}
 202:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 203:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	for (i = 0; i < 3; i++) {
 204:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		st_shift_cust[i] = meanSelfTestValues[i] - meanNormalTestValues[i];
 205:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		if (!otp_value_zero) {
 206:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			/* Self Test Pass/Fail Criteria A */
 207:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			if (st_shift_cust[i] < DEF_GYRO_CT_SHIFT_DELTA * st_shift_prod[i])
 208:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 				ret_val = 1;
 209:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		} else {
 210:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			/* Self Test Pass/Fail Criteria B */
 211:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			if (st_shift_cust[i] < DEF_GYRO_ST_AL * DEF_SELFTEST_GYRO_SENS * DEF_ST_PRECISION)
 212:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 				ret_val = 1;
 213:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		}
 214:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	}
 215:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
ARM GAS  /tmp/ccZtroRg.s 			page 10


 216:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	if (ret_val == 0) {
 217:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		/* Self Test Pass/Fail Criteria C */
 218:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		for (i = 0; i < 3; i++) {
 219:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			if (INV_ABS(meanNormalTestValues[i]) > DEF_GYRO_OFFSET_MAX * DEF_SELFTEST_GYRO_SENS * DEF_ST_PRE
 220:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 				ret_val = 1;
 221:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		}
 222:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	}
 223:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 224:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	return ret_val;
 225:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #endif
 226:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** }
 227:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #endif
 228:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 229:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #if (MEMS_CHIP != HW_ICM20609)
 230:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** /**
 231:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** *  @brief check accel self test
 232:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** *  @param[in] meanNormalTestValues average value of normal test.
 233:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** *  @param[in] meanSelfTestValues   average value of self test
 234:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** *  @return zero as success. A non-zero return value indicates failure in self test.
 235:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** */
 236:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** static int check_accel_self_test(struct inv_icm207xx * s, int *meanNormalTestValues, int *meanSelfT
 237:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** {
 238:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	int ret_val = 0;
 239:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 240:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #if ((MEMS_CHIP != HW_ICM20690) && (MEMS_CHIP != HW_ICM20602) && (MEMS_CHIP != HW_ICM20603) && (MEM
 241:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 242:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	(void)s, (void)meanNormalTestValues, (void)meanSelfTestValues;
 243:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 244:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	return ret_val;
 245:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #else
 246:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	uint8_t regs[3];
 247:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	int otp_value_zero = 0;
 248:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	int st_shift_prod[3], st_shift_cust[3], st_shift_ratio[3], i;
 249:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	int result;
 250:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 251:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	result = inv_icm207xx_mems_read_reg(s, MPUREG_SELF_TEST_X_ACCEL, 3, regs);
 252:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	if (result)
 253:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		return result;
 254:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 255:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	for (i = 0; i < 3; i++) {
 256:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		if (regs[i] != 0) {
 257:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			st_shift_prod[i] = sSelfTestEquation[regs[i] - 1];
 258:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		} else {
 259:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			st_shift_prod[i] = 0;
 260:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			otp_value_zero = 1;
 261:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		}
 262:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	}
 263:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 264:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	if (!otp_value_zero) {
 265:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		/* Self Test Pass/Fail Criteria A */
 266:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		for (i = 0; i < 3; i++) {
 267:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			st_shift_cust[i] = meanSelfTestValues[i] - meanNormalTestValues[i];
 268:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			st_shift_ratio[i] = INV_ABS(st_shift_cust[i] / st_shift_prod[i] - DEF_ST_PRECISION);
 269:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			if (st_shift_ratio[i] > DEF_ACCEL_ST_SHIFT_DELTA)
 270:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 				ret_val = 1;
 271:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		}
 272:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	} else {
ARM GAS  /tmp/ccZtroRg.s 			page 11


 273:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		/* Self Test Pass/Fail Criteria B */
 274:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		for (i = 0; i < 3; i++) {
 275:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			st_shift_cust[i] = INV_ABS(meanSelfTestValues[i] - meanNormalTestValues[i]);
 276:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			if (st_shift_cust[i] < ACCEL_ST_AL_MIN || st_shift_cust[i] > ACCEL_ST_AL_MAX)
 277:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 				ret_val = 1;
 278:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		}
 279:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	}
 280:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 281:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	return ret_val;
 282:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #endif
 283:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** }
 284:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #endif
 285:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 286:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #if (MEMS_CHIP != HW_ICM20609)
 287:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** /*
 288:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** *  do_test() - do the actual test of self testing
 289:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** */
 290:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** static int do_test(struct inv_icm207xx * s, int self_test_flag, int *gyro_result, int *accel_result
 291:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** {
 290              		.loc 1 291 0
 291              		.cfi_startproc
 292              		@ args = 4, pretend = 0, frame = 16
 293              		@ frame_needed = 0, uses_anonymous_args = 0
 294              	.LVL56:
 295 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 296              	.LCFI2:
 297              		.cfi_def_cfa_offset 36
 298              		.cfi_offset 4, -36
 299              		.cfi_offset 5, -32
 300              		.cfi_offset 6, -28
 301              		.cfi_offset 7, -24
 302              		.cfi_offset 8, -20
 303              		.cfi_offset 9, -16
 304              		.cfi_offset 10, -12
 305              		.cfi_offset 11, -8
 306              		.cfi_offset 14, -4
 307 0004 85B0     		sub	sp, sp, #20
 308              	.LCFI3:
 309              		.cfi_def_cfa_offset 56
 310 0006 8146     		mov	r9, r0
 311 0008 0F46     		mov	r7, r1
 312 000a 1446     		mov	r4, r2
 313 000c 1D46     		mov	r5, r3
 314 000e DDF838B0 		ldr	fp, [sp, #56]
 315              	.LVL57:
 292:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	int result = 0;
 293:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 294:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #if ((MEMS_CHIP != HW_ICM20690) && (MEMS_CHIP != HW_ICM20602) && (MEMS_CHIP != HW_ICM20603) && (MEM
 295:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 296:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	(void)s, (void)self_test_flag, (void)gyro_result, (void)accel_result, (void)lp_mode;
 297:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 298:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c ****     return result;
 299:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #else
 300:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	int i, j, packet_size;
 301:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	uint8_t data[BYTES_PER_SENSOR * 2 + BYTES_PER_TEMP_SENSOR], d, dd;
 302:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	int fifo_count, packet_count, ind, ss;
 303:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
ARM GAS  /tmp/ccZtroRg.s 			page 12


 304:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c ****     /* switch engine */
 305:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	d = 0;
 306:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	if (lp_mode == ST_GYRO_LP_MODE)
 316              		.loc 1 306 0
 317 0012 BBF1010F 		cmp	fp, #1
 318 0016 64D0     		beq	.L29
 307:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		d = BIT_PWR_ACCEL_STBY;
 308:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	else if (lp_mode == ST_ACCEL_LP_MODE)
 319              		.loc 1 308 0
 320 0018 BBF1020F 		cmp	fp, #2
 321 001c 63D0     		beq	.L30
 305:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	if (lp_mode == ST_GYRO_LP_MODE)
 322              		.loc 1 305 0
 323 001e 0022     		movs	r2, #0
 324              	.LVL58:
 325              	.L6:
 309:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		d = BIT_PWR_GYRO_STBY;
 310:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	result |= inv_icm207xx_mems_write_reg_one(s, MPUREG_PWR_MGMT_2, d);
 326              		.loc 1 310 0
 327 0020 6C21     		movs	r1, #108
 328              	.LVL59:
 329 0022 4846     		mov	r0, r9
 330              	.LVL60:
 331 0024 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg_one
 332              	.LVL61:
 333 0028 0646     		mov	r6, r0
 334              	.LVL62:
 311:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	inv_icm207xx_sleep(GYRO_ENGINE_UP_TIME);
 335              		.loc 1 311 0
 336 002a 3220     		movs	r0, #50
 337              	.LVL63:
 338 002c FFF7FEFF 		bl	inv_icm207xx_sleep
 339              	.LVL64:
 312:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 313:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	packet_size = BYTES_PER_SENSOR * 2;
 314:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 315:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #if ((MEMS_CHIP == HW_ICM20602)||(MEMS_CHIP == HW_ICM20603))
 316:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	packet_size += BYTES_PER_TEMP_SENSOR;
 317:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #endif
 318:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 319:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	/* clear signal path */
 320:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	result |= inv_icm207xx_mems_write_reg_one(s, MPUREG_USER_CTRL, 1);
 340              		.loc 1 320 0
 341 0030 0122     		movs	r2, #1
 342 0032 6A21     		movs	r1, #106
 343 0034 4846     		mov	r0, r9
 344 0036 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg_one
 345              	.LVL65:
 346 003a 0643     		orrs	r6, r6, r0
 347              	.LVL66:
 321:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 322:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	inv_icm207xx_sleep(30);
 348              		.loc 1 322 0
 349 003c 1E20     		movs	r0, #30
 350 003e FFF7FEFF 		bl	inv_icm207xx_sleep
 351              	.LVL67:
 323:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
ARM GAS  /tmp/ccZtroRg.s 			page 13


 324:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	/* disable interrupt */
 325:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	result |= inv_icm207xx_mems_write_reg_one(s, MPUREG_INT_ENABLE, 0);
 352              		.loc 1 325 0
 353 0042 0022     		movs	r2, #0
 354 0044 3821     		movs	r1, #56
 355 0046 4846     		mov	r0, r9
 356 0048 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg_one
 357              	.LVL68:
 358 004c 0643     		orrs	r6, r6, r0
 359              	.LVL69:
 326:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 327:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	/* disable the sensor output to FIFO */
 328:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	result |= inv_icm207xx_mems_write_reg_one(s, MPUREG_FIFO_EN, 0);
 360              		.loc 1 328 0
 361 004e 0022     		movs	r2, #0
 362 0050 2321     		movs	r1, #35
 363 0052 4846     		mov	r0, r9
 364 0054 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg_one
 365              	.LVL70:
 366 0058 0643     		orrs	r6, r6, r0
 367              	.LVL71:
 329:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 330:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	/* disable fifo reading */
 331:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	result |= inv_icm207xx_mems_write_reg_one(s, MPUREG_USER_CTRL, 0);
 368              		.loc 1 331 0
 369 005a 0022     		movs	r2, #0
 370 005c 6A21     		movs	r1, #106
 371 005e 4846     		mov	r0, r9
 372 0060 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg_one
 373              	.LVL72:
 374 0064 0643     		orrs	r6, r6, r0
 375              	.LVL73:
 332:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 333:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	/* setup parameters */
 334:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	result |= inv_icm207xx_mems_write_reg_one(s, MPUREG_CONFIG, DEF_ST_GYRO_LPF);
 376              		.loc 1 334 0
 377 0066 0222     		movs	r2, #2
 378 0068 1A21     		movs	r1, #26
 379 006a 4846     		mov	r0, r9
 380 006c FFF7FEFF 		bl	inv_icm207xx_mems_write_reg_one
 381              	.LVL74:
 382 0070 0643     		orrs	r6, r6, r0
 383              	.LVL75:
 335:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 336:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	/* gyro lp mode */
 337:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	if (lp_mode == ST_GYRO_LP_MODE)
 384              		.loc 1 337 0
 385 0072 BBF1010F 		cmp	fp, #1
 386 0076 38D0     		beq	.L35
 338:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		d  = BIT_GYRO_CYCLE;
 339:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	else
 340:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		d = 0;
 387              		.loc 1 340 0
 388 0078 0022     		movs	r2, #0
 389              	.L7:
 390              	.LVL76:
 341:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	result |= inv_icm207xx_mems_write_reg_one(s, MPUREG_LP_CONFIG, d);
ARM GAS  /tmp/ccZtroRg.s 			page 14


 391              		.loc 1 341 0
 392 007a 1E21     		movs	r1, #30
 393 007c 4846     		mov	r0, r9
 394 007e FFF7FEFF 		bl	inv_icm207xx_mems_write_reg_one
 395              	.LVL77:
 396 0082 0643     		orrs	r6, r6, r0
 397              	.LVL78:
 342:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 343:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	/* config accel LPF register */
 344:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #if ((MEMS_CHIP == HW_ICM20690) || (MEMS_CHIP == HW_ICM207XX))
 345:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	d = BITS_FIFO_SIZE; /* FIFO 1kB */
 346:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #else
 347:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	d = 0; /* 1kB by default, 20602 */
 348:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #endif
 349:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	if (lp_mode == ST_ACCEL_LP_MODE)
 398              		.loc 1 349 0
 399 0084 BBF1020F 		cmp	fp, #2
 400 0088 31D0     		beq	.L36
 350:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		d |= BITS_ACCEL_FCHOICE_B;
 351:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	else
 352:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		d |= DEF_ST_ACCEL_LPF;
 401              		.loc 1 352 0
 402 008a C222     		movs	r2, #194
 403              	.L8:
 404              	.LVL79:
 353:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	result |= inv_icm207xx_mems_write_reg_one(s, MPUREG_ACCEL_CONFIG_2, d);
 405              		.loc 1 353 0
 406 008c 1D21     		movs	r1, #29
 407 008e 4846     		mov	r0, r9
 408 0090 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg_one
 409              	.LVL80:
 410 0094 0643     		orrs	r6, r6, r0
 411              	.LVL81:
 354:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 355:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	if (lp_mode)
 412              		.loc 1 355 0
 413 0096 BBF1000F 		cmp	fp, #0
 414 009a 2AD0     		beq	.L9
 356:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		result |= inv_icm207xx_mems_write_reg_one(s, MPUREG_SMPLRT_DIV, DEF_SELFTEST_SAMPLE_RATE_LP);
 415              		.loc 1 356 0
 416 009c 0422     		movs	r2, #4
 417 009e 1921     		movs	r1, #25
 418 00a0 4846     		mov	r0, r9
 419 00a2 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg_one
 420              	.LVL82:
 421 00a6 0643     		orrs	r6, r6, r0
 422              	.LVL83:
 423              	.L10:
 357:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	else
 358:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		result |= inv_icm207xx_mems_write_reg_one(s, MPUREG_SMPLRT_DIV, DEF_SELFTEST_SAMPLE_RATE);
 359:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 360:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	/* wait for the sampling rate change to stabilize */
 361:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	inv_icm207xx_sleep(GYRO_ENGINE_UP_TIME);
 424              		.loc 1 361 0
 425 00a8 3220     		movs	r0, #50
 426 00aa FFF7FEFF 		bl	inv_icm207xx_sleep
 427              	.LVL84:
ARM GAS  /tmp/ccZtroRg.s 			page 15


 362:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 363:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	d = self_test_flag | DEF_SELFTEST_GYRO_FS;
 428              		.loc 1 363 0
 429 00ae FFB2     		uxtb	r7, r7
 430              	.LVL85:
 364:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	result |= inv_icm207xx_mems_write_reg_one(s, MPUREG_GYRO_CONFIG, d);
 431              		.loc 1 364 0
 432 00b0 3A46     		mov	r2, r7
 433 00b2 1B21     		movs	r1, #27
 434 00b4 4846     		mov	r0, r9
 435 00b6 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg_one
 436              	.LVL86:
 437 00ba 0643     		orrs	r6, r6, r0
 438              	.LVL87:
 365:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 366:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	d = self_test_flag | DEF_SELFTEST_ACCEL_FS;
 367:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	result |= inv_icm207xx_mems_write_reg_one(s, MPUREG_ACCEL_CONFIG, d);
 439              		.loc 1 367 0
 440 00bc 3A46     		mov	r2, r7
 441 00be 1C21     		movs	r1, #28
 442 00c0 4846     		mov	r0, r9
 443 00c2 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg_one
 444              	.LVL88:
 445 00c6 0643     		orrs	r6, r6, r0
 446              	.LVL89:
 368:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 369:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	/* wait for the output to get stable */
 370:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	inv_icm207xx_sleep(DEF_ST_STABLE_TIME);
 447              		.loc 1 370 0
 448 00c8 1420     		movs	r0, #20
 449 00ca FFF7FEFF 		bl	inv_icm207xx_sleep
 450              	.LVL90:
 371:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 372:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	/* enable sensor output to FIFO */
 373:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	d = BIT_GYRO_OUT | BIT_ACCEL_OUT;
 374:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	for (i = 0; i < THREE_AXES; i++) {
 451              		.loc 1 374 0
 452 00ce 0023     		movs	r3, #0
 453              	.LVL91:
 454              	.L11:
 455              		.loc 1 374 0 is_stmt 0 discriminator 1
 456 00d0 022B     		cmp	r3, #2
 457 00d2 15DC     		bgt	.L37
 375:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		gyro_result[i] = 0;
 458              		.loc 1 375 0 is_stmt 1 discriminator 3
 459 00d4 0022     		movs	r2, #0
 460 00d6 44F82320 		str	r2, [r4, r3, lsl #2]
 376:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		accel_result[i] = 0;
 461              		.loc 1 376 0 discriminator 3
 462 00da 45F82320 		str	r2, [r5, r3, lsl #2]
 374:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		gyro_result[i] = 0;
 463              		.loc 1 374 0 discriminator 3
 464 00de 0133     		adds	r3, r3, #1
 465              	.LVL92:
 466 00e0 F6E7     		b	.L11
 467              	.LVL93:
 468              	.L29:
ARM GAS  /tmp/ccZtroRg.s 			page 16


 307:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	else if (lp_mode == ST_ACCEL_LP_MODE)
 469              		.loc 1 307 0
 470 00e2 3822     		movs	r2, #56
 471              	.LVL94:
 472 00e4 9CE7     		b	.L6
 473              	.LVL95:
 474              	.L30:
 309:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	result |= inv_icm207xx_mems_write_reg_one(s, MPUREG_PWR_MGMT_2, d);
 475              		.loc 1 309 0
 476 00e6 0722     		movs	r2, #7
 477              	.LVL96:
 478 00e8 9AE7     		b	.L6
 479              	.LVL97:
 480              	.L35:
 338:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	else
 481              		.loc 1 338 0
 482 00ea 8022     		movs	r2, #128
 483 00ec C5E7     		b	.L7
 484              	.LVL98:
 485              	.L36:
 350:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	else
 486              		.loc 1 350 0
 487 00ee C822     		movs	r2, #200
 488 00f0 CCE7     		b	.L8
 489              	.LVL99:
 490              	.L9:
 358:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 491              		.loc 1 358 0
 492 00f2 0022     		movs	r2, #0
 493 00f4 1921     		movs	r1, #25
 494 00f6 4846     		mov	r0, r9
 495 00f8 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg_one
 496              	.LVL100:
 497 00fc 0643     		orrs	r6, r6, r0
 498              	.LVL101:
 499 00fe D3E7     		b	.L10
 500              	.LVL102:
 501              	.L37:
 377:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	}
 378:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 379:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	ss = 0;
 502              		.loc 1 379 0
 503 0100 0027     		movs	r7, #0
 504              	.LVL103:
 505              	.L13:
 380:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	while(ss < 200) {
 506              		.loc 1 380 0
 507 0102 C72F     		cmp	r7, #199
 508 0104 00F38E80 		bgt	.L38
 381:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		/* clear FIFO */
 382:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		result |= inv_icm207xx_mems_write_reg_one(s, MPUREG_USER_CTRL, BIT_FIFO_RST);
 509              		.loc 1 382 0
 510 0108 0422     		movs	r2, #4
 511 010a 6A21     		movs	r1, #106
 512 010c 4846     		mov	r0, r9
 513 010e FFF7FEFF 		bl	inv_icm207xx_mems_write_reg_one
 514              	.LVL104:
ARM GAS  /tmp/ccZtroRg.s 			page 17


 515 0112 0643     		orrs	r6, r6, r0
 516              	.LVL105:
 383:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 384:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		/* enable FIFO reading */
 385:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		result |= inv_icm207xx_mems_write_reg_one(s, MPUREG_USER_CTRL, BIT_FIFO_EN);
 517              		.loc 1 385 0
 518 0114 4022     		movs	r2, #64
 519 0116 6A21     		movs	r1, #106
 520 0118 4846     		mov	r0, r9
 521 011a FFF7FEFF 		bl	inv_icm207xx_mems_write_reg_one
 522              	.LVL106:
 523 011e 0643     		orrs	r6, r6, r0
 524              	.LVL107:
 386:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 387:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		/* accel lp mode */
 388:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		dd = CLK_SEL;
 389:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		if (lp_mode == ST_ACCEL_LP_MODE)
 525              		.loc 1 389 0
 526 0120 BBF1020F 		cmp	fp, #2
 527 0124 32D0     		beq	.L33
 388:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		if (lp_mode == ST_ACCEL_LP_MODE)
 528              		.loc 1 388 0
 529 0126 4FF00108 		mov	r8, #1
 530              	.L14:
 531              	.LVL108:
 390:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			dd |= BIT_CYCLE;
 391:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 392:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		result |= inv_icm207xx_mems_write_reg_one(s, MPUREG_FIFO_EN, d);
 532              		.loc 1 392 0
 533 012a 7822     		movs	r2, #120
 534 012c 2321     		movs	r1, #35
 535 012e 4846     		mov	r0, r9
 536 0130 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg_one
 537              	.LVL109:
 538 0134 0643     		orrs	r6, r6, r0
 539              	.LVL110:
 393:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 394:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		result |= inv_icm207xx_mems_write_reg_one(s, MPUREG_PWR_MGMT_1, dd);
 540              		.loc 1 394 0
 541 0136 4246     		mov	r2, r8
 542 0138 6B21     		movs	r1, #107
 543 013a 4846     		mov	r0, r9
 544 013c FFF7FEFF 		bl	inv_icm207xx_mems_write_reg_one
 545              	.LVL111:
 546 0140 0643     		orrs	r6, r6, r0
 547              	.LVL112:
 395:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 396:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		if (lp_mode)
 548              		.loc 1 396 0
 549 0142 BBF1000F 		cmp	fp, #0
 550 0146 24D0     		beq	.L15
 397:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			inv_icm207xx_sleep(DEF_GYRO_WAIT_TIME_LP);
 551              		.loc 1 397 0
 552 0148 4FF49670 		mov	r0, #300
 553 014c FFF7FEFF 		bl	inv_icm207xx_sleep
 554              	.LVL113:
 555              	.L16:
ARM GAS  /tmp/ccZtroRg.s 			page 18


 398:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		else
 399:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			inv_icm207xx_sleep(DEF_GYRO_WAIT_TIME);
 400:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 401:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		/* accel lp mode */
 402:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		if (lp_mode == ST_ACCEL_LP_MODE)
 556              		.loc 1 402 0
 557 0150 BBF1020F 		cmp	fp, #2
 558 0154 21D0     		beq	.L39
 559              	.L17:
 403:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			result |= inv_icm207xx_mems_write_reg_one(s, MPUREG_PWR_MGMT_1, CLK_SEL);
 404:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 405:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #if ((MEMS_CHIP != HW_ICM20602) && (MEMS_CHIP != HW_ICM20603))
 406:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		result |= inv_icm207xx_mems_write_reg_one(s, MPUREG_FIFO_EN, 0); // stop FIFO
 560              		.loc 1 406 0
 561 0156 0022     		movs	r2, #0
 562 0158 2321     		movs	r1, #35
 563 015a 4846     		mov	r0, r9
 564 015c FFF7FEFF 		bl	inv_icm207xx_mems_write_reg_one
 565              	.LVL114:
 566 0160 0643     		orrs	r6, r6, r0
 567              	.LVL115:
 407:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #endif
 408:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		result |= inv_icm207xx_mems_read_reg(s, MPUREG_FIFO_COUNTH, FIFO_COUNT_BYTE, data);
 568              		.loc 1 408 0
 569 0162 6B46     		mov	r3, sp
 570 0164 0222     		movs	r2, #2
 571 0166 7221     		movs	r1, #114
 572 0168 4846     		mov	r0, r9
 573 016a FFF7FEFF 		bl	inv_icm207xx_mems_read_reg
 574              	.LVL116:
 575 016e 0643     		orrs	r6, r6, r0
 576              	.LVL117:
 409:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 410:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		fifo_count = (data[0] << 8) | data[1];
 577              		.loc 1 410 0
 578 0170 9DF80030 		ldrb	r3, [sp]	@ zero_extendqisi2
 579 0174 9DF801A0 		ldrb	r10, [sp, #1]	@ zero_extendqisi2
 580 0178 4AEA032A 		orr	r10, r10, r3, lsl #8
 581              	.LVL118:
 411:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		packet_count = fifo_count / packet_size;
 582              		.loc 1 411 0
 583 017c 3A4B     		ldr	r3, .L42
 584 017e 83FB0A3A 		smull	r3, r10, r3, r10
 585              	.LVL119:
 586 0182 4FEA6A0A 		asr	r10, r10, #1
 587              	.LVL120:
 412:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 413:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		i = 0;
 588              		.loc 1 413 0
 589 0186 4FF00008 		mov	r8, #0
 590              	.LVL121:
 414:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		while ((i < packet_count) && (ss < 200)) {
 591              		.loc 1 414 0
 592 018a 3CE0     		b	.L18
 593              	.LVL122:
 594              	.L33:
 390:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
ARM GAS  /tmp/ccZtroRg.s 			page 19


 595              		.loc 1 390 0
 596 018c 4FF02108 		mov	r8, #33
 597 0190 CBE7     		b	.L14
 598              	.LVL123:
 599              	.L15:
 399:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 600              		.loc 1 399 0
 601 0192 3C20     		movs	r0, #60
 602 0194 FFF7FEFF 		bl	inv_icm207xx_sleep
 603              	.LVL124:
 604 0198 DAE7     		b	.L16
 605              	.L39:
 403:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 606              		.loc 1 403 0
 607 019a 0122     		movs	r2, #1
 608 019c 6B21     		movs	r1, #107
 609 019e 4846     		mov	r0, r9
 610 01a0 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg_one
 611              	.LVL125:
 612 01a4 0643     		orrs	r6, r6, r0
 613              	.LVL126:
 614 01a6 D6E7     		b	.L17
 615              	.LVL127:
 616              	.L20:
 617              	.LBB2:
 415:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			short vals[3];
 416:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			result |= inv_icm207xx_mems_read_reg(s, MPUREG_FIFO_R_W, packet_size, data);
 417:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			ind = 0;
 418:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			for (j = 0; j < THREE_AXES; j++) {
 419:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 				vals[j] = (data[ind + 2 * j] << 8) | data[ind + 2 * j + 1];
 618              		.loc 1 419 0 discriminator 3
 619 01a8 5300     		lsls	r3, r2, #1
 620 01aa 04A9     		add	r1, sp, #16
 621 01ac 1944     		add	r1, r1, r3
 622 01ae 11F8101C 		ldrb	r1, [r1, #-16]	@ zero_extendqisi2
 623 01b2 0133     		adds	r3, r3, #1
 624 01b4 04A8     		add	r0, sp, #16
 625 01b6 0344     		add	r3, r3, r0
 626 01b8 13F8103C 		ldrb	r3, [r3, #-16]	@ zero_extendqisi2
 627 01bc 43EA0123 		orr	r3, r3, r1, lsl #8
 420:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 				accel_result[j] += vals[j];
 628              		.loc 1 420 0 discriminator 3
 629 01c0 55F82210 		ldr	r1, [r5, r2, lsl #2]
 630 01c4 01FA83F3 		sxtah	r3, r1, r3
 631 01c8 45F82230 		str	r3, [r5, r2, lsl #2]
 418:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 				vals[j] = (data[ind + 2 * j] << 8) | data[ind + 2 * j + 1];
 632              		.loc 1 418 0 discriminator 3
 633 01cc 0132     		adds	r2, r2, #1
 634              	.LVL128:
 635              	.L19:
 418:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 				vals[j] = (data[ind + 2 * j] << 8) | data[ind + 2 * j + 1];
 636              		.loc 1 418 0 is_stmt 0 discriminator 1
 637 01ce 022A     		cmp	r2, #2
 638 01d0 EADD     		ble	.L20
 421:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			}
 422:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			ind += BYTES_PER_SENSOR;
 423:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #if ((MEMS_CHIP == HW_ICM20602) || (MEMS_CHIP == HW_ICM20603))
ARM GAS  /tmp/ccZtroRg.s 			page 20


 424:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			ind += BYTES_PER_TEMP_SENSOR;
 425:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #endif
 426:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			for (j = 0; j < THREE_AXES; j++) {
 639              		.loc 1 426 0 is_stmt 1
 640 01d2 0022     		movs	r2, #0
 641              	.LVL129:
 642 01d4 12E0     		b	.L21
 643              	.LVL130:
 644              	.L22:
 427:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 				vals[j] = (data[ind + 2 * j] << 8) | data[ind + 2 * j + 1];
 645              		.loc 1 427 0 discriminator 3
 646 01d6 5300     		lsls	r3, r2, #1
 647 01d8 991D     		adds	r1, r3, #6
 648 01da 04A8     		add	r0, sp, #16
 649 01dc 0144     		add	r1, r1, r0
 650 01de 11F8101C 		ldrb	r1, [r1, #-16]	@ zero_extendqisi2
 651 01e2 0733     		adds	r3, r3, #7
 652 01e4 0344     		add	r3, r3, r0
 653 01e6 13F8103C 		ldrb	r3, [r3, #-16]	@ zero_extendqisi2
 654 01ea 43EA0123 		orr	r3, r3, r1, lsl #8
 428:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 				gyro_result[j] += vals[j];
 655              		.loc 1 428 0 discriminator 3
 656 01ee 54F82210 		ldr	r1, [r4, r2, lsl #2]
 657 01f2 01FA83F3 		sxtah	r3, r1, r3
 658 01f6 44F82230 		str	r3, [r4, r2, lsl #2]
 426:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 				vals[j] = (data[ind + 2 * j] << 8) | data[ind + 2 * j + 1];
 659              		.loc 1 426 0 discriminator 3
 660 01fa 0132     		adds	r2, r2, #1
 661              	.LVL131:
 662              	.L21:
 426:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 				vals[j] = (data[ind + 2 * j] << 8) | data[ind + 2 * j + 1];
 663              		.loc 1 426 0 is_stmt 0 discriminator 1
 664 01fc 022A     		cmp	r2, #2
 665 01fe EADD     		ble	.L22
 429:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			}
 430:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			ss++;
 666              		.loc 1 430 0 is_stmt 1
 667 0200 0137     		adds	r7, r7, #1
 668              	.LVL132:
 431:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			i++;
 669              		.loc 1 431 0
 670 0202 08F10108 		add	r8, r8, #1
 671              	.LVL133:
 672              	.L18:
 673              	.LBE2:
 414:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			short vals[3];
 674              		.loc 1 414 0
 675 0206 D045     		cmp	r8, r10
 676 0208 BFF67BAF 		bge	.L13
 414:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			short vals[3];
 677              		.loc 1 414 0 is_stmt 0 discriminator 1
 678 020c C72F     		cmp	r7, #199
 679 020e 3FF778AF 		bgt	.L13
 680              	.LBB3:
 416:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			ind = 0;
 681              		.loc 1 416 0 is_stmt 1
 682 0212 6B46     		mov	r3, sp
ARM GAS  /tmp/ccZtroRg.s 			page 21


 683 0214 0C22     		movs	r2, #12
 684 0216 7421     		movs	r1, #116
 685 0218 4846     		mov	r0, r9
 686 021a FFF7FEFF 		bl	inv_icm207xx_mems_read_reg
 687              	.LVL134:
 688 021e 0643     		orrs	r6, r6, r0
 689              	.LVL135:
 418:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 				vals[j] = (data[ind + 2 * j] << 8) | data[ind + 2 * j + 1];
 690              		.loc 1 418 0
 691 0220 0022     		movs	r2, #0
 692 0222 D4E7     		b	.L19
 693              	.LVL136:
 694              	.L38:
 695              	.LBE3:
 432:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		}
 433:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	}
 434:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 435:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	for (j = 0; j < THREE_AXES; j++) {
 696              		.loc 1 435 0
 697 0224 0023     		movs	r3, #0
 698              	.L25:
 699              	.LVL137:
 700              		.loc 1 435 0 is_stmt 0 discriminator 1
 701 0226 022B     		cmp	r3, #2
 702 0228 0BDC     		bgt	.L40
 436:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		accel_result[j] = accel_result[j] / ss;
 703              		.loc 1 436 0 is_stmt 1 discriminator 3
 704 022a 55F82320 		ldr	r2, [r5, r3, lsl #2]
 705 022e 92FBF7F1 		sdiv	r1, r2, r7
 437:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		accel_result[j] *= DEF_ST_PRECISION;
 706              		.loc 1 437 0 discriminator 3
 707 0232 4FF47A72 		mov	r2, #1000
 708 0236 02FB01F2 		mul	r2, r2, r1
 709 023a 45F82320 		str	r2, [r5, r3, lsl #2]
 435:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		accel_result[j] = accel_result[j] / ss;
 710              		.loc 1 435 0 discriminator 3
 711 023e 0133     		adds	r3, r3, #1
 712              	.LVL138:
 713 0240 F1E7     		b	.L25
 714              	.L40:
 438:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	}
 439:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	for (j = 0; j < THREE_AXES; j++) {
 715              		.loc 1 439 0
 716 0242 0023     		movs	r3, #0
 717              	.LVL139:
 718              	.L27:
 719              		.loc 1 439 0 is_stmt 0 discriminator 1
 720 0244 022B     		cmp	r3, #2
 721 0246 0BDC     		bgt	.L41
 440:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		gyro_result[j] = gyro_result[j] / ss;
 722              		.loc 1 440 0 is_stmt 1 discriminator 3
 723 0248 54F82320 		ldr	r2, [r4, r3, lsl #2]
 724 024c 92FBF7F1 		sdiv	r1, r2, r7
 441:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		gyro_result[j] *= DEF_ST_PRECISION;
 725              		.loc 1 441 0 discriminator 3
 726 0250 4FF47A72 		mov	r2, #1000
 727 0254 02FB01F2 		mul	r2, r2, r1
ARM GAS  /tmp/ccZtroRg.s 			page 22


 728 0258 44F82320 		str	r2, [r4, r3, lsl #2]
 439:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		gyro_result[j] = gyro_result[j] / ss;
 729              		.loc 1 439 0 discriminator 3
 730 025c 0133     		adds	r3, r3, #1
 731              	.LVL140:
 732 025e F1E7     		b	.L27
 733              	.L41:
 442:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	}
 443:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 444:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	return result;
 445:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #endif
 446:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** }
 734              		.loc 1 446 0
 735 0260 3046     		mov	r0, r6
 736 0262 05B0     		add	sp, sp, #20
 737              	.LCFI4:
 738              		.cfi_def_cfa_offset 36
 739              		@ sp needed
 740 0264 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 741              	.LVL141:
 742              	.L43:
 743              		.align	2
 744              	.L42:
 745 0268 ABAAAA2A 		.word	715827883
 746              		.cfi_endproc
 747              	.LFE16:
 749              		.section	.text.check_accel_self_test,"ax",%progbits
 750              		.align	1
 751              		.syntax unified
 752              		.thumb
 753              		.thumb_func
 754              		.fpu fpv4-sp-d16
 756              	check_accel_self_test:
 757              	.LFB15:
 237:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	int ret_val = 0;
 758              		.loc 1 237 0
 759              		.cfi_startproc
 760              		@ args = 0, pretend = 0, frame = 16
 761              		@ frame_needed = 0, uses_anonymous_args = 0
 762              	.LVL142:
 763 0000 70B5     		push	{r4, r5, r6, lr}
 764              	.LCFI5:
 765              		.cfi_def_cfa_offset 16
 766              		.cfi_offset 4, -16
 767              		.cfi_offset 5, -12
 768              		.cfi_offset 6, -8
 769              		.cfi_offset 14, -4
 770 0002 84B0     		sub	sp, sp, #16
 771              	.LCFI6:
 772              		.cfi_def_cfa_offset 32
 773 0004 0C46     		mov	r4, r1
 774 0006 1546     		mov	r5, r2
 775              	.LVL143:
 251:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	if (result)
 776              		.loc 1 251 0
 777 0008 03AB     		add	r3, sp, #12
 778 000a 0322     		movs	r2, #3
ARM GAS  /tmp/ccZtroRg.s 			page 23


 779              	.LVL144:
 780 000c 0D21     		movs	r1, #13
 781              	.LVL145:
 782 000e FFF7FEFF 		bl	inv_icm207xx_mems_read_reg
 783              	.LVL146:
 252:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		return result;
 784              		.loc 1 252 0
 785 0012 0646     		mov	r6, r0
 786 0014 0028     		cmp	r0, #0
 787 0016 3CD1     		bne	.L44
 255:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		if (regs[i] != 0) {
 788              		.loc 1 255 0
 789 0018 0346     		mov	r3, r0
 247:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	int st_shift_prod[3], st_shift_cust[3], st_shift_ratio[3], i;
 790              		.loc 1 247 0
 791 001a 0146     		mov	r1, r0
 792 001c 07E0     		b	.L46
 793              	.LVL147:
 794              	.L47:
 259:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			otp_value_zero = 1;
 795              		.loc 1 259 0
 796 001e 0021     		movs	r1, #0
 797              	.LVL148:
 798 0020 04AA     		add	r2, sp, #16
 799 0022 02EB8302 		add	r2, r2, r3, lsl #2
 800 0026 42F8101C 		str	r1, [r2, #-16]
 801              	.LVL149:
 260:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		}
 802              		.loc 1 260 0
 803 002a 0121     		movs	r1, #1
 804              	.LVL150:
 805              	.L48:
 255:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		if (regs[i] != 0) {
 806              		.loc 1 255 0 discriminator 2
 807 002c 0133     		adds	r3, r3, #1
 808              	.LVL151:
 809              	.L46:
 255:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		if (regs[i] != 0) {
 810              		.loc 1 255 0 is_stmt 0 discriminator 1
 811 002e 022B     		cmp	r3, #2
 812 0030 0FDC     		bgt	.L61
 256:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			st_shift_prod[i] = sSelfTestEquation[regs[i] - 1];
 813              		.loc 1 256 0 is_stmt 1
 814 0032 04AA     		add	r2, sp, #16
 815 0034 1A44     		add	r2, r2, r3
 816 0036 12F8042C 		ldrb	r2, [r2, #-4]	@ zero_extendqisi2
 817 003a 002A     		cmp	r2, #0
 818 003c EFD0     		beq	.L47
 257:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		} else {
 819              		.loc 1 257 0
 820 003e 013A     		subs	r2, r2, #1
 821 0040 1E48     		ldr	r0, .L64
 822 0042 30F81200 		ldrh	r0, [r0, r2, lsl #1]
 823 0046 04AA     		add	r2, sp, #16
 824 0048 02EB8302 		add	r2, r2, r3, lsl #2
 825 004c 42F8100C 		str	r0, [r2, #-16]
 826 0050 ECE7     		b	.L48
ARM GAS  /tmp/ccZtroRg.s 			page 24


 827              	.L61:
 264:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		/* Self Test Pass/Fail Criteria A */
 828              		.loc 1 264 0
 829 0052 D9B1     		cbz	r1, .L57
 274:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			st_shift_cust[i] = INV_ABS(meanSelfTestValues[i] - meanNormalTestValues[i]);
 830              		.loc 1 274 0
 831 0054 3246     		mov	r2, r6
 832 0056 20E0     		b	.L51
 833              	.LVL152:
 834              	.L63:
 268:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			if (st_shift_ratio[i] > DEF_ACCEL_ST_SHIFT_DELTA)
 835              		.loc 1 268 0 discriminator 1
 836 0058 C3F57A70 		rsb	r0, r3, #1000
 837 005c 11E0     		b	.L52
 838              	.LVL153:
 839              	.L53:
 266:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			st_shift_cust[i] = meanSelfTestValues[i] - meanNormalTestValues[i];
 840              		.loc 1 266 0 discriminator 2
 841 005e 0132     		adds	r2, r2, #1
 842              	.LVL154:
 843              	.L50:
 266:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			st_shift_cust[i] = meanSelfTestValues[i] - meanNormalTestValues[i];
 844              		.loc 1 266 0 is_stmt 0 discriminator 1
 845 0060 022A     		cmp	r2, #2
 846 0062 15DC     		bgt	.L62
 267:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			st_shift_ratio[i] = INV_ABS(st_shift_cust[i] / st_shift_prod[i] - DEF_ST_PRECISION);
 847              		.loc 1 267 0 is_stmt 1
 848 0064 55F82230 		ldr	r3, [r5, r2, lsl #2]
 849 0068 54F82200 		ldr	r0, [r4, r2, lsl #2]
 850 006c 1B1A     		subs	r3, r3, r0
 268:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			if (st_shift_ratio[i] > DEF_ACCEL_ST_SHIFT_DELTA)
 851              		.loc 1 268 0
 852 006e 04A8     		add	r0, sp, #16
 853 0070 00EB8200 		add	r0, r0, r2, lsl #2
 854 0074 50F8100C 		ldr	r0, [r0, #-16]
 855 0078 93FBF0F3 		sdiv	r3, r3, r0
 856 007c B3F57A70 		subs	r0, r3, #1000
 857 0080 EAD4     		bmi	.L63
 858              	.L52:
 269:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 				ret_val = 1;
 859              		.loc 1 269 0 discriminator 4
 860 0082 B0F5FA7F 		cmp	r0, #500
 861 0086 EADD     		ble	.L53
 270:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		}
 862              		.loc 1 270 0
 863 0088 0121     		movs	r1, #1
 864              	.LVL155:
 865 008a E8E7     		b	.L53
 866              	.LVL156:
 867              	.L57:
 266:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			st_shift_cust[i] = meanSelfTestValues[i] - meanNormalTestValues[i];
 868              		.loc 1 266 0
 869 008c 0A46     		mov	r2, r1
 870 008e E7E7     		b	.L50
 871              	.LVL157:
 872              	.L62:
 873 0090 0E46     		mov	r6, r1
ARM GAS  /tmp/ccZtroRg.s 			page 25


 874              	.LVL158:
 875              	.L44:
 283:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #endif
 876              		.loc 1 283 0
 877 0092 3046     		mov	r0, r6
 878 0094 04B0     		add	sp, sp, #16
 879              	.LCFI7:
 880              		.cfi_remember_state
 881              		.cfi_def_cfa_offset 16
 882              		@ sp needed
 883 0096 70BD     		pop	{r4, r5, r6, pc}
 884              	.LVL159:
 885              	.L55:
 886              	.LCFI8:
 887              		.cfi_restore_state
 274:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			st_shift_cust[i] = INV_ABS(meanSelfTestValues[i] - meanNormalTestValues[i]);
 888              		.loc 1 274 0 discriminator 2
 889 0098 0132     		adds	r2, r2, #1
 890              	.LVL160:
 891              	.L51:
 274:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			st_shift_cust[i] = INV_ABS(meanSelfTestValues[i] - meanNormalTestValues[i]);
 892              		.loc 1 274 0 is_stmt 0 discriminator 1
 893 009a 022A     		cmp	r2, #2
 894 009c F9DC     		bgt	.L44
 275:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			if (st_shift_cust[i] < ACCEL_ST_AL_MIN || st_shift_cust[i] > ACCEL_ST_AL_MAX)
 895              		.loc 1 275 0 is_stmt 1
 896 009e 55F82230 		ldr	r3, [r5, r2, lsl #2]
 897 00a2 54F82200 		ldr	r0, [r4, r2, lsl #2]
 898 00a6 1B1A     		subs	r3, r3, r0
 899 00a8 002B     		cmp	r3, #0
 900 00aa B8BF     		it	lt
 901 00ac 5B42     		rsblt	r3, r3, #0
 276:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 				ret_val = 1;
 902              		.loc 1 276 0
 903 00ae 0448     		ldr	r0, .L64+4
 904 00b0 1844     		add	r0, r0, r3
 905 00b2 044B     		ldr	r3, .L64+8
 906 00b4 9842     		cmp	r0, r3
 907 00b6 EFD9     		bls	.L55
 277:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		}
 908              		.loc 1 277 0
 909 00b8 0E46     		mov	r6, r1
 910              	.LVL161:
 911 00ba EDE7     		b	.L55
 912              	.L65:
 913              		.align	2
 914              	.L64:
 915 00bc 00000000 		.word	.LANCHOR0
 916 00c0 90C1C7FF 		.word	-3686000
 917 00c4 C8807000 		.word	7373000
 918              		.cfi_endproc
 919              	.LFE15:
 921              		.section	.text.check_gyro_self_test,"ax",%progbits
 922              		.align	1
 923              		.syntax unified
 924              		.thumb
 925              		.thumb_func
ARM GAS  /tmp/ccZtroRg.s 			page 26


 926              		.fpu fpv4-sp-d16
 928              	check_gyro_self_test:
 929              	.LFB14:
 176:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	int ret_val = 0;
 930              		.loc 1 176 0
 931              		.cfi_startproc
 932              		@ args = 0, pretend = 0, frame = 16
 933              		@ frame_needed = 0, uses_anonymous_args = 0
 934              	.LVL162:
 935 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 936              	.LCFI9:
 937              		.cfi_def_cfa_offset 20
 938              		.cfi_offset 4, -20
 939              		.cfi_offset 5, -16
 940              		.cfi_offset 6, -12
 941              		.cfi_offset 7, -8
 942              		.cfi_offset 14, -4
 943 0002 85B0     		sub	sp, sp, #20
 944              	.LCFI10:
 945              		.cfi_def_cfa_offset 40
 946 0004 0C46     		mov	r4, r1
 947 0006 1546     		mov	r5, r2
 948              	.LVL163:
 190:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	if (result)
 949              		.loc 1 190 0
 950 0008 03AB     		add	r3, sp, #12
 951 000a 0322     		movs	r2, #3
 952              	.LVL164:
 953 000c 0021     		movs	r1, #0
 954              	.LVL165:
 955 000e FFF7FEFF 		bl	inv_icm207xx_mems_read_reg
 956              	.LVL166:
 191:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		return result;
 957              		.loc 1 191 0
 958 0012 0146     		mov	r1, r0
 959 0014 0028     		cmp	r0, #0
 960 0016 49D1     		bne	.L66
 194:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		if (regs[i] != 0) {
 961              		.loc 1 194 0
 962 0018 0346     		mov	r3, r0
 963 001a 07E0     		b	.L68
 964              	.LVL167:
 965              	.L69:
 198:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			otp_value_zero = 1;
 966              		.loc 1 198 0
 967 001c 0020     		movs	r0, #0
 968              	.LVL168:
 969 001e 04AA     		add	r2, sp, #16
 970 0020 02EB8302 		add	r2, r2, r3, lsl #2
 971 0024 42F8100C 		str	r0, [r2, #-16]
 972              	.LVL169:
 199:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		}
 973              		.loc 1 199 0
 974 0028 0120     		movs	r0, #1
 975              	.LVL170:
 976              	.L70:
 194:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		if (regs[i] != 0) {
ARM GAS  /tmp/ccZtroRg.s 			page 27


 977              		.loc 1 194 0 discriminator 2
 978 002a 0133     		adds	r3, r3, #1
 979              	.LVL171:
 980              	.L68:
 194:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		if (regs[i] != 0) {
 981              		.loc 1 194 0 is_stmt 0 discriminator 1
 982 002c 022B     		cmp	r3, #2
 983 002e 0FDC     		bgt	.L84
 195:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			st_shift_prod[i] = sSelfTestEquation[regs[i] - 1];
 984              		.loc 1 195 0 is_stmt 1
 985 0030 04AA     		add	r2, sp, #16
 986 0032 1A44     		add	r2, r2, r3
 987 0034 12F8042C 		ldrb	r2, [r2, #-4]	@ zero_extendqisi2
 988 0038 002A     		cmp	r2, #0
 989 003a EFD0     		beq	.L69
 196:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		} else {
 990              		.loc 1 196 0
 991 003c 013A     		subs	r2, r2, #1
 992 003e 1D4E     		ldr	r6, .L86
 993 0040 36F81260 		ldrh	r6, [r6, r2, lsl #1]
 994 0044 04AA     		add	r2, sp, #16
 995 0046 02EB8302 		add	r2, r2, r3, lsl #2
 996 004a 42F8106C 		str	r6, [r2, #-16]
 997 004e ECE7     		b	.L70
 998              	.L84:
 203:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		st_shift_cust[i] = meanSelfTestValues[i] - meanNormalTestValues[i];
 999              		.loc 1 203 0
 1000 0050 0B46     		mov	r3, r1
 1001              	.LVL172:
 1002 0052 03E0     		b	.L72
 1003              	.LVL173:
 1004              	.L73:
 211:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 				ret_val = 1;
 1005              		.loc 1 211 0
 1006 0054 184E     		ldr	r6, .L86+4
 1007 0056 B242     		cmp	r2, r6
 1008 0058 16DD     		ble	.L80
 1009              	.LVL174:
 1010              	.L74:
 203:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		st_shift_cust[i] = meanSelfTestValues[i] - meanNormalTestValues[i];
 1011              		.loc 1 203 0 discriminator 2
 1012 005a 0133     		adds	r3, r3, #1
 1013              	.LVL175:
 1014              	.L72:
 203:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		st_shift_cust[i] = meanSelfTestValues[i] - meanNormalTestValues[i];
 1015              		.loc 1 203 0 is_stmt 0 discriminator 1
 1016 005c 022B     		cmp	r3, #2
 1017 005e 15DC     		bgt	.L85
 204:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		if (!otp_value_zero) {
 1018              		.loc 1 204 0 is_stmt 1
 1019 0060 55F82320 		ldr	r2, [r5, r3, lsl #2]
 1020 0064 54F82360 		ldr	r6, [r4, r3, lsl #2]
 1021 0068 921B     		subs	r2, r2, r6
 205:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			/* Self Test Pass/Fail Criteria A */
 1022              		.loc 1 205 0
 1023 006a 0028     		cmp	r0, #0
 1024 006c F2D1     		bne	.L73
ARM GAS  /tmp/ccZtroRg.s 			page 28


 207:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 				ret_val = 1;
 1025              		.loc 1 207 0
 1026 006e 04AE     		add	r6, sp, #16
 1027 0070 06EB8306 		add	r6, r6, r3, lsl #2
 1028 0074 56F8107C 		ldr	r7, [r6, #-16]
 1029 0078 4FF4FA76 		mov	r6, #500
 1030 007c 06FB07F6 		mul	r6, r6, r7
 1031 0080 B242     		cmp	r2, r6
 1032 0082 EADA     		bge	.L74
 208:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		} else {
 1033              		.loc 1 208 0
 1034 0084 0121     		movs	r1, #1
 1035              	.LVL176:
 1036 0086 E8E7     		b	.L74
 1037              	.LVL177:
 1038              	.L80:
 212:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		}
 1039              		.loc 1 212 0
 1040 0088 0146     		mov	r1, r0
 1041              	.LVL178:
 1042 008a E6E7     		b	.L74
 1043              	.LVL179:
 1044              	.L85:
 216:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		/* Self Test Pass/Fail Criteria C */
 1045              		.loc 1 216 0
 1046 008c 71B9     		cbnz	r1, .L66
 218:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			if (INV_ABS(meanNormalTestValues[i]) > DEF_GYRO_OFFSET_MAX * DEF_SELFTEST_GYRO_SENS * DEF_ST_PRE
 1047              		.loc 1 218 0
 1048 008e 0B46     		mov	r3, r1
 1049              	.LVL180:
 1050 0090 00E0     		b	.L76
 1051              	.LVL181:
 1052              	.L77:
 218:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			if (INV_ABS(meanNormalTestValues[i]) > DEF_GYRO_OFFSET_MAX * DEF_SELFTEST_GYRO_SENS * DEF_ST_PRE
 1053              		.loc 1 218 0 is_stmt 0 discriminator 2
 1054 0092 0133     		adds	r3, r3, #1
 1055              	.LVL182:
 1056              	.L76:
 218:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			if (INV_ABS(meanNormalTestValues[i]) > DEF_GYRO_OFFSET_MAX * DEF_SELFTEST_GYRO_SENS * DEF_ST_PRE
 1057              		.loc 1 218 0 discriminator 1
 1058 0094 022B     		cmp	r3, #2
 1059 0096 09DC     		bgt	.L66
 219:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 				ret_val = 1;
 1060              		.loc 1 219 0 is_stmt 1
 1061 0098 54F82320 		ldr	r2, [r4, r3, lsl #2]
 1062 009c 002A     		cmp	r2, #0
 1063 009e B8BF     		it	lt
 1064 00a0 5242     		rsblt	r2, r2, #0
 1065 00a2 0648     		ldr	r0, .L86+8
 1066 00a4 8242     		cmp	r2, r0
 1067 00a6 F4DD     		ble	.L77
 220:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		}
 1068              		.loc 1 220 0
 1069 00a8 0121     		movs	r1, #1
 1070              	.LVL183:
 1071 00aa F2E7     		b	.L77
 1072              	.LVL184:
ARM GAS  /tmp/ccZtroRg.s 			page 29


 1073              	.L66:
 226:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #endif
 1074              		.loc 1 226 0
 1075 00ac 0846     		mov	r0, r1
 1076 00ae 05B0     		add	sp, sp, #20
 1077              	.LCFI11:
 1078              		.cfi_def_cfa_offset 20
 1079              		@ sp needed
 1080 00b0 F0BD     		pop	{r4, r5, r6, r7, pc}
 1081              	.LVL185:
 1082              	.L87:
 1083 00b2 00BF     		.align	2
 1084              	.L86:
 1085 00b4 00000000 		.word	.LANCHOR0
 1086 00b8 1FEF7700 		.word	7859999
 1087 00bc 60FA2700 		.word	2620000
 1088              		.cfi_endproc
 1089              	.LFE14:
 1091              		.section	.text.inv_icm207xx_run_selftest,"ax",%progbits
 1092              		.align	1
 1093              		.global	inv_icm207xx_run_selftest
 1094              		.syntax unified
 1095              		.thumb
 1096              		.thumb_func
 1097              		.fpu fpv4-sp-d16
 1099              	inv_icm207xx_run_selftest:
 1100              	.LFB17:
 447:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #endif
 448:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 449:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** int inv_icm207xx_run_selftest(struct inv_icm207xx * s)
 450:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** {
 1101              		.loc 1 450 0
 1102              		.cfi_startproc
 1103              		@ args = 0, pretend = 0, frame = 88
 1104              		@ frame_needed = 0, uses_anonymous_args = 0
 1105              	.LVL186:
 1106 0000 70B5     		push	{r4, r5, r6, lr}
 1107              	.LCFI12:
 1108              		.cfi_def_cfa_offset 16
 1109              		.cfi_offset 4, -16
 1110              		.cfi_offset 5, -12
 1111              		.cfi_offset 6, -8
 1112              		.cfi_offset 14, -4
 1113 0002 98B0     		sub	sp, sp, #96
 1114              	.LCFI13:
 1115              		.cfi_def_cfa_offset 112
 1116 0004 0446     		mov	r4, r0
 1117              	.LVL187:
 451:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #if ((MEMS_CHIP != HW_ICM20690) && (MEMS_CHIP != HW_ICM20602) && (MEMS_CHIP != HW_ICM20603) && (MEM
 452:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 453:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	(void)s;
 454:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 455:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	return -1;
 456:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #else
 457:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	int result = 0;
 458:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	int gyro_bias_st[THREE_AXES], gyro_bias_regular[THREE_AXES];
 459:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	int accel_bias_st[THREE_AXES], accel_bias_regular[THREE_AXES];
ARM GAS  /tmp/ccZtroRg.s 			page 30


 460:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	int gyro_bias_regular_lp[THREE_AXES], accel_bias_regular_lp[THREE_AXES];
 461:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	int test_times;
 462:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	char accel_result, gyro_result, compass_result;
 463:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	int i;
 464:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	struct recover_regs recover_regs;
 465:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 466:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	result |= save_settings(s, &recover_regs);
 1118              		.loc 1 466 0
 1119 0006 03A9     		add	r1, sp, #12
 1120 0008 FFF7FEFF 		bl	save_settings
 1121              	.LVL188:
 1122 000c 0546     		mov	r5, r0
 1123              	.LVL189:
 467:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 468:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	/* enable sensros */
 469:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	result |= inv_icm207xx_mems_write_reg_one(s, MPUREG_PWR_MGMT_2, 0);
 1124              		.loc 1 469 0
 1125 000e 0022     		movs	r2, #0
 1126 0010 6C21     		movs	r1, #108
 1127 0012 2046     		mov	r0, r4
 1128              	.LVL190:
 1129 0014 FFF7FEFF 		bl	inv_icm207xx_mems_write_reg_one
 1130              	.LVL191:
 1131 0018 0543     		orrs	r5, r5, r0
 1132              	.LVL192:
 470:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	inv_icm207xx_sleep(GYRO_ENGINE_UP_TIME);
 1133              		.loc 1 470 0
 1134 001a 3220     		movs	r0, #50
 1135 001c FFF7FEFF 		bl	inv_icm207xx_sleep
 1136              	.LVL193:
 471:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 472:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	accel_result = 0;
 473:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	gyro_result = 0;
 474:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	compass_result = 0;
 475:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 476:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	/* (1) hardware self-test */
 477:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	/* Collect averaged data of gyro and accel in normal mode.
 478:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	   Try up to DEF_ST_TRY_TIMES times in case of some error such as I2C error.
 479:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	   The collected data can be utilized as factory bias of normal mode.
 480:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	   Will be checked later.*/
 481:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	test_times = DEF_ST_TRY_TIMES;
 1137              		.loc 1 481 0
 1138 0020 0226     		movs	r6, #2
 1139              	.LVL194:
 1140              	.L89:
 482:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	while (test_times > 0) {
 1141              		.loc 1 482 0
 1142 0022 002E     		cmp	r6, #0
 1143 0024 0ADD     		ble	.L90
 483:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		result = do_test(s, 0, gyro_bias_regular, accel_bias_regular, ST_NORMAL_MODE);
 1144              		.loc 1 483 0
 1145 0026 0021     		movs	r1, #0
 1146 0028 0091     		str	r1, [sp]
 1147 002a 0CAB     		add	r3, sp, #48
 1148 002c 12AA     		add	r2, sp, #72
 1149 002e 2046     		mov	r0, r4
 1150 0030 FFF7FEFF 		bl	do_test
ARM GAS  /tmp/ccZtroRg.s 			page 31


 1151              	.LVL195:
 484:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		if (result)
 1152              		.loc 1 484 0
 1153 0034 0546     		mov	r5, r0
 1154 0036 08B1     		cbz	r0, .L90
 485:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			test_times--;
 1155              		.loc 1 485 0
 1156 0038 013E     		subs	r6, r6, #1
 1157              	.LVL196:
 1158 003a F2E7     		b	.L89
 1159              	.LVL197:
 1160              	.L90:
 486:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		else
 487:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			break;
 488:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	}
 489:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	if (result)
 1161              		.loc 1 489 0
 1162 003c 002D     		cmp	r5, #0
 1163 003e 40F08D80 		bne	.L108
 490:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		goto test_fail;
 491:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 492:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	for (i = 0; i < 3; i++) {
 1164              		.loc 1 492 0
 1165 0042 2946     		mov	r1, r5
 1166 0044 1BE0     		b	.L93
 1167              	.LVL198:
 1168              	.L94:
 493:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		s->gyro_ois_st_bias[i] = gyro_bias_regular[i] / DEF_ST_PRECISION;
 1169              		.loc 1 493 0 discriminator 3
 1170 0046 18AB     		add	r3, sp, #96
 1171 0048 03EB8103 		add	r3, r3, r1, lsl #2
 1172 004c 53F8182C 		ldr	r2, [r3, #-24]
 1173 0050 4C48     		ldr	r0, .L113
 1174 0052 80FB02C6 		smull	ip, r6, r0, r2
 1175 0056 D217     		asrs	r2, r2, #31
 1176 0058 C2EBA612 		rsb	r2, r2, r6, asr #6
 1177 005c 01F11A06 		add	r6, r1, #26
 1178 0060 44F82620 		str	r2, [r4, r6, lsl #2]
 494:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		s->accel_ois_st_bias[i] = accel_bias_regular[i] / DEF_ST_PRECISION;
 1179              		.loc 1 494 0 discriminator 3
 1180 0064 53F8303C 		ldr	r3, [r3, #-48]
 1181 0068 80FB0320 		smull	r2, r0, r0, r3
 1182 006c DB17     		asrs	r3, r3, #31
 1183 006e C3EBA013 		rsb	r3, r3, r0, asr #6
 1184 0072 01F11C02 		add	r2, r1, #28
 1185 0076 04EB8202 		add	r2, r4, r2, lsl #2
 1186 007a 5360     		str	r3, [r2, #4]
 492:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		s->gyro_ois_st_bias[i] = gyro_bias_regular[i] / DEF_ST_PRECISION;
 1187              		.loc 1 492 0 discriminator 3
 1188 007c 0131     		adds	r1, r1, #1
 1189              	.LVL199:
 1190              	.L93:
 492:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		s->gyro_ois_st_bias[i] = gyro_bias_regular[i] / DEF_ST_PRECISION;
 1191              		.loc 1 492 0 is_stmt 0 discriminator 1
 1192 007e 0229     		cmp	r1, #2
 1193 0080 E1DD     		ble	.L94
 495:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	}
ARM GAS  /tmp/ccZtroRg.s 			page 32


 496:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 497:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	/* (2) hardware self-test */
 498:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	/* Collect averaged data of gyro and accel in hardware selftest mode.
 499:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	   Try up to DEF_ST_TRY_TIMES times in case of some error such as I2C error.
 500:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	   Will be checked later */	
 501:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	test_times = DEF_ST_TRY_TIMES;
 1194              		.loc 1 501 0 is_stmt 1
 1195 0082 0226     		movs	r6, #2
 1196              	.LVL200:
 1197              	.L95:
 502:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	while (test_times > 0) {
 1198              		.loc 1 502 0
 1199 0084 002E     		cmp	r6, #0
 1200 0086 0BDD     		ble	.L96
 503:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		result = do_test(s, (BIT_XG_ST | BIT_YG_ST | BIT_ZG_ST), gyro_bias_st, accel_bias_st, ST_NORMAL_M
 1201              		.loc 1 503 0
 1202 0088 0023     		movs	r3, #0
 1203 008a 0093     		str	r3, [sp]
 1204 008c 0FAB     		add	r3, sp, #60
 1205 008e 15AA     		add	r2, sp, #84
 1206 0090 E021     		movs	r1, #224
 1207 0092 2046     		mov	r0, r4
 1208 0094 FFF7FEFF 		bl	do_test
 1209              	.LVL201:
 504:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		if (result)
 1210              		.loc 1 504 0
 1211 0098 0546     		mov	r5, r0
 1212 009a 08B1     		cbz	r0, .L96
 505:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			test_times--;
 1213              		.loc 1 505 0
 1214 009c 013E     		subs	r6, r6, #1
 1215              	.LVL202:
 1216 009e F1E7     		b	.L95
 1217              	.LVL203:
 1218              	.L96:
 506:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		else
 507:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			break;
 508:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	}
 509:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	if (result)
 1219              		.loc 1 509 0
 1220 00a0 002D     		cmp	r5, #0
 1221 00a2 68D1     		bne	.L109
 510:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		goto test_fail;
 511:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 512:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	/* (3) Bias collection for accel lp mode */
 513:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	/* Collect averaged accel data in lp mode.
 514:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	   Try up to DEF_ST_TRY_TIMES times in case of some error such as I2C error.
 515:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	   This is only for factory bias of accel lp mode */	
 516:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	test_times = DEF_ST_TRY_TIMES;
 1222              		.loc 1 516 0
 1223 00a4 0226     		movs	r6, #2
 1224              	.LVL204:
 1225              	.L98:
 517:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	while (test_times > 0) {
 1226              		.loc 1 517 0
 1227 00a6 002E     		cmp	r6, #0
 1228 00a8 0BDD     		ble	.L99
ARM GAS  /tmp/ccZtroRg.s 			page 33


 518:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		result = do_test(s, 0, gyro_bias_regular_lp, accel_bias_regular_lp, ST_ACCEL_LP_MODE);
 1229              		.loc 1 518 0
 1230 00aa 0223     		movs	r3, #2
 1231 00ac 0093     		str	r3, [sp]
 1232 00ae 06AB     		add	r3, sp, #24
 1233 00b0 09AA     		add	r2, sp, #36
 1234 00b2 0021     		movs	r1, #0
 1235 00b4 2046     		mov	r0, r4
 1236 00b6 FFF7FEFF 		bl	do_test
 1237              	.LVL205:
 519:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		if (result)
 1238              		.loc 1 519 0
 1239 00ba 0546     		mov	r5, r0
 1240 00bc 08B1     		cbz	r0, .L99
 520:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			test_times--;
 1241              		.loc 1 520 0
 1242 00be 013E     		subs	r6, r6, #1
 1243              	.LVL206:
 1244 00c0 F1E7     		b	.L98
 1245              	.LVL207:
 1246              	.L99:
 521:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		else
 522:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			break;
 523:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	}
 524:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	if (result)
 1247              		.loc 1 524 0
 1248 00c2 002D     		cmp	r5, #0
 1249 00c4 5AD1     		bne	.L110
 525:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		goto test_fail;
 526:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 527:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	for (i = 0; i < 3; i++) {
 1250              		.loc 1 527 0
 1251 00c6 2A46     		mov	r2, r5
 1252 00c8 10E0     		b	.L101
 1253              	.LVL208:
 1254              	.L102:
 528:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		s->accel_st_bias[i] = accel_bias_regular_lp[i] / DEF_ST_PRECISION;
 1255              		.loc 1 528 0 discriminator 3
 1256 00ca 18AB     		add	r3, sp, #96
 1257 00cc 03EB8203 		add	r3, r3, r2, lsl #2
 1258 00d0 53F8483C 		ldr	r3, [r3, #-72]
 1259 00d4 2B49     		ldr	r1, .L113
 1260 00d6 81FB0301 		smull	r0, r1, r1, r3
 1261 00da DB17     		asrs	r3, r3, #31
 1262 00dc C3EBA113 		rsb	r3, r3, r1, asr #6
 1263 00e0 02F12201 		add	r1, r2, #34
 1264 00e4 04EB8101 		add	r1, r4, r1, lsl #2
 1265 00e8 4B60     		str	r3, [r1, #4]
 527:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		s->accel_st_bias[i] = accel_bias_regular_lp[i] / DEF_ST_PRECISION;
 1266              		.loc 1 527 0 discriminator 3
 1267 00ea 0132     		adds	r2, r2, #1
 1268              	.LVL209:
 1269              	.L101:
 527:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		s->accel_st_bias[i] = accel_bias_regular_lp[i] / DEF_ST_PRECISION;
 1270              		.loc 1 527 0 is_stmt 0 discriminator 1
 1271 00ec 022A     		cmp	r2, #2
 1272 00ee ECDD     		ble	.L102
ARM GAS  /tmp/ccZtroRg.s 			page 34


 529:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	}
 530:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 531:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	/* (4) Bias collection for gyro lp mode */
 532:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	/* Collect averaged gyro data in lp mode.
 533:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	   Try up to DEF_ST_TRY_TIMES times in case of some error such as I2C error.
 534:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	   This is only for factory bias of gyro lp mode */	
 535:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	test_times = DEF_ST_TRY_TIMES;
 1273              		.loc 1 535 0 is_stmt 1
 1274 00f0 0226     		movs	r6, #2
 1275              	.LVL210:
 1276              	.L103:
 536:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	while (test_times > 0) {
 1277              		.loc 1 536 0
 1278 00f2 002E     		cmp	r6, #0
 1279 00f4 0BDD     		ble	.L104
 537:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		result = do_test(s, 0, gyro_bias_regular_lp, accel_bias_regular_lp, ST_GYRO_LP_MODE);
 1280              		.loc 1 537 0
 1281 00f6 0123     		movs	r3, #1
 1282 00f8 0093     		str	r3, [sp]
 1283 00fa 06AB     		add	r3, sp, #24
 1284 00fc 09AA     		add	r2, sp, #36
 1285 00fe 0021     		movs	r1, #0
 1286 0100 2046     		mov	r0, r4
 1287 0102 FFF7FEFF 		bl	do_test
 1288              	.LVL211:
 538:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		if (result)
 1289              		.loc 1 538 0
 1290 0106 0546     		mov	r5, r0
 1291 0108 08B1     		cbz	r0, .L104
 539:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			test_times--;
 1292              		.loc 1 539 0
 1293 010a 013E     		subs	r6, r6, #1
 1294              	.LVL212:
 1295 010c F1E7     		b	.L103
 1296              	.LVL213:
 1297              	.L104:
 540:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		else
 541:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			break;
 542:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	}
 543:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	if (result)
 1298              		.loc 1 543 0
 1299 010e 95B1     		cbz	r5, .L106
 473:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	compass_result = 0;
 1300              		.loc 1 473 0
 1301 0110 0025     		movs	r5, #0
 1302              	.LVL214:
 472:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	gyro_result = 0;
 1303              		.loc 1 472 0
 1304 0112 2E46     		mov	r6, r5
 1305              	.LVL215:
 1306 0114 24E0     		b	.L92
 1307              	.LVL216:
 1308              	.L107:
 544:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		goto test_fail;
 545:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 546:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	for (i = 0; i < 3; i++) {
 547:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		s->gyro_st_bias[i] = gyro_bias_regular_lp[i] / DEF_ST_PRECISION;
ARM GAS  /tmp/ccZtroRg.s 			page 35


 1309              		.loc 1 547 0 discriminator 3
 1310 0116 18AB     		add	r3, sp, #96
 1311 0118 03EB8503 		add	r3, r3, r5, lsl #2
 1312 011c 53F83C3C 		ldr	r3, [r3, #-60]
 1313 0120 184A     		ldr	r2, .L113
 1314 0122 82FB0312 		smull	r1, r2, r2, r3
 1315 0126 DB17     		asrs	r3, r3, #31
 1316 0128 C3EBA213 		rsb	r3, r3, r2, asr #6
 1317 012c 05F12002 		add	r2, r5, #32
 1318 0130 44F82230 		str	r3, [r4, r2, lsl #2]
 546:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		s->gyro_st_bias[i] = gyro_bias_regular_lp[i] / DEF_ST_PRECISION;
 1319              		.loc 1 546 0 discriminator 3
 1320 0134 0135     		adds	r5, r5, #1
 1321              	.LVL217:
 1322              	.L106:
 546:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		s->gyro_st_bias[i] = gyro_bias_regular_lp[i] / DEF_ST_PRECISION;
 1323              		.loc 1 546 0 is_stmt 0 discriminator 1
 1324 0136 022D     		cmp	r5, #2
 1325 0138 EDDD     		ble	.L107
 548:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	}
 549:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 550:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	/* Check data collected in step (1) and (2).
 551:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	   Compare with OTP values which are stored at factory */
 552:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	accel_result = !check_accel_self_test(s, accel_bias_regular, accel_bias_st);
 1326              		.loc 1 552 0 is_stmt 1
 1327 013a 0FAA     		add	r2, sp, #60
 1328 013c 0CA9     		add	r1, sp, #48
 1329 013e 2046     		mov	r0, r4
 1330 0140 FFF7FEFF 		bl	check_accel_self_test
 1331              	.LVL218:
 1332 0144 B0FA80F6 		clz	r6, r0
 1333              	.LVL219:
 1334 0148 7609     		lsrs	r6, r6, #5
 1335              	.LVL220:
 553:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	gyro_result = !check_gyro_self_test(s, gyro_bias_regular, gyro_bias_st);
 1336              		.loc 1 553 0
 1337 014a 15AA     		add	r2, sp, #84
 1338 014c 12A9     		add	r1, sp, #72
 1339 014e 2046     		mov	r0, r4
 1340 0150 FFF7FEFF 		bl	check_gyro_self_test
 1341              	.LVL221:
 1342 0154 B0FA80F5 		clz	r5, r0
 1343              	.LVL222:
 1344 0158 6D09     		lsrs	r5, r5, #5
 1345              	.LVL223:
 1346 015a 01E0     		b	.L92
 1347              	.LVL224:
 1348              	.L108:
 473:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	compass_result = 0;
 1349              		.loc 1 473 0
 1350 015c 0025     		movs	r5, #0
 1351              	.LVL225:
 472:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	gyro_result = 0;
 1352              		.loc 1 472 0
 1353 015e 2E46     		mov	r6, r5
 1354              	.LVL226:
 1355              	.L92:
ARM GAS  /tmp/ccZtroRg.s 			page 36


 554:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 555:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #if (MEMS_CHIP == HW_ICM20690)
 556:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	compass_result = !inv_icm207xx_check_akm_self_test(s);
 557:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #endif
 558:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** test_fail:
 559:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	recover_settings(s, &recover_regs);
 1356              		.loc 1 559 0
 1357 0160 03A9     		add	r1, sp, #12
 1358 0162 2046     		mov	r0, r4
 1359 0164 FFF7FEFF 		bl	recover_settings
 1360              	.LVL227:
 560:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 561:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	/* The accelerometer bias computed by selftest must not be directly apply to offset registers.
 562:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c ****        We have to compute specific values based on OTP registers before applying the values to offs
 563:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	s->accel_reg_bias_computed = 0;
 1361              		.loc 1 563 0
 1362 0168 0023     		movs	r3, #0
 1363 016a 84F8A430 		strb	r3, [r4, #164]
 564:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 565:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	return (compass_result << 2) | (accel_result << 1) | gyro_result;
 566:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 567:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** #endif
 568:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** }
 1364              		.loc 1 568 0
 1365 016e 45EA4600 		orr	r0, r5, r6, lsl #1
 1366 0172 18B0     		add	sp, sp, #96
 1367              	.LCFI14:
 1368              		.cfi_remember_state
 1369              		.cfi_def_cfa_offset 16
 1370              		@ sp needed
 1371 0174 70BD     		pop	{r4, r5, r6, pc}
 1372              	.LVL228:
 1373              	.L109:
 1374              	.LCFI15:
 1375              		.cfi_restore_state
 473:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	compass_result = 0;
 1376              		.loc 1 473 0
 1377 0176 0025     		movs	r5, #0
 1378              	.LVL229:
 472:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	gyro_result = 0;
 1379              		.loc 1 472 0
 1380 0178 2E46     		mov	r6, r5
 1381              	.LVL230:
 1382 017a F1E7     		b	.L92
 1383              	.LVL231:
 1384              	.L110:
 473:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	compass_result = 0;
 1385              		.loc 1 473 0
 1386 017c 0025     		movs	r5, #0
 1387              	.LVL232:
 472:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	gyro_result = 0;
 1388              		.loc 1 472 0
 1389 017e 2E46     		mov	r6, r5
 1390              	.LVL233:
 1391 0180 EEE7     		b	.L92
 1392              	.L114:
 1393 0182 00BF     		.align	2
ARM GAS  /tmp/ccZtroRg.s 			page 37


 1394              	.L113:
 1395 0184 D34D6210 		.word	274877907
 1396              		.cfi_endproc
 1397              	.LFE17:
 1399              		.section	.text.inv_icm207xx_get_st_bias,"ax",%progbits
 1400              		.align	1
 1401              		.global	inv_icm207xx_get_st_bias
 1402              		.syntax unified
 1403              		.thumb
 1404              		.thumb_func
 1405              		.fpu fpv4-sp-d16
 1407              	inv_icm207xx_get_st_bias:
 1408              	.LFB18:
 569:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 570:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** void inv_icm207xx_get_st_bias(struct inv_icm207xx * s, int * st_bias)
 571:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** {
 1409              		.loc 1 571 0
 1410              		.cfi_startproc
 1411              		@ args = 0, pretend = 0, frame = 0
 1412              		@ frame_needed = 0, uses_anonymous_args = 0
 1413              		@ link register save eliminated.
 1414              	.LVL234:
 1415 0000 70B4     		push	{r4, r5, r6}
 1416              	.LCFI16:
 1417              		.cfi_def_cfa_offset 12
 1418              		.cfi_offset 4, -12
 1419              		.cfi_offset 5, -8
 1420              		.cfi_offset 6, -4
 1421              	.LVL235:
 572:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	int axis, axis_sign;
 573:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	int gravity;
 574:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	int i, t;
 575:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	int check;
 576:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	int scale;
 577:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 578:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	/* check bias there ? */
 579:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	check = 0;
 1422              		.loc 1 579 0
 1423 0002 0023     		movs	r3, #0
 580:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	for (i = 0; i < 3; i++) {
 1424              		.loc 1 580 0
 1425 0004 1A46     		mov	r2, r3
 1426 0006 00E0     		b	.L116
 1427              	.LVL236:
 1428              	.L120:
 1429              		.loc 1 580 0 is_stmt 0 discriminator 2
 1430 0008 0132     		adds	r2, r2, #1
 1431              	.LVL237:
 1432              	.L116:
 1433              		.loc 1 580 0 discriminator 1
 1434 000a 022A     		cmp	r2, #2
 1435 000c 1BDC     		bgt	.L146
 581:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		if (s->gyro_ois_st_bias[i] != 0)
 1436              		.loc 1 581 0 is_stmt 1
 1437 000e 02F11A04 		add	r4, r2, #26
 1438 0012 50F82440 		ldr	r4, [r0, r4, lsl #2]
 1439 0016 04B1     		cbz	r4, .L117
ARM GAS  /tmp/ccZtroRg.s 			page 38


 582:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			check = 1;
 1440              		.loc 1 582 0
 1441 0018 0123     		movs	r3, #1
 1442              	.LVL238:
 1443              	.L117:
 583:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		if (s->gyro_st_bias[i] != 0)
 1444              		.loc 1 583 0
 1445 001a 02F12004 		add	r4, r2, #32
 1446 001e 50F82440 		ldr	r4, [r0, r4, lsl #2]
 1447 0022 04B1     		cbz	r4, .L118
 584:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			check = 1;
 1448              		.loc 1 584 0
 1449 0024 0123     		movs	r3, #1
 1450              	.LVL239:
 1451              	.L118:
 585:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		if (s->accel_ois_st_bias[i] != 0)
 1452              		.loc 1 585 0
 1453 0026 02F11C04 		add	r4, r2, #28
 1454 002a 00EB8404 		add	r4, r0, r4, lsl #2
 1455 002e 6468     		ldr	r4, [r4, #4]
 1456 0030 04B1     		cbz	r4, .L119
 586:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			check = 1;
 1457              		.loc 1 586 0
 1458 0032 0123     		movs	r3, #1
 1459              	.LVL240:
 1460              	.L119:
 587:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		if (s->accel_st_bias[i] != 0)
 1461              		.loc 1 587 0
 1462 0034 02F12204 		add	r4, r2, #34
 1463 0038 00EB8404 		add	r4, r0, r4, lsl #2
 1464 003c 6468     		ldr	r4, [r4, #4]
 1465 003e 002C     		cmp	r4, #0
 1466 0040 E2D0     		beq	.L120
 588:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			check = 1;
 1467              		.loc 1 588 0
 1468 0042 0123     		movs	r3, #1
 1469              	.LVL241:
 1470 0044 E0E7     		b	.L120
 1471              	.LVL242:
 1472              	.L146:
 589:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	}
 590:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 591:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	/* if no bias, return all 0 */
 592:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	if (check == 0) {
 1473              		.loc 1 592 0
 1474 0046 2BB1     		cbz	r3, .L122
 593:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		for (i = 0; i < 12; i++)
 594:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			st_bias[i] = 0;
 595:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		return;
 596:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	}
 597:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 598:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	/* dps scaled by 2^16 */
 599:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	scale = 65536 / DEF_SELFTEST_GYRO_SENS;
 600:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 601:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	/* Gyro normal mode */
 602:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	t = 0;
 603:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	for (i = 0; i < 3; i++)
ARM GAS  /tmp/ccZtroRg.s 			page 39


 1475              		.loc 1 603 0
 1476 0048 0022     		movs	r2, #0
 1477              	.LVL243:
 1478 004a 12E0     		b	.L123
 1479              	.LVL244:
 1480              	.L124:
 594:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		return;
 1481              		.loc 1 594 0 discriminator 3
 1482 004c 0022     		movs	r2, #0
 1483 004e 41F82320 		str	r2, [r1, r3, lsl #2]
 593:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		for (i = 0; i < 12; i++)
 1484              		.loc 1 593 0 discriminator 3
 1485 0052 0133     		adds	r3, r3, #1
 1486              	.LVL245:
 1487              	.L122:
 593:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		for (i = 0; i < 12; i++)
 1488              		.loc 1 593 0 is_stmt 0 discriminator 1
 1489 0054 0B2B     		cmp	r3, #11
 1490 0056 F9DD     		ble	.L124
 1491              	.LVL246:
 1492              	.L115:
 604:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		st_bias[i + t] = s->gyro_ois_st_bias[i] * scale;
 605:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 606:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	/* Gyro LP mode */
 607:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	t += 3;
 608:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	for (i = 0; i < 3; i++)
 609:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		st_bias[i + t] = s->gyro_st_bias[i] * scale;
 610:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 611:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	axis = 0;
 612:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	axis_sign = 1;
 613:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	if (INV_ABS(s->accel_ois_st_bias[1]) > INV_ABS(s->accel_ois_st_bias[0]))
 614:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		axis = 1;
 615:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	if (INV_ABS(s->accel_ois_st_bias[2]) > INV_ABS(s->accel_ois_st_bias[axis]))
 616:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		axis = 2;
 617:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	if (s->accel_ois_st_bias[axis] < 0)
 618:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		axis_sign = -1;
 619:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 620:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	/* gee scaled by 2^16 */
 621:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	scale = 65536 / (DEF_ST_SCALE / (DEF_ST_ACCEL_FS_MG / 1000));
 622:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 623:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	gravity = 32768 / (DEF_ST_ACCEL_FS_MG / 1000) * axis_sign;
 624:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	gravity *= scale;
 625:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 626:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	/* Accel normal mode */
 627:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	t += 3;
 628:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	for (i = 0; i < 3; i++) {
 629:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		st_bias[i + t] = s->accel_ois_st_bias[i] * scale;
 630:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		if (axis == i)
 631:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			st_bias[i + t] -= gravity;
 632:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	}
 633:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 634:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	/* Accel LP mode */
 635:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	t += 3;
 636:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	for (i = 0; i < 3; i++) {
 637:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		st_bias[i + t] = s->accel_st_bias[i] * scale;
 638:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		if (axis == i)
 639:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			st_bias[i + t] -= gravity;
ARM GAS  /tmp/ccZtroRg.s 			page 40


 640:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	}
 641:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** }
 1493              		.loc 1 641 0 is_stmt 1
 1494 0058 70BC     		pop	{r4, r5, r6}
 1495              	.LCFI17:
 1496              		.cfi_remember_state
 1497              		.cfi_restore 6
 1498              		.cfi_restore 5
 1499              		.cfi_restore 4
 1500              		.cfi_def_cfa_offset 0
 1501 005a 7047     		bx	lr
 1502              	.LVL247:
 1503              	.L126:
 1504              	.LCFI18:
 1505              		.cfi_restore_state
 604:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		st_bias[i + t] = s->gyro_ois_st_bias[i] * scale;
 1506              		.loc 1 604 0 discriminator 3
 1507 005c 02F11A04 		add	r4, r2, #26
 1508 0060 50F82450 		ldr	r5, [r0, r4, lsl #2]
 1509 0064 4FF4FA74 		mov	r4, #500
 1510 0068 04FB05F4 		mul	r4, r4, r5
 1511 006c 41F82240 		str	r4, [r1, r2, lsl #2]
 603:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		st_bias[i + t] = s->gyro_ois_st_bias[i] * scale;
 1512              		.loc 1 603 0 discriminator 3
 1513 0070 0132     		adds	r2, r2, #1
 1514              	.LVL248:
 1515              	.L123:
 603:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		st_bias[i + t] = s->gyro_ois_st_bias[i] * scale;
 1516              		.loc 1 603 0 is_stmt 0 discriminator 1
 1517 0072 022A     		cmp	r2, #2
 1518 0074 F2DD     		ble	.L126
 608:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		st_bias[i + t] = s->gyro_st_bias[i] * scale;
 1519              		.loc 1 608 0 is_stmt 1
 1520 0076 0022     		movs	r2, #0
 1521              	.LVL249:
 1522 0078 0BE0     		b	.L127
 1523              	.LVL250:
 1524              	.L128:
 609:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 1525              		.loc 1 609 0 discriminator 3
 1526 007a 02F12004 		add	r4, r2, #32
 1527 007e 50F82460 		ldr	r6, [r0, r4, lsl #2]
 1528 0082 D51C     		adds	r5, r2, #3
 1529 0084 4FF4FA74 		mov	r4, #500
 1530 0088 04FB06F4 		mul	r4, r4, r6
 1531 008c 41F82540 		str	r4, [r1, r5, lsl #2]
 608:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		st_bias[i + t] = s->gyro_st_bias[i] * scale;
 1532              		.loc 1 608 0 discriminator 3
 1533 0090 0132     		adds	r2, r2, #1
 1534              	.LVL251:
 1535              	.L127:
 608:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		st_bias[i + t] = s->gyro_st_bias[i] * scale;
 1536              		.loc 1 608 0 is_stmt 0 discriminator 1
 1537 0092 022A     		cmp	r2, #2
 1538 0094 F1DD     		ble	.L128
 1539              	.LVL252:
 613:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		axis = 1;
ARM GAS  /tmp/ccZtroRg.s 			page 41


 1540              		.loc 1 613 0 is_stmt 1
 1541 0096 826F     		ldr	r2, [r0, #120]
 1542              	.LVL253:
 1543 0098 82EAE274 		eor	r4, r2, r2, asr #31
 1544 009c A4EBE274 		sub	r4, r4, r2, asr #31
 1545 00a0 426F     		ldr	r2, [r0, #116]
 1546 00a2 002A     		cmp	r2, #0
 1547 00a4 B8BF     		it	lt
 1548 00a6 5242     		rsblt	r2, r2, #0
 1549 00a8 9442     		cmp	r4, r2
 1550 00aa 1ADC     		bgt	.L142
 611:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	axis_sign = 1;
 1551              		.loc 1 611 0
 1552 00ac 0025     		movs	r5, #0
 1553              	.L129:
 1554              	.LVL254:
 615:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		axis = 2;
 1555              		.loc 1 615 0
 1556 00ae C26F     		ldr	r2, [r0, #124]
 1557 00b0 82EAE274 		eor	r4, r2, r2, asr #31
 1558 00b4 A4EBE274 		sub	r4, r4, r2, asr #31
 1559 00b8 05F11C02 		add	r2, r5, #28
 1560 00bc 00EB8202 		add	r2, r0, r2, lsl #2
 1561 00c0 5268     		ldr	r2, [r2, #4]
 1562 00c2 002A     		cmp	r2, #0
 1563 00c4 B8BF     		it	lt
 1564 00c6 5242     		rsblt	r2, r2, #0
 1565 00c8 9442     		cmp	r4, r2
 1566 00ca 00DD     		ble	.L130
 616:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	if (s->accel_ois_st_bias[axis] < 0)
 1567              		.loc 1 616 0
 1568 00cc 0225     		movs	r5, #2
 1569              	.LVL255:
 1570              	.L130:
 617:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		axis_sign = -1;
 1571              		.loc 1 617 0
 1572 00ce 05F11C02 		add	r2, r5, #28
 1573 00d2 00EB8202 		add	r2, r0, r2, lsl #2
 1574 00d6 5268     		ldr	r2, [r2, #4]
 1575 00d8 002A     		cmp	r2, #0
 1576 00da 04DB     		blt	.L147
 1577              	.LVL256:
 1578              	.L131:
 624:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 1579              		.loc 1 624 0
 1580 00dc 1B04     		lsls	r3, r3, #16
 1581              	.LVL257:
 628:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		st_bias[i + t] = s->accel_ois_st_bias[i] * scale;
 1582              		.loc 1 628 0
 1583 00de 0022     		movs	r2, #0
 1584 00e0 05E0     		b	.L132
 1585              	.LVL258:
 1586              	.L142:
 614:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	if (INV_ABS(s->accel_ois_st_bias[2]) > INV_ABS(s->accel_ois_st_bias[axis]))
 1587              		.loc 1 614 0
 1588 00e2 1D46     		mov	r5, r3
 1589 00e4 E3E7     		b	.L129
ARM GAS  /tmp/ccZtroRg.s 			page 42


 1590              	.LVL259:
 1591              	.L147:
 618:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 1592              		.loc 1 618 0
 1593 00e6 4FF0FF33 		mov	r3, #-1
 1594              	.LVL260:
 1595 00ea F7E7     		b	.L131
 1596              	.LVL261:
 1597              	.L133:
 628:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		st_bias[i + t] = s->accel_ois_st_bias[i] * scale;
 1598              		.loc 1 628 0 discriminator 2
 1599 00ec 0132     		adds	r2, r2, #1
 1600              	.LVL262:
 1601              	.L132:
 628:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		st_bias[i + t] = s->accel_ois_st_bias[i] * scale;
 1602              		.loc 1 628 0 is_stmt 0 discriminator 1
 1603 00ee 022A     		cmp	r2, #2
 1604 00f0 0EDC     		bgt	.L148
 629:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		if (axis == i)
 1605              		.loc 1 629 0 is_stmt 1
 1606 00f2 02F11C04 		add	r4, r2, #28
 1607 00f6 00EB8404 		add	r4, r0, r4, lsl #2
 1608 00fa 6468     		ldr	r4, [r4, #4]
 1609 00fc 961D     		adds	r6, r2, #6
 1610 00fe A400     		lsls	r4, r4, #2
 1611 0100 41F82640 		str	r4, [r1, r6, lsl #2]
 630:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			st_bias[i + t] -= gravity;
 1612              		.loc 1 630 0
 1613 0104 9542     		cmp	r5, r2
 1614 0106 F1D1     		bne	.L133
 631:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	}
 1615              		.loc 1 631 0
 1616 0108 E41A     		subs	r4, r4, r3
 1617 010a 41F82640 		str	r4, [r1, r6, lsl #2]
 1618 010e EDE7     		b	.L133
 1619              	.L148:
 636:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		st_bias[i + t] = s->accel_st_bias[i] * scale;
 1620              		.loc 1 636 0
 1621 0110 0022     		movs	r2, #0
 1622              	.LVL263:
 1623 0112 00E0     		b	.L135
 1624              	.LVL264:
 1625              	.L136:
 636:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		st_bias[i + t] = s->accel_st_bias[i] * scale;
 1626              		.loc 1 636 0 is_stmt 0 discriminator 2
 1627 0114 0132     		adds	r2, r2, #1
 1628              	.LVL265:
 1629              	.L135:
 636:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		st_bias[i + t] = s->accel_st_bias[i] * scale;
 1630              		.loc 1 636 0 discriminator 1
 1631 0116 022A     		cmp	r2, #2
 1632 0118 9EDC     		bgt	.L115
 637:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		if (axis == i)
 1633              		.loc 1 637 0 is_stmt 1
 1634 011a 02F12204 		add	r4, r2, #34
 1635 011e 00EB8404 		add	r4, r0, r4, lsl #2
 1636 0122 6468     		ldr	r4, [r4, #4]
ARM GAS  /tmp/ccZtroRg.s 			page 43


 1637 0124 02F10906 		add	r6, r2, #9
 1638 0128 A400     		lsls	r4, r4, #2
 1639 012a 41F82640 		str	r4, [r1, r6, lsl #2]
 638:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			st_bias[i + t] -= gravity;
 1640              		.loc 1 638 0
 1641 012e 9542     		cmp	r5, r2
 1642 0130 F0D1     		bne	.L136
 639:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	}
 1643              		.loc 1 639 0
 1644 0132 E41A     		subs	r4, r4, r3
 1645 0134 41F82640 		str	r4, [r1, r6, lsl #2]
 1646 0138 ECE7     		b	.L136
 1647              		.cfi_endproc
 1648              	.LFE18:
 1650              		.section	.text.inv_icm207xx_set_st_bias,"ax",%progbits
 1651              		.align	1
 1652              		.global	inv_icm207xx_set_st_bias
 1653              		.syntax unified
 1654              		.thumb
 1655              		.thumb_func
 1656              		.fpu fpv4-sp-d16
 1658              	inv_icm207xx_set_st_bias:
 1659              	.LFB19:
 642:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 643:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** void inv_icm207xx_set_st_bias(struct inv_icm207xx * s, int * st_bias)
 644:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** {
 1660              		.loc 1 644 0
 1661              		.cfi_startproc
 1662              		@ args = 0, pretend = 0, frame = 0
 1663              		@ frame_needed = 0, uses_anonymous_args = 0
 1664              		@ link register save eliminated.
 1665              	.LVL266:
 1666 0000 70B4     		push	{r4, r5, r6}
 1667              	.LCFI19:
 1668              		.cfi_def_cfa_offset 12
 1669              		.cfi_offset 4, -12
 1670              		.cfi_offset 5, -8
 1671              		.cfi_offset 6, -4
 1672              	.LVL267:
 645:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	int i, t;
 646:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	int scale;
 647:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	int check_gyro = 0;
 648:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	int check_acc = 0;
 1673              		.loc 1 648 0
 1674 0002 0025     		movs	r5, #0
 647:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	int check_acc = 0;
 1675              		.loc 1 647 0
 1676 0004 2E46     		mov	r6, r5
 649:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 650:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	/* check bias there ? */
 651:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	for (i = 0; i < 6; i++) {
 1677              		.loc 1 651 0
 1678 0006 2B46     		mov	r3, r5
 1679 0008 00E0     		b	.L150
 1680              	.LVL268:
 1681              	.L152:
 1682              		.loc 1 651 0 is_stmt 0 discriminator 2
ARM GAS  /tmp/ccZtroRg.s 			page 44


 1683 000a 0133     		adds	r3, r3, #1
 1684              	.LVL269:
 1685              	.L150:
 1686              		.loc 1 651 0 discriminator 1
 1687 000c 052B     		cmp	r3, #5
 1688 000e 0BDC     		bgt	.L179
 652:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		if (st_bias[i] != 0)
 1689              		.loc 1 652 0 is_stmt 1
 1690 0010 1A46     		mov	r2, r3
 1691 0012 51F82340 		ldr	r4, [r1, r3, lsl #2]
 1692 0016 04B1     		cbz	r4, .L151
 653:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			check_gyro = 1;
 1693              		.loc 1 653 0
 1694 0018 0126     		movs	r6, #1
 1695              	.LVL270:
 1696              	.L151:
 654:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		if (st_bias[i + 6] != 0)
 1697              		.loc 1 654 0
 1698 001a 0632     		adds	r2, r2, #6
 1699 001c 51F82220 		ldr	r2, [r1, r2, lsl #2]
 1700 0020 002A     		cmp	r2, #0
 1701 0022 F2D0     		beq	.L152
 655:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			check_acc = 1;
 1702              		.loc 1 655 0
 1703 0024 0125     		movs	r5, #1
 1704              	.LVL271:
 1705 0026 F0E7     		b	.L152
 1706              	.LVL272:
 1707              	.L179:
 656:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	}
 657:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 658:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	if((check_gyro == 0) && (check_acc == 0))
 1708              		.loc 1 658 0
 1709 0028 16B9     		cbnz	r6, .L154
 1710              		.loc 1 658 0 is_stmt 0 discriminator 1
 1711 002a 002D     		cmp	r5, #0
 1712 002c 00F08280 		beq	.L149
 1713              	.L154:
 659:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		return;
 660:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 661:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	if(check_gyro) {
 1714              		.loc 1 661 0 is_stmt 1
 1715 0030 1EBB     		cbnz	r6, .L174
 1716              	.LVL273:
 1717              	.L157:
 662:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		/* dps scaled by 2^16 */
 663:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		scale = 65536 / DEF_SELFTEST_GYRO_SENS;
 664:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 665:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		/* Gyro normal mode */
 666:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		t = 0;
 667:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		for (i = 0; i < 3; i++)
 668:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			s->gyro_ois_st_bias[i] = st_bias[i + t] / scale;
 669:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 670:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		/* Gyro LP mode */
 671:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		t += 3;
 672:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		for (i = 0; i < 3; i++)
 673:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			s->gyro_st_bias[i] = st_bias[i + t] / scale;
ARM GAS  /tmp/ccZtroRg.s 			page 45


 674:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	}
 675:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	
 676:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	if(check_acc) {
 1718              		.loc 1 676 0
 1719 0032 002D     		cmp	r5, #0
 1720 0034 7ED0     		beq	.L149
 1721              	.LVL274:
 1722              	.LBB4:
 677:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		int gravity;
 678:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		int axis = 0;
 679:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		int axis_sign = 1;
 680:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		if (INV_ABS(st_bias[1 + 6]) > INV_ABS(st_bias[0 + 6]))
 1723              		.loc 1 680 0
 1724 0036 CB69     		ldr	r3, [r1, #28]
 1725 0038 83EAE372 		eor	r2, r3, r3, asr #31
 1726 003c A2EBE372 		sub	r2, r2, r3, asr #31
 1727 0040 8B69     		ldr	r3, [r1, #24]
 1728 0042 002B     		cmp	r3, #0
 1729 0044 B8BF     		it	lt
 1730 0046 5B42     		rsblt	r3, r3, #0
 1731 0048 9A42     		cmp	r2, r3
 1732 004a 39DC     		bgt	.L175
 678:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		int axis_sign = 1;
 1733              		.loc 1 678 0
 1734 004c 0026     		movs	r6, #0
 1735              	.L161:
 1736              	.LVL275:
 681:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			axis = 1;
 682:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		if (INV_ABS(st_bias[2 + 6]) > INV_ABS(st_bias[axis + 6]))
 1737              		.loc 1 682 0
 1738 004e 0B6A     		ldr	r3, [r1, #32]
 1739 0050 83EAE372 		eor	r2, r3, r3, asr #31
 1740 0054 A2EBE372 		sub	r2, r2, r3, asr #31
 1741 0058 B31D     		adds	r3, r6, #6
 1742 005a 51F82330 		ldr	r3, [r1, r3, lsl #2]
 1743 005e 002B     		cmp	r3, #0
 1744 0060 B8BF     		it	lt
 1745 0062 5B42     		rsblt	r3, r3, #0
 1746 0064 9A42     		cmp	r2, r3
 1747 0066 00DD     		ble	.L162
 683:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			axis = 2;
 1748              		.loc 1 683 0
 1749 0068 0226     		movs	r6, #2
 1750              	.LVL276:
 1751              	.L162:
 684:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		if (st_bias[axis + 6] < 0)
 1752              		.loc 1 684 0
 1753 006a B31D     		adds	r3, r6, #6
 1754 006c 51F82330 		ldr	r3, [r1, r3, lsl #2]
 1755 0070 002B     		cmp	r3, #0
 1756 0072 27DB     		blt	.L180
 1757              	.LVL277:
 1758              	.L163:
 685:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			axis_sign = -1;
 686:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 687:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		/* gee scaled by 2^16 */
 688:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		scale = 65536 / (DEF_ST_SCALE / (DEF_ST_ACCEL_FS_MG / 1000));
ARM GAS  /tmp/ccZtroRg.s 			page 46


 689:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 690:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		gravity = 32768 / (DEF_ST_ACCEL_FS_MG / 1000) * axis_sign;
 1759              		.loc 1 690 0
 1760 0074 AD03     		lsls	r5, r5, #14
 1761              	.LVL278:
 691:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 692:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		/* Accel normal mode */
 693:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		t = 6;
 694:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		for (i = 0; i < 3; i++) {
 1762              		.loc 1 694 0
 1763 0076 0023     		movs	r3, #0
 1764 0078 30E0     		b	.L164
 1765              	.LVL279:
 1766              	.L174:
 1767              	.LBE4:
 667:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			s->gyro_ois_st_bias[i] = st_bias[i + t] / scale;
 1768              		.loc 1 667 0
 1769 007a 0022     		movs	r2, #0
 1770              	.LVL280:
 1771              	.L156:
 667:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			s->gyro_ois_st_bias[i] = st_bias[i + t] / scale;
 1772              		.loc 1 667 0 is_stmt 0 discriminator 1
 1773 007c 022A     		cmp	r2, #2
 1774 007e 0DDC     		bgt	.L181
 668:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 1775              		.loc 1 668 0 is_stmt 1 discriminator 3
 1776 0080 51F82230 		ldr	r3, [r1, r2, lsl #2]
 1777 0084 2C4C     		ldr	r4, .L185
 1778 0086 84FB0364 		smull	r6, r4, r4, r3
 1779 008a DB17     		asrs	r3, r3, #31
 1780 008c C3EB6413 		rsb	r3, r3, r4, asr #5
 1781 0090 02F11A04 		add	r4, r2, #26
 1782 0094 40F82430 		str	r3, [r0, r4, lsl #2]
 667:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			s->gyro_ois_st_bias[i] = st_bias[i + t] / scale;
 1783              		.loc 1 667 0 discriminator 3
 1784 0098 0132     		adds	r2, r2, #1
 1785              	.LVL281:
 1786 009a EFE7     		b	.L156
 1787              	.L181:
 672:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			s->gyro_st_bias[i] = st_bias[i + t] / scale;
 1788              		.loc 1 672 0
 1789 009c 0022     		movs	r2, #0
 1790              	.LVL282:
 1791              	.L159:
 672:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			s->gyro_st_bias[i] = st_bias[i + t] / scale;
 1792              		.loc 1 672 0 is_stmt 0 discriminator 1
 1793 009e 022A     		cmp	r2, #2
 1794 00a0 C7DC     		bgt	.L157
 673:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	}
 1795              		.loc 1 673 0 is_stmt 1 discriminator 3
 1796 00a2 D31C     		adds	r3, r2, #3
 1797 00a4 51F82330 		ldr	r3, [r1, r3, lsl #2]
 1798 00a8 234C     		ldr	r4, .L185
 1799 00aa 84FB0364 		smull	r6, r4, r4, r3
 1800 00ae DB17     		asrs	r3, r3, #31
 1801 00b0 C3EB6413 		rsb	r3, r3, r4, asr #5
 1802 00b4 02F12004 		add	r4, r2, #32
ARM GAS  /tmp/ccZtroRg.s 			page 47


 1803 00b8 40F82430 		str	r3, [r0, r4, lsl #2]
 672:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			s->gyro_st_bias[i] = st_bias[i + t] / scale;
 1804              		.loc 1 672 0 discriminator 3
 1805 00bc 0132     		adds	r2, r2, #1
 1806              	.LVL283:
 1807 00be EEE7     		b	.L159
 1808              	.LVL284:
 1809              	.L175:
 1810              	.LBB5:
 681:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		if (INV_ABS(st_bias[2 + 6]) > INV_ABS(st_bias[axis + 6]))
 1811              		.loc 1 681 0
 1812 00c0 2E46     		mov	r6, r5
 1813 00c2 C4E7     		b	.L161
 1814              	.LVL285:
 1815              	.L180:
 685:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 1816              		.loc 1 685 0
 1817 00c4 4FF0FF35 		mov	r5, #-1
 1818              	.LVL286:
 1819 00c8 D4E7     		b	.L163
 1820              	.LVL287:
 1821              	.L165:
 695:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			s->accel_ois_st_bias[i] = st_bias[i + t] / scale;
 1822              		.loc 1 695 0
 1823 00ca 9210     		asrs	r2, r2, #2
 1824 00cc 03F11C04 		add	r4, r3, #28
 1825 00d0 00EB8404 		add	r4, r0, r4, lsl #2
 1826 00d4 6260     		str	r2, [r4, #4]
 696:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			if (axis == i)
 1827              		.loc 1 696 0
 1828 00d6 B342     		cmp	r3, r6
 1829 00d8 09D0     		beq	.L182
 1830              	.L166:
 694:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			s->accel_ois_st_bias[i] = st_bias[i + t] / scale;
 1831              		.loc 1 694 0 discriminator 2
 1832 00da 0133     		adds	r3, r3, #1
 1833              	.LVL288:
 1834              	.L164:
 694:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			s->accel_ois_st_bias[i] = st_bias[i + t] / scale;
 1835              		.loc 1 694 0 is_stmt 0 discriminator 1
 1836 00dc 022B     		cmp	r3, #2
 1837 00de 0DDC     		bgt	.L183
 695:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			s->accel_ois_st_bias[i] = st_bias[i + t] / scale;
 1838              		.loc 1 695 0 is_stmt 1
 1839 00e0 9A1D     		adds	r2, r3, #6
 1840 00e2 51F82220 		ldr	r2, [r1, r2, lsl #2]
 1841 00e6 002A     		cmp	r2, #0
 1842 00e8 EFDA     		bge	.L165
 1843 00ea 0332     		adds	r2, r2, #3
 1844 00ec EDE7     		b	.L165
 1845              	.L182:
 697:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 				s->accel_ois_st_bias[i] += gravity;
 1846              		.loc 1 697 0
 1847 00ee 03F11C04 		add	r4, r3, #28
 1848 00f2 00EB8404 		add	r4, r0, r4, lsl #2
 1849 00f6 2A44     		add	r2, r2, r5
 1850 00f8 6260     		str	r2, [r4, #4]
ARM GAS  /tmp/ccZtroRg.s 			page 48


 1851 00fa EEE7     		b	.L166
 1852              	.L183:
 698:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		}
 699:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 
 700:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		/* Accel LP mode */
 701:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		t += 3;
 702:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		for (i = 0; i < 3; i++) {
 1853              		.loc 1 702 0
 1854 00fc 0023     		movs	r3, #0
 1855              	.LVL289:
 1856 00fe 08E0     		b	.L168
 1857              	.LVL290:
 1858              	.L169:
 703:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			s->accel_st_bias[i] = st_bias[i + t] / scale;
 1859              		.loc 1 703 0
 1860 0100 9210     		asrs	r2, r2, #2
 1861 0102 03F12204 		add	r4, r3, #34
 1862 0106 00EB8404 		add	r4, r0, r4, lsl #2
 1863 010a 6260     		str	r2, [r4, #4]
 704:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			if (axis == i)
 1864              		.loc 1 704 0
 1865 010c B342     		cmp	r3, r6
 1866 010e 0AD0     		beq	.L184
 1867              	.L170:
 702:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			s->accel_st_bias[i] = st_bias[i + t] / scale;
 1868              		.loc 1 702 0 discriminator 2
 1869 0110 0133     		adds	r3, r3, #1
 1870              	.LVL291:
 1871              	.L168:
 702:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			s->accel_st_bias[i] = st_bias[i + t] / scale;
 1872              		.loc 1 702 0 is_stmt 0 discriminator 1
 1873 0112 022B     		cmp	r3, #2
 1874 0114 0EDC     		bgt	.L149
 703:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 			s->accel_st_bias[i] = st_bias[i + t] / scale;
 1875              		.loc 1 703 0 is_stmt 1
 1876 0116 03F10902 		add	r2, r3, #9
 1877 011a 51F82220 		ldr	r2, [r1, r2, lsl #2]
 1878 011e 002A     		cmp	r2, #0
 1879 0120 EEDA     		bge	.L169
 1880 0122 0332     		adds	r2, r2, #3
 1881 0124 ECE7     		b	.L169
 1882              	.L184:
 705:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 				s->accel_st_bias[i] += gravity;
 1883              		.loc 1 705 0
 1884 0126 03F12204 		add	r4, r3, #34
 1885 012a 00EB8404 		add	r4, r0, r4, lsl #2
 1886 012e 2A44     		add	r2, r2, r5
 1887 0130 6260     		str	r2, [r4, #4]
 1888 0132 EDE7     		b	.L170
 1889              	.LVL292:
 1890              	.L149:
 1891              	.LBE5:
 706:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 		}
 707:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** 	}
 708:Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSelfTest.c **** }
 1892              		.loc 1 708 0
 1893 0134 70BC     		pop	{r4, r5, r6}
ARM GAS  /tmp/ccZtroRg.s 			page 49


 1894              	.LCFI20:
 1895              		.cfi_restore 6
 1896              		.cfi_restore 5
 1897              		.cfi_restore 4
 1898              		.cfi_def_cfa_offset 0
 1899 0136 7047     		bx	lr
 1900              	.L186:
 1901              		.align	2
 1902              	.L185:
 1903 0138 D34D6210 		.word	274877907
 1904              		.cfi_endproc
 1905              	.LFE19:
 1907              		.section	.rodata.sSelfTestEquation,"a",%progbits
 1908              		.align	2
 1909              		.set	.LANCHOR0,. + 0
 1912              	sSelfTestEquation:
 1913 0000 3C0A     		.short	2620
 1914 0002 560A     		.short	2646
 1915 0004 700A     		.short	2672
 1916 0006 8B0A     		.short	2699
 1917 0008 A60A     		.short	2726
 1918 000a C10A     		.short	2753
 1919 000c DD0A     		.short	2781
 1920 000e F80A     		.short	2808
 1921 0010 150B     		.short	2837
 1922 0012 310B     		.short	2865
 1923 0014 4E0B     		.short	2894
 1924 0016 6B0B     		.short	2923
 1925 0018 880B     		.short	2952
 1926 001a A50B     		.short	2981
 1927 001c C30B     		.short	3011
 1928 001e E10B     		.short	3041
 1929 0020 000C     		.short	3072
 1930 0022 1E0C     		.short	3102
 1931 0024 3D0C     		.short	3133
 1932 0026 5D0C     		.short	3165
 1933 0028 7C0C     		.short	3196
 1934 002a 9C0C     		.short	3228
 1935 002c BD0C     		.short	3261
 1936 002e DD0C     		.short	3293
 1937 0030 FE0C     		.short	3326
 1938 0032 1F0D     		.short	3359
 1939 0034 410D     		.short	3393
 1940 0036 630D     		.short	3427
 1941 0038 850D     		.short	3461
 1942 003a A80D     		.short	3496
 1943 003c CB0D     		.short	3531
 1944 003e EE0D     		.short	3566
 1945 0040 120E     		.short	3602
 1946 0042 360E     		.short	3638
 1947 0044 5A0E     		.short	3674
 1948 0046 7F0E     		.short	3711
 1949 0048 A40E     		.short	3748
 1950 004a CA0E     		.short	3786
 1951 004c EF0E     		.short	3823
 1952 004e 160F     		.short	3862
 1953 0050 3C0F     		.short	3900
ARM GAS  /tmp/ccZtroRg.s 			page 50


 1954 0052 630F     		.short	3939
 1955 0054 8B0F     		.short	3979
 1956 0056 B30F     		.short	4019
 1957 0058 DB0F     		.short	4059
 1958 005a 0310     		.short	4099
 1959 005c 2C10     		.short	4140
 1960 005e 5610     		.short	4182
 1961 0060 8010     		.short	4224
 1962 0062 AA10     		.short	4266
 1963 0064 D410     		.short	4308
 1964 0066 0011     		.short	4352
 1965 0068 2B11     		.short	4395
 1966 006a 5711     		.short	4439
 1967 006c 8311     		.short	4483
 1968 006e B011     		.short	4528
 1969 0070 DE11     		.short	4574
 1970 0072 0B12     		.short	4619
 1971 0074 3912     		.short	4665
 1972 0076 6812     		.short	4712
 1973 0078 9712     		.short	4759
 1974 007a C712     		.short	4807
 1975 007c F712     		.short	4855
 1976 007e 2713     		.short	4903
 1977 0080 5913     		.short	4953
 1978 0082 8A13     		.short	5002
 1979 0084 BC13     		.short	5052
 1980 0086 EF13     		.short	5103
 1981 0088 2214     		.short	5154
 1982 008a 5514     		.short	5205
 1983 008c 8914     		.short	5257
 1984 008e BE14     		.short	5310
 1985 0090 F314     		.short	5363
 1986 0092 2915     		.short	5417
 1987 0094 5F15     		.short	5471
 1988 0096 9515     		.short	5525
 1989 0098 CD15     		.short	5581
 1990 009a 0416     		.short	5636
 1991 009c 3D16     		.short	5693
 1992 009e 7616     		.short	5750
 1993 00a0 AF16     		.short	5807
 1994 00a2 E916     		.short	5865
 1995 00a4 2417     		.short	5924
 1996 00a6 5F17     		.short	5983
 1997 00a8 9B17     		.short	6043
 1998 00aa D817     		.short	6104
 1999 00ac 1518     		.short	6165
 2000 00ae 5218     		.short	6226
 2001 00b0 9118     		.short	6289
 2002 00b2 CF18     		.short	6351
 2003 00b4 0F19     		.short	6415
 2004 00b6 4F19     		.short	6479
 2005 00b8 9019     		.short	6544
 2006 00ba D119     		.short	6609
 2007 00bc 131A     		.short	6675
 2008 00be 561A     		.short	6742
 2009 00c0 9A1A     		.short	6810
 2010 00c2 DE1A     		.short	6878
ARM GAS  /tmp/ccZtroRg.s 			page 51


 2011 00c4 221B     		.short	6946
 2012 00c6 681B     		.short	7016
 2013 00c8 AE1B     		.short	7086
 2014 00ca F51B     		.short	7157
 2015 00cc 3D1C     		.short	7229
 2016 00ce 851C     		.short	7301
 2017 00d0 CE1C     		.short	7374
 2018 00d2 181D     		.short	7448
 2019 00d4 621D     		.short	7522
 2020 00d6 AD1D     		.short	7597
 2021 00d8 F91D     		.short	7673
 2022 00da 461E     		.short	7750
 2023 00dc 941E     		.short	7828
 2024 00de E21E     		.short	7906
 2025 00e0 311F     		.short	7985
 2026 00e2 811F     		.short	8065
 2027 00e4 D11F     		.short	8145
 2028 00e6 2320     		.short	8227
 2029 00e8 7520     		.short	8309
 2030 00ea C820     		.short	8392
 2031 00ec 1C21     		.short	8476
 2032 00ee 7121     		.short	8561
 2033 00f0 C721     		.short	8647
 2034 00f2 1D22     		.short	8733
 2035 00f4 7422     		.short	8820
 2036 00f6 CD22     		.short	8909
 2037 00f8 2623     		.short	8998
 2038 00fa 8023     		.short	9088
 2039 00fc DA23     		.short	9178
 2040 00fe 3624     		.short	9270
 2041 0100 9324     		.short	9363
 2042 0102 F124     		.short	9457
 2043 0104 4F25     		.short	9551
 2044 0106 AF25     		.short	9647
 2045 0108 0F26     		.short	9743
 2046 010a 7126     		.short	9841
 2047 010c D326     		.short	9939
 2048 010e 3627     		.short	10038
 2049 0110 9B27     		.short	10139
 2050 0112 0028     		.short	10240
 2051 0114 6728     		.short	10343
 2052 0116 CE28     		.short	10446
 2053 0118 3629     		.short	10550
 2054 011a A029     		.short	10656
 2055 011c 0B2A     		.short	10763
 2056 011e 762A     		.short	10870
 2057 0120 E32A     		.short	10979
 2058 0122 512B     		.short	11089
 2059 0124 C02B     		.short	11200
 2060 0126 302C     		.short	11312
 2061 0128 A12C     		.short	11425
 2062 012a 132D     		.short	11539
 2063 012c 862D     		.short	11654
 2064 012e FB2D     		.short	11771
 2065 0130 712E     		.short	11889
 2066 0132 E82E     		.short	12008
 2067 0134 602F     		.short	12128
ARM GAS  /tmp/ccZtroRg.s 			page 52


 2068 0136 D92F     		.short	12249
 2069 0138 5330     		.short	12371
 2070 013a CF30     		.short	12495
 2071 013c 4C31     		.short	12620
 2072 013e CA31     		.short	12746
 2073 0140 4A32     		.short	12874
 2074 0142 CA32     		.short	13002
 2075 0144 4C33     		.short	13132
 2076 0146 D033     		.short	13264
 2077 0148 5434     		.short	13396
 2078 014a DA34     		.short	13530
 2079 014c 6235     		.short	13666
 2080 014e EA35     		.short	13802
 2081 0150 7436     		.short	13940
 2082 0152 0037     		.short	14080
 2083 0154 8D37     		.short	14221
 2084 0156 1B38     		.short	14363
 2085 0158 AA38     		.short	14506
 2086 015a 3C39     		.short	14652
 2087 015c CE39     		.short	14798
 2088 015e 623A     		.short	14946
 2089 0160 F83A     		.short	15096
 2090 0162 8F3B     		.short	15247
 2091 0164 273C     		.short	15399
 2092 0166 C13C     		.short	15553
 2093 0168 5D3D     		.short	15709
 2094 016a FA3D     		.short	15866
 2095 016c 983E     		.short	16024
 2096 016e 383F     		.short	16184
 2097 0170 DA3F     		.short	16346
 2098 0172 7E40     		.short	16510
 2099 0174 2341     		.short	16675
 2100 0176 CA41     		.short	16842
 2101 0178 7242     		.short	17010
 2102 017a 1C43     		.short	17180
 2103 017c C843     		.short	17352
 2104 017e 7644     		.short	17526
 2105 0180 2545     		.short	17701
 2106 0182 D645     		.short	17878
 2107 0184 8946     		.short	18057
 2108 0186 3D47     		.short	18237
 2109 0188 F447     		.short	18420
 2110 018a AC48     		.short	18604
 2111 018c 6649     		.short	18790
 2112 018e 224A     		.short	18978
 2113 0190 DF4A     		.short	19167
 2114 0192 9F4B     		.short	19359
 2115 0194 614C     		.short	19553
 2116 0196 244D     		.short	19748
 2117 0198 EA4D     		.short	19946
 2118 019a B14E     		.short	20145
 2119 019c 7B4F     		.short	20347
 2120 019e 4650     		.short	20550
 2121 01a0 1451     		.short	20756
 2122 01a2 E351     		.short	20963
 2123 01a4 B552     		.short	21173
 2124 01a6 8953     		.short	21385
ARM GAS  /tmp/ccZtroRg.s 			page 53


 2125 01a8 5E54     		.short	21598
 2126 01aa 3655     		.short	21814
 2127 01ac 1156     		.short	22033
 2128 01ae ED56     		.short	22253
 2129 01b0 CB57     		.short	22475
 2130 01b2 AC58     		.short	22700
 2131 01b4 8F59     		.short	22927
 2132 01b6 745A     		.short	23156
 2133 01b8 5C5B     		.short	23388
 2134 01ba 465C     		.short	23622
 2135 01bc 325D     		.short	23858
 2136 01be 215E     		.short	24097
 2137 01c0 125F     		.short	24338
 2138 01c2 0560     		.short	24581
 2139 01c4 FB60     		.short	24827
 2140 01c6 F361     		.short	25075
 2141 01c8 EE62     		.short	25326
 2142 01ca EB63     		.short	25579
 2143 01cc EB64     		.short	25835
 2144 01ce ED65     		.short	26093
 2145 01d0 F266     		.short	26354
 2146 01d2 FA67     		.short	26618
 2147 01d4 0469     		.short	26884
 2148 01d6 116A     		.short	27153
 2149 01d8 206B     		.short	27424
 2150 01da 336C     		.short	27699
 2151 01dc 486D     		.short	27976
 2152 01de 5F6E     		.short	28255
 2153 01e0 7A6F     		.short	28538
 2154 01e2 9770     		.short	28823
 2155 01e4 B871     		.short	29112
 2156 01e6 DB72     		.short	29403
 2157 01e8 0174     		.short	29697
 2158 01ea 2A75     		.short	29994
 2159 01ec 5676     		.short	30294
 2160 01ee 8577     		.short	30597
 2161 01f0 B778     		.short	30903
 2162 01f2 EC79     		.short	31212
 2163 01f4 247B     		.short	31524
 2164 01f6 5F7C     		.short	31839
 2165 01f8 9D7D     		.short	32157
 2166 01fa DF7E     		.short	32479
 2167 01fc 2480     		.short	-32732
 2168 01fe 0000     		.space	2
 2169              		.text
 2170              	.Letext0:
 2171              		.file 2 "Drivers/Invn/InvBool.h"
 2172              		.file 3 "/mnt/NData/Softwares/gcc-arm-none-eabi-7-2018-q2-update/arm-none-eabi/include/machine/_de
 2173              		.file 4 "/mnt/NData/Softwares/gcc-arm-none-eabi-7-2018-q2-update/arm-none-eabi/include/sys/_stdint
 2174              		.file 5 "Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxSerif.h"
 2175              		.file 6 "/mnt/NData/Softwares/gcc-arm-none-eabi-7-2018-q2-update/arm-none-eabi/include/sys/lock.h"
 2176              		.file 7 "/mnt/NData/Softwares/gcc-arm-none-eabi-7-2018-q2-update/arm-none-eabi/include/sys/_types.
 2177              		.file 8 "/mnt/NData/Softwares/gcc-arm-none-eabi-7-2018-q2-update/lib/gcc/arm-none-eabi/7.3.1/inclu
 2178              		.file 9 "/mnt/NData/Softwares/gcc-arm-none-eabi-7-2018-q2-update/arm-none-eabi/include/sys/reent.h
 2179              		.file 10 "Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xx.h"
 2180              		.file 11 "Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxTransport.h"
 2181              		.file 12 "Drivers/Invn/Devices/Drivers/Icm207xx/Icm207xxCtrl.h"
ARM GAS  /tmp/ccZtroRg.s 			page 54


ARM GAS  /tmp/ccZtroRg.s 			page 55


DEFINED SYMBOLS
                            *ABS*:0000000000000000 Icm207xxSelfTest.c
     /tmp/ccZtroRg.s:18     .text.recover_settings:0000000000000000 $t
     /tmp/ccZtroRg.s:24     .text.recover_settings:0000000000000000 recover_settings
     /tmp/ccZtroRg.s:145    .text.save_settings:0000000000000000 $t
     /tmp/ccZtroRg.s:151    .text.save_settings:0000000000000000 save_settings
     /tmp/ccZtroRg.s:282    .text.do_test:0000000000000000 $t
     /tmp/ccZtroRg.s:288    .text.do_test:0000000000000000 do_test
     /tmp/ccZtroRg.s:745    .text.do_test:0000000000000268 $d
     /tmp/ccZtroRg.s:750    .text.check_accel_self_test:0000000000000000 $t
     /tmp/ccZtroRg.s:756    .text.check_accel_self_test:0000000000000000 check_accel_self_test
     /tmp/ccZtroRg.s:915    .text.check_accel_self_test:00000000000000bc $d
     /tmp/ccZtroRg.s:922    .text.check_gyro_self_test:0000000000000000 $t
     /tmp/ccZtroRg.s:928    .text.check_gyro_self_test:0000000000000000 check_gyro_self_test
     /tmp/ccZtroRg.s:1085   .text.check_gyro_self_test:00000000000000b4 $d
     /tmp/ccZtroRg.s:1092   .text.inv_icm207xx_run_selftest:0000000000000000 $t
     /tmp/ccZtroRg.s:1099   .text.inv_icm207xx_run_selftest:0000000000000000 inv_icm207xx_run_selftest
     /tmp/ccZtroRg.s:1395   .text.inv_icm207xx_run_selftest:0000000000000184 $d
     /tmp/ccZtroRg.s:1400   .text.inv_icm207xx_get_st_bias:0000000000000000 $t
     /tmp/ccZtroRg.s:1407   .text.inv_icm207xx_get_st_bias:0000000000000000 inv_icm207xx_get_st_bias
     /tmp/ccZtroRg.s:1651   .text.inv_icm207xx_set_st_bias:0000000000000000 $t
     /tmp/ccZtroRg.s:1658   .text.inv_icm207xx_set_st_bias:0000000000000000 inv_icm207xx_set_st_bias
     /tmp/ccZtroRg.s:1903   .text.inv_icm207xx_set_st_bias:0000000000000138 $d
     /tmp/ccZtroRg.s:1908   .rodata.sSelfTestEquation:0000000000000000 $d
     /tmp/ccZtroRg.s:1912   .rodata.sSelfTestEquation:0000000000000000 sSelfTestEquation

UNDEFINED SYMBOLS
inv_icm207xx_mems_write_reg_one
inv_icm207xx_mems_read_reg
inv_icm207xx_sleep
